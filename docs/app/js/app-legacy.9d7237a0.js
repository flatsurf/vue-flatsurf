(function(){"use strict";var e={3763:function(e,n,t){var s=t(144),i=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("v-app",[t("v-main",[t("v-container",{staticClass:"container",attrs:{fluid:""}},[t("router-view")],1),t("overlay",{attrs:{cancellation:e.overlay,progress:e.progress}})],1),t("router-view",{attrs:{name:"menu"}}),t("bottom-navigation")],1)},a=[],o=t(655),r=t(3545),l=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{ref:"container",class:{pan:e.pan},on:{mousedown:function(n){e.pan=!0},mouseup:function(n){e.pan=!1}}},[null!=e.viewport?e._t("default",null,{viewport:e.viewport}):e._e()],2)},d=[],u=t(7019);class h{constructor(e,n,t){this.parent=e,this.value="number"===typeof n?new u.ZP.Point(n,t):n}get x(){return this.value.x}get y(){return this.value.y}get xy(){return[this.x,this.y]}equalTo(e,n=0){return this.parent===e.parent?Math.abs(this.x-e.x)<=n&&Math.abs(this.y-e.y)<=n:this.parent.embed(e).equalTo(this)}toString(){return`(${this.x}, ${this.y})`}on(e){return e.parent.embed(this).value.on(e.value)}translate(e){return new h(this.parent,this.value.translate(this.parent.embed(e).value))}parent;value}var c=t(4875);class g{constructor(e,n,t){this.parent=e,n instanceof u.ZP.Box?this.value=n.clone():(console.assert(t instanceof Array),this.value=new u.ZP.Box(Math.min(n[0],t[0]),Math.min(n[1],t[1]),Math.max(n[0],t[0]),Math.max(n[1],t[1])))}static bbox(e){if(0===e.length)throw Error("cannot create bounding box of nothing");const n=e.map((e=>e instanceof h?new g(e.parent,[e.value.x,e.value.y],[e.value.x,e.value.y]):new g(e.parent,e.value.box)));return n.reduce(((e,n)=>e.merge(n)))}contain(e){return this.aspectRatio<e?new g(this.parent,[this.value.xmin-(this.height*e-this.width)/2,this.value.ymin],[this.value.xmax+(this.height*e-this.width)/2,this.value.ymax]):new g(this.parent,[this.value.xmin,this.value.ymin-(this.width/e-this.height)/2],[this.value.xmax,this.value.ymax+(this.width/e-this.height)/2])}merge(e){return new g(this.parent,this.value.merge(this.parent.embed(e).value.box))}translate(e){e=this.parent.embed(e);const n=e.value.x,t=e.value.y;return new g(this.parent,[this.value.xmin+n,this.value.ymin+t],[this.value.xmax+n,this.value.ymax+t])}get low(){return new h(this.parent,this.value.xmin,this.value.ymin)}get high(){return new h(this.parent,this.value.xmax,this.value.ymax)}get aspectRatio(){return this.width/this.height}get width(){return this.value.xmax-this.value.xmin}get center(){return new h(this.parent,(this.value.xmin+this.value.xmax)/2,(this.value.ymin+this.value.ymax)/2)}get height(){return this.value.ymax-this.value.ymin}toPoints(){return this.value.toPoints().map((e=>new h(this.parent,e)))}equalTo(e,n=0){return this.parent===e.parent?this.low.equalTo(e.low,n)&&this.high.equalTo(e.high,n):this.parent.embed(e).box.equalTo(this)}parent;value}class f{constructor(e,n){if(this.parent=e,n instanceof u.ZP.Polygon)this.value=n;else{if(!(n instanceof Array))throw Error("Cannot create polygon from this data.");this.value=new u.ZP.Polygon;for(const t of n)this.value.addFace(t.map((n=>e.embed(n).value)))}}translate(e){return new f(this.parent,this.value.translate(this.parent.embed(e).value))}get convexHull(){return f.convexHull(this.vertices)}static convexHull(e){console.assert(0!==e.length);const n=e[0].parent,t=e.map((e=>n.embed(e).value));console.assert(t.some((e=>!e.equalTo(t[0]))));const s=[t.reduce(((e,n)=>e.x<n.x?e:e.x>n.x?n:e.y<n.y?e:n))];do{const e=s[s.length-1];let n=t[0].equalTo(e)?t[1]:t[0];for(let s of t)s.leftTo(new u.ZP.Line(e,n))&&(n=s);if(s.push(n),s.length>t.length+1){console.error("Convex Hull incorrect");break}}while(!s[s.length-1].equalTo(s[0]));s.pop();const i=new u.ZP.Polygon;return i.addFace(s),new f(n,i)}get boundingRect(){const e=this.convexHull;let n=1/0,t=null;for(const s of e.value.edges){const i=s.shape,a=i.tangentInStart(),o=new u.ZP.Vector(1,0).angleTo(a),r=new u.ZP.Matrix(Math.cos(-o),-Math.sin(-o),Math.sin(-o),Math.cos(-o)),l=e.value.transform(r),d=l.area();d<n&&(n=d,t=new f(this.parent,new u.ZP.Polygon(l.box.toPoints()).transform(m(r))))}return t}get box(){return new g(this.parent,this.value.box)}get vertices(){return this.value.vertices.map((e=>new h(this.parent,e)))}get faces(){const e=[...this.value.faces];return e.map((e=>e.edges.map((e=>new h(this.parent,e.start)))))}equalTo(e,n=0){if(e instanceof f){const t=this.faces,s=e.faces;if(t.length!==s.length)return!1;const i=(e,t)=>{if(e.length!==t.length)return!1;for(let s=0;s<e.length;s++)if([...e.keys()].every((i=>e[i].equalTo(t[(i+s)%t.length],n))))return!0;return!1};for(const e of t){const n=(0,c.Z)(s,(n=>i(e,n)));if(-1===n)return!1;s.splice(n,1)}return!0}{const t=e.toPoints();return this.parent.positive===e.parent.positive&&t.reverse(),this.equalTo(new f(this.parent,[t]),n)}}area(){return this.value.area()}parent;value}class p{constructor(e,n,t){if(this.parent=e,"number"===typeof n&&"number"===typeof t)this.value=new u.ZP.Vector(n,t);else if(n instanceof u.ZP.Vector&&null==t)this.value=n;else{if(!(n instanceof h&&t instanceof h))throw Error(`Cannot initialize Vector from this data: parent=${e}, x=${n}, y=${t}`);{const s=e.embed(n),i=e.embed(t);this.value=new u.ZP.Vector(s.value,i.value)}}}static parse(e,n){return new p(n,e.x,e.y)}get x(){return this.value.x}get y(){return this.value.y}get xy(){return[this.x,this.y]}rotate90CW(){return new p(this.parent,this.parent.positive?this.value.rotate90CW():this.value.rotate90CCW())}rotate90CCW(){return new p(this.parent,this.parent.positive?this.value.rotate90CCW():this.value.rotate90CW())}normalize(){return new p(this.parent,this.value.normalize())}multiply(e){return new p(this.parent,this.value.multiply(e))}angleTo(e){return this.parent.positive?this.parent.embed(e).value.angleTo(this.value):this.value.angleTo(this.parent.embed(e).value)}invert(){return new p(this.parent,this.value.invert())}add(e){return new p(this.parent,this.value.add(this.parent.embed(e).value))}equalTo(e,n=0){return this.parent===e.parent?Math.abs(this.x-e.x)<=n&&Math.abs(this.y-e.y)<=n:this.parent.embed(e).equalTo(this)}parent;value}class v{constructor(e,n,t){if(e instanceof x||(console.assert(n instanceof h,n),({parent:e,value:n,end:t}={parent:e.parent,value:e.value,end:e.parent.embed(n).value})),this.parent=e,void 0!==t){const e=n;this.value=new u.ZP.Segment(e,t)}else this.value=n}get start(){return new h(this.parent,this.value.start)}get middle(){return new h(this.parent,this.value.middle())}get end(){return new h(this.parent,this.value.end)}get tangentInStart(){return new p(this.parent,this.value.tangentInStart())}get tangentInEnd(){return new p(this.parent,this.value.tangentInEnd())}at(e){return this.start.translate(new p(this.parent,this.start,this.end).multiply(e))}translate(e){return e=this.parent.embed(e),new v(this.parent,this.value.translate(e.value))}intersect(e){const n=e.parent.embed(this).value.intersect(e.value).map((n=>new h(e.parent,n)));return this.start.on(e)&&n.push(this.start),this.end.on(e)&&n.push(this.end),n}intersects(e){return e instanceof f?u.ZP.Relations.intersect(e.parent.embed(this).value,e.value):this.intersects(new f(e.parent,[[e.start,e.end]]))}relativize(e){const n=this.value.tangentInStart(),t=new p(this.parent,this.start,e).value;return n.dot(t)/this.value.length}touch(e){return u.ZP.Relations.touch(e.parent.embed(this).value,e.value)}toString(){return`((${this.value.start.x}, ${this.value.start.y}), (${this.value.end.x}, ${this.value.end.y}))`}get length(){return this.value.length}equalTo(e,n=0){return this.start.equalTo(e.start,n)&&this.end.equalTo(e.end,n)}reverse(){return new v(this.parent,this.value.reverse())}parent;value}class y{constructor(e,n){this.parent=e.parent,this.value=new u.ZP.Line(e.value,this.parent.embed(n).value)}intersect(e){const n=e.parent.embed(this).value.intersect(e.value).map((n=>new h(e.parent,n)));if(0===n.length)return null;if(1!==n.length)throw Error("not implemented: Line.intersection()");return n[0]}get pt(){return new h(this.parent,this.value.pt)}get norm(){return new p(this.parent,this.value.norm)}parent;value}function m(e){const[n,t,s,i,a,o,r,l,d]=[e.a,e.c,e.tx,e.b,e.d,e.ty,0,0,1],h=[a*d-l*o,i*d-r*o,i*l-r*a,t*d-l*s,n*d-r*s,n*l-r*t,t*o-a*s,n*o-i*s,n*a-i*t],c=n*h[0]-t*h[1]+s*h[2],g=[h[0],-h[3],h[6],-h[1],h[4],-h[7],h[2],-h[5],h[8]].map((e=>e/c)),f=g.map((e=>e/g[8]));return console.assert(f.every((e=>null!=e)),`Matrix ${e} must be invertible.`),new u.ZP.Matrix(f[0],f[3],f[1],f[4],f[2],f[5])}class x{constructor(e){this.positive=e}positive;embedInto(e,n,t){if(void 0!==n&&"embedding"in n&&(console.assert(void 0===t),t=n,n=void 0),void 0===n)return console.assert(void 0===t),n=new u.ZP.Matrix,this.positive!==e.positive&&(n=new u.ZP.Matrix(1,0,0,-1)),this.embedInto(e,n,t);if(console.assert(n instanceof u.ZP.Matrix),null==n.tx||null==n.ty||!(n.a*n.d-n.b*n.c))throw Error(`Embedding matrix is not invertible: ${JSON.stringify(n)}`);let s=this.lookup(e);return null==s?void 0!==t&&console.warn("No token expected when resetting embedding of coordinate systems. No embedding between these coordinate systems could be found."):void 0===t?console.warn("Expected a token when resetting embedding of coordinate systems but no token found."):t!==s.embedding&&console.warn("Expected correct token when resetting embedding of coordinate systems but the token was not the one last returned when the embedding was established."),null==s&&(this.insert(e,n),s=this.lookup(e)),console.assert(null!=s),console.assert(null!=s.embedding.embedding,"Invalidated embedding found in registered embeddings."),x.update(s,n),s.embedding}reset(e){const n=x.registered.get(this);if(void 0===n)throw Error("Cannot reset embedding of this coordinate systems as none is registered anymore.");for(const t of n.keys()){const s=n.get(t);if(s.embedding==e)return x.invalidate(s),n.delete(t),void(0===n.size&&x.registered.delete(this))}throw Error("Cannot reset embedding. No embedding registered for this token.")}embed(e){const n=this===e.parent?new u.ZP.Matrix:e.parent.discover(this);if(console.assert(null!=n.tx&&null!=n.ty&&n.a*n.d-n.b*n.c,"Discovered an embedding that is not invertible.",n),e instanceof g){const n=new u.ZP.Polygon;return n.addFace(e.toPoints().map((e=>this.embed(e).value))),new f(this,n)}if(e instanceof h)return new h(this,e.value.transform(n));if(e instanceof p){const n=this.embed(new h(e.parent,e.x,e.y)),t=this.embed(new h(e.parent,0,0));return new p(this,n.x-t.x,n.y-t.y)}if(e instanceof v)return new v(this,this.embed(e.start).value,this.embed(e.end).value);if(e instanceof y)return new y(this.embed(e.pt),this.embed(e.norm));if(e instanceof f)return new f(this,new u.ZP.Polygon([...e.value.faces].map((n=>n.edges.map((n=>this.embed(new h(e.parent,n.start)).value))))));throw Error("cannot embed this type of object into coordinate system yet")}static registered=new Map;static discovered=new Map;lookup(e){return x.registered.get(this)?.get(e)||null}insert(e,n){x.registered.has(this)||x.registered.set(this,new Map),console.assert(!x.registered.get(this).has(e)),x.registered.get(this).set(e,{embedding:s.Z.observable({embedding:Object.freeze(n)}),dependents:[]})}static update(e,n){if(null===e.embedding.embedding)throw Error("Cannot update existing embedding if it is already invalidated.");e.embedding.embedding.equalTo(n)||(x.invalidate(e),e.embedding.embedding=Object.freeze(n))}static invalidate(e){if(null===e.embedding.embedding)throw Error("Cannot invalidate embedding if it is already invalidated.");e.embedding.embedding=null;for(const{domain:n,codomain:t}of e.dependents){if(!x.discovered.has(n))continue;if(!x.discovered.get(n).has(t))continue;const e=x.discovered.get(n).get(t);e.embedding=null,x.discovered.get(n).delete(t),0===x.discovered.get(n).size&&x.discovered.delete(n)}e.dependents=[]}discover(e){let n;if(console.assert(this!==e),x.registered.has(this)&&x.registered.get(this).has(e))n=x.registered.get(this).get(e).embedding;else{if(!x.discovered.has(this)||!x.discovered.get(this).has(e)){const n=new Set,t=[],i=a=>{if(a===e){let n=new u.ZP.Matrix;for(const{definition:s,dependency:a}of t)"embedding"in s?(console.assert(s.embedding.embedding),n=s.embedding.embedding.multiply(n)):(console.assert(s.inverse.embedding),n=n.multiply(m(s.inverse.embedding))),a.dependents.push({domain:this,codomain:e});const i=s.Z.observable({embedding:Object.freeze(n)});return x.discovered.has(this)||x.discovered.set(this,new Map),x.discovered.get(this).set(e,i),i}const o=(e,s,a)=>{if(n.has(e))return null;t.push({definition:s,dependency:a});try{return n.add(e),i(e)}finally{t.pop()}};if(x.registered.has(a))for(const e of x.registered.get(a).keys()){const n=x.registered.get(a).get(e),t=o(e,{embedding:n.embedding},n);if(null!==t)return t}for(const e of x.registered.keys())if(x.registered.get(e).has(a)){const n=x.registered.get(e).get(a),t=o(e,{inverse:n.embedding},n);if(null!==t)return t}return null},a=i(this);if(null===a)throw Error("No embedding could be constructed between these coordinate systems.");return console.assert(null!==a.embedding),a.embedding}n=x.discovered.get(this).get(e)}return console.assert(null!==n.embedding),n.embedding}}class E{constructor(e,n=640,t=640){if(this.idealCoordinateSystem=e||new x(!0),!this.idealCoordinateSystem.positive)throw new Error("ideal coordinate system must be positive");if(0===n||0===t)throw new Error("cannot initialize viewport to be an empty box");this.viewportCoordinateSystem=new x(!1),this.dimensions={width:n,height:t},this.visible=new g(this.viewportCoordinateSystem,[0,0],[n,t]),this.focused=this.visible}resize(e,n){if(0===e||0===e)throw Error("Cannot resize viewport to an empty box.");this.dimensions={width:e,height:n},this.focus(this.focused)}focus(e){if(void 0===this.token&&(this.token=this.idealCoordinateSystem.embedInto(this.viewportCoordinateSystem)),null===this.token)throw Error("Cannot change focus on a viewport that has already been destroyed.");const n=this.idealCoordinateSystem.embed(e).box;console.assert(null!=n.low.x&&null!=this.focused.low.y&&null!=this.focused.high.x&&null!=this.focused.high.y,"Focus not well-formed."),this.focused=n,this.visible=this.focused.contain(this.width/this.height),this.token=Object.freeze(this.idealCoordinateSystem.embedInto(this.viewportCoordinateSystem,new u.ZP.Matrix(this.width/this.visible.width,0,0,-this.height/this.visible.height,-this.visible.low.x*this.width/this.visible.width,this.visible.high.y*this.height/this.visible.height),this.token))}zoom(e,n){if(void 0===n){n=this.viewport.center,n=this.focused.parent.embed(n);const t=this.focused.width/e,s=this.focused.height/e;this.focus(new g(this.focused.parent,[n.x-t/2,n.y-s/2],[n.x+t/2,n.y+s/2]))}else{n=this.idealCoordinateSystem.embed(n);const t=this.viewportCoordinateSystem.embed(n);this.zoom(e);const s=this.viewportCoordinateSystem.embed(n);this.focus(this.viewport.translate(new p(this.viewportCoordinateSystem,t,s)))}}destroy(){null!=this.token&&this.idealCoordinateSystem.reset(this.token),this.token=null}embed(e){return this.viewportCoordinateSystem.embed(e)}get viewport(){return this.viewportCoordinateSystem.embed(this.visible).box}get width(){return this.dimensions.width}get height(){return this.dimensions.height}dimensions;idealCoordinateSystem;viewportCoordinateSystem;focused;visible;token}var w=t(4906),b=t.n(w);let C=class extends r.w3{coordinateSystem;value;observer=new ResizeObserver(this.resize);unpanzoom=()=>{};pan=!1;viewport=null;container;dimensions=null;resize(){const e=this.redimension();if(null==this.viewport)throw Error("Cannot resize viewport before PanZoom has been mounted.");this.viewport.resize(e.width,e.height),this.refocus(this.viewport.viewport)}refocus(e){if(null==this.viewport)throw Error("Cannot change focus in PanZoom before it has been mounted.");if(null==e)return;const n=()=>{if(e instanceof g)try{return!e.equalTo(this.viewport.viewport)}catch{return!0}return!0};n()&&(this.viewport.focus(e),console.assert(JSON.stringify(e)!==JSON.stringify(this.viewport.viewport),"Changing focus to %s did not modify viewport.",JSON.stringify(e))),(null==this.value||n())&&this.$emit("input",this.viewport.viewport)}onCoordinateSystemChange(){const e=null==this.value?null:this.coordinateSystem.embed(this.value);this.cleanup(),this.initialize(),this.refocus(e)}mounted(){this.unpanzoom=b()(this.$el,this.panzoom),this.observer.observe(this.container),this.initialize(),this.refocus(this.value)}initialize(){const e=this.redimension();this.viewport=new E(this.coordinateSystem,e.width,e.height)}beforeDestroy(){this.unpanzoom(),this.observer.unobserve(this.container),this.cleanup()}cleanup(){null!=this.viewport&&this.viewport.destroy(),this.viewport=null}redimension(){if(null==this.container)throw Error("Cannot determine dimensions of PanZoom before it has been mounted.");if(this.dimensions={width:Math.min(this.container.clientWidth,window.innerWidth),height:Math.min(this.container.clientHeight,window.innerHeight)},(navigator.userAgent.includes("Node.js")||navigator.userAgent.includes("jsdom"))&&(this.dimensions={width:640,height:480}),0===this.dimensions.width)throw Error("PanZoom must explicitly have non-zero width.");if(0===this.dimensions.height)throw Error("PanZoom must explicitly have non-zero height.");return this.dimensions}panzoom(e){console.assert(null!=this.viewport,"PanZoom cannot receive events before it has been mounted."),0!==e.dz?this.viewport.zoom(Math.exp(-e.dz/96),new h(this.viewport.viewportCoordinateSystem,e.x,e.y)):this.viewport.focus(this.viewport.viewport.translate(new p(this.viewport.viewportCoordinateSystem,-e.dx,-e.dy))),this.$emit("input",this.viewport.viewport)}};(0,o.gn)([(0,r.fI)({required:!0,type:x})],C.prototype,"coordinateSystem",void 0),(0,o.gn)([(0,r.fI)({required:!1,default:null,type:Object})],C.prototype,"value",void 0),(0,o.gn)([(0,r.Rl)()],C.prototype,"container",void 0),(0,o.gn)([(0,r.RL)("value")],C.prototype,"refocus",null),(0,o.gn)([(0,r.RL)("coordinateSystem")],C.prototype,"onCoordinateSystemChange",null),C=(0,o.gn)([r.wA],C);var k=C,S=k,_=t(1001),I=(0,_.Z)(S,l,d,!1,null,"6d8cb780",null),q=I.exports,Z=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("pan-zoom",{attrs:{"coordinate-system":e.idealCoordinateSystem},scopedSlots:e._u([{key:"default",fn:function(n){var s=n.viewport;return[null!=e.layout?t("flatsurf",{ref:"flatsurf",attrs:{width:s.width,height:s.height,triangulation:e.triangulation,layout:e.layout,"viewport-coordinate-system":s.viewportCoordinateSystem,"visualization-options":e.visualizationOptions,"flow-components":e.visibleFlowComponents,"saddle-connections":e.saddleConnections,paths:e.paths},on:{dblclick:function(n){e.focus=e.layout.hull}}},[e._t("interaction",null,{layout:e.layout,svg:s.viewportCoordinateSystem,triangulation:e.triangulation,options:e.visualizationOptions,focus:e.focus,refocus:e.refocus})],2):e._e()]}}],null,!0),model:{value:e.focus,callback:function(n){e.focus=n},expression:"focus"}})},O=[];class P{constructor(e){this.positive=Math.abs(e),this.negative=-this.positive}toString(){return this.positive.toString()}positive;negative}class j{get(e){if(this.ensure(e),e instanceof P){const n=e;return this.edges[n.positive]}return this.halfEdges[e]}ensure(e){if(e instanceof P){const n=e;void 0===this.edges[n.positive]&&s.Z.set(this.edges,n.positive,{indicator:null,selected:!1,visible:!0,label:null,icon:null})}else void 0===this.halfEdges[e]&&s.Z.set(this.halfEdges,e,{indicator:null,selected:!1,visible:!1,label:null,icon:null})}indicate(e,n){if(this.ensure(e),e instanceof P){const t=e;this.edges[t.positive].indicator=n}else this.halfEdges[e].indicator=n}select(e,n){if(this.ensure(e),e instanceof P){const t=e;this.edges[t.positive].selected=n}else this.halfEdges[e].selected=n}show(e,n){if(this.ensure(e),e instanceof P){const t=e;this.edges[t.positive].visible=n}else this.halfEdges[e].visible=n}label(e,n){if(this.ensure(e),e instanceof P){const t=e;this.edges[t.positive].label=n}else this.halfEdges[e].label=n}icon(e,n){if(this.ensure(e),e instanceof P){const t=e;this.edges[t.positive].icon=n}else this.halfEdges[e].icon=n}halfEdges={};edges={}}var $=t(6997);async function T(e,n){await new Promise((t=>{const s=(0,$.Z)(n).map((n=>e.$watch(n,(()=>{for(const e of s)e();t()}))))}))}var A=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("svg",e._g({},e.$listeners),[e._t("background"),e._t("triangulation",[null!=e.layout?t("flat-triangulation-component",{attrs:{layout:e.layout,svg:e.svgCoordinateSystem,options:e.visualizationOptions}},[e._t("components",e._l(e.flowComponents,(function(n,s){return t("flow-component-component",{key:s,attrs:{color:e.palette.color(s),component:n,layout:e.layout,surface:e.triangulation,svg:e.svgCoordinateSystem}})})))],2):e._e(),e._t("connections",e._l(e.saddleConnections,(function(n,s){return t("saddle-connection-component",{key:s,attrs:{svg:e.svgCoordinateSystem,layout:e.layout,connection:n}})}))),e._t("paths",e._l(e.paths,(function(n,s){return t("path-component",{key:s,attrs:{svg:e.svgCoordinateSystem,layout:e.layout,path:n}})})))]),e._t("default")],2)},L=[],V=t(5225),R=t.n(V);class z{constructor(e=2,n="fancy-light"){this.palette=R()(e>=2?e:2,{seed:1337,colorSpace:n})}color(e){return e>=this.palette.length&&console.warn("Color outside of palette bounds requested."),this.palette[e%this.palette.length]}palette}var M=t(5259),N=t(5001);class H{constructor(e){this.svg=e.cloneNode(!0),this.styles=[e,...e.getElementsByTagName("*")].map(this.computedStyle),"svg"!==this.svg.tagName&&(e=document.createElement("svg"),e.appendChild(this.svg),this.svg=e,this.styles.unshift({})),this.svg.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.svg.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink")}get children(){return[this.svg,...this.svg.getElementsByTagName("*")]}computedStyle(e){const n=window.getComputedStyle(e),t={};for(let s=0;s<n.length;s++)t[n[s]]=n.getPropertyValue(n[s]);return t}index(e){const n=this.children;console.assert(n.length==this.styles.length);for(let t=0;t<n.length;t++)if(n[t]===e)return t;throw Error("Element not found in DOM tree.")}dropClasses(){for(const e of this.children)e.removeAttribute("class")}dropPrefixedStyles(){this.styles=this.styles.map((e=>Object.fromEntries(Object.entries(e).filter((([e,n])=>!e.startsWith("-"))))))}dropInvisible(){const e=this.children;console.assert(e.length===this.styles.length);const n={},t=e=>{const s=this.index(e);s in n||(n[s]=e,[...e.children].forEach(t))};for(let s=1;s<e.length;s++){const n=e[s],i=this.styles[s];"hidden"!==i["visibility"]&&"none"!==i["display"]||t(n)}this.styles=this.styles.filter(((e,t)=>!(t in n)));for(const s of Object.values(n))null!=s.parentNode&&s.parentNode.removeChild(s);console.assert(this.children.length===this.styles.length),this.styles=this.styles.map((e=>Object.fromEntries(Object.entries(e).filter((([e,n])=>"visibility"!==e&&"display"!==e)))))}dropRedundantStyles(){const e=this.children;console.assert(e.length===this.styles.length);for(let n=e.length;n--;){const t=e[n],s=t.parentNode;if(null==s)continue;const i=this.styles[this.index(s)];this.styles[n]=Object.fromEntries(Object.entries(this.styles[n]).filter((([e,n])=>i[e]!=n)))}}dropCustomAttributes(){for(const e of this.children)[...e.attributes].forEach((n=>{n.name.includes("-")&&e.removeAttribute(n.name)}))}static standard=["cx","cy","height","width","x","y","r","rx","ry","d","fill","transform","alignment-baseline","baseline-shift","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-rendering","cursor","direction","display","dominant-baseline","fill-opacity","fill-rule","filter","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","glyph-orientation-horizontal","glyph-orientation-vertical","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","mask","opacity","overflow","paint-order","pointer-events","shape-rendering","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-overflow","text-rendering","unicode-bidi","vector-effect","visibility","white-space","word-spacing","writing-mode","display","overflow","visibility","text-overflow","clip-path","clip-rule","mask","color","opacity","color-interpolation-filters","filter","flood-color","flood-opacity","lighting-color","isolation","transform","transform-box","transform-origin","letter-spacing","text-align","text-align-last","text-indent","word-spacing","white-space","vertical-align","dominant-baseline","alignment-baseline","baseline-shift","direction","text-orientation","writing-mode","font","text-decoration","text-decoration-line","text-decoration-style","text-decoration-color"];dropNonStandardStyles(){this.styles=this.styles.map((e=>Object.fromEntries(Object.entries(e).filter((([e,n])=>!!H.standard.includes(e)||(!!e.startsWith("font-")||void 0))))))}usePresentationAttributes(){const e=this.children;console.assert(e.length===this.styles.length);for(let n=e.length;n--;){const t=e[n],s=(e,n)=>{t.hasAttribute(e)||t.setAttribute(e,n)};this.styles[n]=Object.fromEntries(Object.entries(this.styles[n]).filter((([e,n])=>["cx","cy"].includes(e)?!!["circle","ellipse"].includes(t.tagName)&&s(e,n):["height","width","x","y"].includes(e)?!!["foreignObject","image","rect","svg","symbol","use"].includes(t.tagName)&&s(e,n):["r"].includes(e)?!!["circle"].includes(t.tagName)&&s(e,n):["rx","ry"].includes(e)?!!["ellipse","rect"].includes(t.tagName)&&s(e,n):["d"].includes(e)?(["path"].includes(t.tagName)&&s(e,n),!1):["fill"].includes(e)?(["animate","set","animateMotion"].includes(t.tagName)||s(e,n),!1):["transform"].includes(e)&&"none"!=n?(["pattern","linearGradien","radialGradient"].includes(t.tagName)?["pattern"].includes(t.tagName)?s("patternTransform",n):["linearGradient","radialGradient"].includes(t.tagName)&&s("gradientTransform",n):s(e,n),!1):!["alignment-baseline","baseline-shift","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-rendering","cursor","direction","display","dominant-baseline","fill-opacity","fill-rule","filter","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","glyph-orientation-horizontal","glyph-orientation-vertical","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","mask","opacity","overflow","paint-order","pointer-events","shape-rendering","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-overflow","text-rendering","unicode-bidi","vector-effect","visibility","white-space","word-spacing","writing-mode"].includes(e)||(s(e,n),!1))))}}simplifyColors(){const e=this.children;console.assert(e.length===this.styles.length);const n=(e,n,t,s=null)=>{e.getAttribute(t)&&delete n[t],null!=s&&e.getAttribute(s)&&delete n[s];const i=n[t];if(null==i||"none"==i)return;const a=(0,N.Z)(i),o=a[3];null!=s&&(n[s]=String(Number(e.getAttribute(s)||n[s]||1)*o),e.removeAttribute(s)),n[t]=`rgb(${255*a[0]}, ${255*a[1]}, ${255*a[2]})`};for(let t=e.length;t--;){const s=e[t],i=this.styles[t];n(s,i,"fill","fill-opacity"),n(s,i,"stroke","stroke-opacity"),n(s,i,"color"),n(s,i,"text-decoration"),n(s,i,"text-decoration-color"),this.styles[t]=i}}dropTrivialStyles(){this.styles=this.styles.map((e=>Object.fromEntries(Object.entries(e).filter((([e,n])=>("transform"!=e||"none"!=n)&&("filter"!=e||"none"!=n))))))}dropNonInkscapeStyles(){this.styles=this.styles.map((e=>Object.fromEntries(Object.entries(e).filter((([e,n])=>"font-synthesis"!=e&&("vertical-align"!=e&&("transform-origin"!=e&&("transform-box"!=e&&("text-overflow"!=e&&("text-align-last"!=e&&("mask"!=e&&("font-optical-sizing"!=e&&("font-language-override"!=e&&("font-kerning"!=e&&("clip-path"!=e&&(("transform"!=e||"none"!=n)&&(!!H.standard.includes(e)||(!!e.startsWith("font-")||void 0))))))))))))))))))}dropInteractiveStyles(){this.styles=this.styles.map((e=>Object.fromEntries(Object.entries(e).filter((([e,n])=>"cursor"!=e&&"pointer-events"!=e)))))}inlineStyles(){const e=this.children;console.assert(e.length==this.styles.length);for(let n=0;n<e.length;n++){const t=e[n],s=Object.entries(this.styles[n]).map((([e,n])=>`${e}: ${n};`)).join(" ");s?t.setAttribute("style",s):t.removeAttribute("style")}}toString(e=!0){let n=this.svg.outerHTML;return e&&(n=(0,M.tL)(n).data),n}svg;styles=[]}var B=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("g",{staticClass:"FlatTriangulation"},[e._t("faces",[t("g",e._l(e.faces,(function(n,s){return t("face",{key:s,attrs:{vertices:n,svg:e.svg}})})),1)]),e._t("default"),e._t("edges",[t("g",e._l(e.halfEdges,(function(n){return t("half-edge-component",{key:n,attrs:{layout:e.layout,"half-edge":n,"source-indicator":e.sourceIndicators.includes(n),options:e.options.get(n),svg:e.svg}})})),1),t("g",e._l(e.edges,(function(n){return t("edge-component",{key:n.positive,attrs:{layout:e.layout,edge:n,svg:e.svg,options:e.options.get(n)}})})),1)]),e._t("overlay")],2)},F=[],G=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("ngon",{attrs:{vertices:e.vertices,svg:e.svg}})},W=[],U=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("polygon",{attrs:{points:e.points}})},D=[];let J=class extends r.w3{vertices;svg;get points(){return this.vertices.map((e=>(e=this.svg.embed(e),`${e.x},${e.y}`))).join(",")}};(0,o.gn)([(0,r.fI)({required:!0,type:Array})],J.prototype,"vertices",void 0),(0,o.gn)([(0,r.fI)({required:!0,type:Object})],J.prototype,"svg",void 0),J=(0,o.gn)([r.wA],J);var Q=J,Y=Q,X=(0,_.Z)(Y,U,D,!1,null,null,null),K=X.exports;let ee=class extends r.w3{vertices;svg};(0,o.gn)([(0,r.fI)({required:!0,type:Array})],ee.prototype,"vertices",void 0),(0,o.gn)([(0,r.fI)({required:!0,type:Object})],ee.prototype,"svg",void 0),ee=(0,o.gn)([(0,r.wA)({components:{Ngon:K}})],ee);var ne=ee,te=ne,se=(0,_.Z)(te,G,W,!1,null,"0ce8ccfc",null),ie=se.exports,ae=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("g",{staticClass:"HalfEdge"},[e.options.label?t("g",{staticClass:"label"},[t("segment-label",{attrs:{at:e.segment,svg:e.svg}},[e._v(e._s(e.options.label))])],1):e._e(),null!=e.options.indicator?t("arrow",{staticClass:"indicator",attrs:{segment:e.indicatorPosition(e.halfEdge),svg:e.svg}}):e._e(),e.sourceIndicator?t("arrow",{staticClass:"source",attrs:{segment:e.source,svg:e.svg}}):e._e(),t("segment-component",{class:{selected:e.options.selected},attrs:{segment:e.segment,svg:e.svg}}),e.options.icon?t("segment-icon",{attrs:{segment:e.segment,svg:e.svg,icon:e.options.icon}}):e._e()],1)},oe=[],re=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("line",{ref:"line",staticClass:"segment",class:{animated:e.animated},style:{"--length":e.length},attrs:{x1:e.coords[0],y1:e.coords[1],x2:e.coords[2],y2:e.coords[3]}})},le=[];let de=class extends r.w3{segment;svg;animated;line;onAnimationEnd=()=>this.$emit("animationend");onAnimated(){this.animated?this.line.addEventListener("animationend",this.onAnimationEnd):this.line.removeEventListener("animationend",this.onAnimationEnd)}mounted(){this.onAnimated()}get coords(){const e=this.svg.embed(this.segment);return[e.start.x,e.start.y,e.end.x,e.end.y]}get length(){const e=this.svg.embed(this.segment);return e.length}};(0,o.gn)([(0,r.fI)({required:!0,type:Object})],de.prototype,"segment",void 0),(0,o.gn)([(0,r.fI)({required:!0,type:Object})],de.prototype,"svg",void 0),(0,o.gn)([(0,r.fI)({required:!1,type:Boolean,default:!1})],de.prototype,"animated",void 0),(0,o.gn)([(0,r.Rl)()],de.prototype,"line",void 0),(0,o.gn)([(0,r.RL)("animated")],de.prototype,"onAnimated",null),de=(0,o.gn)([r.wA],de);var ue=de,he=ue,ce=(0,_.Z)(he,re,le,!1,null,"35f5d5bd",null),ge=ce.exports,fe=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("g",{attrs:{transform:e.transformation}},[t("text",[e._t("default")],2)])},pe=[];let ve=class extends r.w3{at;svg;get position(){const e=this.at.middle;let n=this.svg.embed(this.at.tangentInStart.rotate90CCW()).normalize();return this.svg.embed(e).translate(n.multiply(12))}get transformation(){return`translate(${this.position.x} ${this.position.y}) translate(6 4)`}};(0,o.gn)([(0,r.fI)({required:!0,type:Object})],ve.prototype,"at",void 0),(0,o.gn)([(0,r.fI)({required:!0,type:Object})],ve.prototype,"svg",void 0),ve=(0,o.gn)([r.wA],ve);var ye=ve,me=ye,xe=(0,_.Z)(me,fe,pe,!1,null,"8a8e0b64",null),Ee=xe.exports,we=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("g",{staticClass:"arrow"},[t("line",{attrs:{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2}}),t("path",{attrs:{d:"M 0 -3 L 12 0 L 0 3 z",transform:e.atEnd,"stroke-width":"0"}})])},be=[];let Ce=class extends r.w3{segment;svg;get x1(){return this.svg.embed(this.segment.start).x}get y1(){return this.svg.embed(this.segment.start).y}get endWithoutHead(){return this.svg.embed(this.segment.end).translate(this.svg.embed(this.segment.tangentInEnd).normalize().multiply(12))}get x2(){return this.svg.embed(this.endWithoutHead).x}get y2(){return this.svg.embed(this.endWithoutHead).y}get atEnd(){return`translate(${this.x2} ${this.y2}) rotate(${360*-this.svg.embed(this.segment).tangentInStart.angleTo(new p(this.svg.embed(this.segment).parent,1,0))/(2*Math.PI)} 0 0)`}};(0,o.gn)([(0,r.fI)({required:!0,type:Object})],Ce.prototype,"segment",void 0),(0,o.gn)([(0,r.fI)({required:!0,type:Object})],Ce.prototype,"svg",void 0),Ce=(0,o.gn)([r.wA],Ce);var ke=Ce,Se=ke,_e=(0,_.Z)(Se,we,be,!1,null,"9de7aa18",null),Ie=_e.exports,qe=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("icon",{attrs:{icon:e.icon,point:e.center,svg:e.svg}})},Ze=[],Oe=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("path",{staticClass:"icon",attrs:{d:e.icon,transform:e.transform}})},Pe=[];let je=class extends r.w3{point;icon;svg;get coords(){const e=this.svg.embed(this.point);return[e.x,e.y]}get transform(){const e=20,n=20;return`translate(${this.coords[0]-e/2} ${this.coords[1]-n/2})`}};(0,o.gn)([(0,r.fI)({required:!0,type:Object})],je.prototype,"point",void 0),(0,o.gn)([(0,r.fI)({required:!0,type:String})],je.prototype,"icon",void 0),(0,o.gn)([(0,r.fI)({required:!0,type:Object})],je.prototype,"svg",void 0),je=(0,o.gn)([r.wA],je);var $e=je,Te=$e,Ae=(0,_.Z)(Te,Oe,Pe,!1,null,"a9d4a62c",null),Le=Ae.exports;let Ve=class extends r.w3{segment;icon;svg;get center(){return this.segment.middle}};(0,o.gn)([(0,r.fI)({required:!0,type:Object})],Ve.prototype,"segment",void 0),(0,o.gn)([(0,r.fI)({required:!0,type:String})],Ve.prototype,"icon",void 0),(0,o.gn)([(0,r.fI)({required:!0,type:Object})],Ve.prototype,"svg",void 0),Ve=(0,o.gn)([(0,r.wA)({components:{Icon:Le}})],Ve);var Re=Ve,ze=Re,Me=(0,_.Z)(ze,qe,Ze,!1,null,null,null),Ne=Me.exports;let He=class extends r.w3{layout;halfEdge;svg;sourceIndicator;options;get segment(){return this.layout.layout(this.halfEdge).segment}indicatorPosition(e){const n=this.layout.layout(e).segment;let t=e===this.halfEdge?this.options.indicator:1-this.options.indicator;if(null!=t){const e=n.at(t),s=e.translate(this.svg.embed(n.tangentInStart.rotate90CCW()).normalize().multiply(10));return new v(s,e)}}get source(){const e=this.segment,n=e.at(0),t=n.translate(this.svg.embed(e.tangentInStart.rotate90CCW()).normalize().multiply(10));return new v(t,n)}};(0,o.gn)([(0,r.fI)({required:!0,type:Object})],He.prototype,"layout",void 0),(0,o.gn)([(0,r.fI)({required:!0,type:Number})],He.prototype,"halfEdge",void 0),(0,o.gn)([(0,r.fI)({required:!0,type:Object})],He.prototype,"svg",void 0),(0,o.gn)([(0,r.fI)({required:!1,type:Boolean,default:!1})],He.prototype,"sourceIndicator",void 0),(0,o.gn)([(0,r.fI)({required:!1,type:Object,default:()=>(new j).get(1)})],He.prototype,"options",void 0),He=(0,o.gn)([(0,r.wA)({components:{Arrow:Ie,SegmentComponent:ge,SegmentLabel:Ee,SegmentIcon:Ne}})],He);var Be=He,Fe=Be,Ge=(0,_.Z)(Fe,ae,oe,!1,null,null,null),We=Ge.exports,Ue=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("g",{staticClass:"Edge"},[e.options.label?t("g",{staticClass:"label"},[t("segment-label",{attrs:{at:e.segment,svg:e.svg}},[e._v(e._s(e.options.label))])],1):e._e(),t("segment-component",{class:{selected:e.options.selected},attrs:{segment:e.segment,svg:e.svg}}),e.options.icon?t("segment-icon",{attrs:{segment:e.segment,svg:e.svg,icon:e.options.icon}}):e._e()],1)},De=[];let Je=class extends r.w3{layout;edge;svg;options;get segment(){return this.layout.layout(this.edge.positive).segment}};(0,o.gn)([(0,r.fI)({required:!0,type:Object})],Je.prototype,"layout",void 0),(0,o.gn)([(0,r.fI)({required:!0,type:Object})],Je.prototype,"edge",void 0),(0,o.gn)([(0,r.fI)({required:!0,type:Object})],Je.prototype,"svg",void 0),(0,o.gn)([(0,r.fI)({required:!1,type:Object,default:()=>(new j).get(new P(1))})],Je.prototype,"options",void 0),Je=(0,o.gn)([(0,r.wA)({components:{SegmentComponent:ge,SegmentLabel:Ee,SegmentIcon:Ne}})],Je);var Qe=Je,Ye=Qe,Xe=(0,_.Z)(Ye,Ue,De,!1,null,null,null),Ke=Xe.exports;let en=class extends r.w3{layout;options;svg;get faces(){let e=this.layout.triangulation.faces.cycles;return e=e.filter((e=>e.every((e=>this.layout.primary.includes(e))))),e.map((e=>e.map((e=>this.layout.layout(e).segment.end))))}get halfEdges(){return this.layout.triangulation.halfEdges.filter((e=>this.options.get(e).visible))}get edges(){return this.layout.triangulation.edges.filter((e=>this.options.get(e).visible))}get sourceIndicators(){return this.halfEdges.filter((e=>{const n=this.layout.layout(e).segment,t=n.tangentInStart;return this.halfEdges.some((s=>{if(s===e)return!1;const i=this.layout.layout(s).segment;if(!n.start.on(i))return!1;const a=i.tangentInStart,o=t.angleTo(a),r=Math.PI/180;return o<r||o>359*r}))}))}};(0,o.gn)([(0,r.fI)({required:!0,type:Object})],en.prototype,"layout",void 0),(0,o.gn)([(0,r.fI)({required:!1,default:()=>new j,type:Object})],en.prototype,"options",void 0),(0,o.gn)([(0,r.fI)({required:!0,type:Object})],en.prototype,"svg",void 0),en=(0,o.gn)([(0,r.wA)({components:{Face:ie,EdgeComponent:Ke,HalfEdgeComponent:We}})],en);var nn=en,tn=nn,sn=(0,_.Z)(tn,B,F,!1,null,null,null),an=sn.exports,on=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("g",{staticClass:"FlowComponent"},[t("g",{style:{"--color":e.color}},e._l(e.patches,(function(n,s){return t("ngon",{key:s,attrs:{vertices:n,svg:e.svg}})})),1),t("g",{staticClass:"boundary"},e._l(e.perimeter,(function(n,s){return t("saddle-connection-component",{key:s,attrs:{connection:n,layout:e.layout,color:e.color,svg:e.svg}})})),1)])},rn=[],ln=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("g",{staticClass:"SaddleConnection"},[t("path-component",{attrs:{path:[e.connection],svg:e.svg,layout:e.layout,animated:e.animated}})],1)},dn=[],un=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("g",{staticClass:"Path"},[t("g",e._l(e.controlPoints,(function(n,s){return t("point-component",{key:s,attrs:{svg:e.svg,point:n,radius:2}})})),1),t("g",[e._l(e.segments,(function(n,s){return t("segment-component",{key:s,attrs:{svg:e.svg,segment:n}})})),e.animated&&e.segments.length>1&&e.segments[e.animation]?t("g",{staticClass:"animated"},[t("segment-component",{attrs:{svg:e.svg,segment:e.segments[(e.animation+e.segments.length-1)%e.segments.length]}}),t("segment-component",{key:"animation-"+e.animation,attrs:{svg:e.svg,segment:e.segments[e.animation],animated:""},on:{animationend:e.onAnimationEnd}})],1):e._e()],2)])},hn=[],cn=t(2543),gn=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("circle",{staticClass:"point",attrs:{cx:e.coords[0],cy:e.coords[1],r:e.radius||30}})},fn=[];let pn=class extends r.w3{point;radius;svg;get coords(){const e=this.svg.embed(this.point);return[e.x,e.y]}};(0,o.gn)([(0,r.fI)({required:!0,type:Object})],pn.prototype,"point",void 0),(0,o.gn)([(0,r.fI)({required:!1,type:Number,default:null})],pn.prototype,"radius",void 0),(0,o.gn)([(0,r.fI)({required:!0,type:Object})],pn.prototype,"svg",void 0),pn=(0,o.gn)([r.wA],pn);var vn=pn,yn=vn,mn=(0,_.Z)(yn,gn,fn,!1,null,null,null),xn=mn.exports;let En=class extends r.w3{path;layout;svg;animated;get segments(){let e=this.path instanceof Array?this.path:this.path.connections;return(0,cn.Z)(e.map((e=>e instanceof v?[e]:this.toSegments(e))))}get controlPoints(){if(0===this.segments.length)return[];const e=[this.segments[0].start];for(const n of this.segments)e.push(n.end);return e}animation=0;onAnimationEnd(){const e=(this.animation+1)%this.segments.length;this.animation=e}toSegments(e){const n=[],t=e.vector,s=[...e.crossings];let i=this.layout.layout(e.source).segment.start;const a=s.length>0?this.layout.layout(e.target).segment.start:this.layout.layout(e.source).segment.end;while(s.length){const e=s.shift();if(this.layout.layout(e.halfEdge).inner)continue;const a=new y(i,i.translate(t)),o=this.layout.layout(e.halfEdge).segment,r=new y(o.start,o.end),l=a.intersect(r);if(null===l)throw Error("saddle connection must intersect every crossing");n.push(new v(i,l));const d=new p(l.parent,this.layout.layout(e.halfEdge).segment.start,l);i=this.layout.layout(-e.halfEdge).segment.end.translate(d)}return n.push(new v(i,a)),n}};(0,o.gn)([(0,r.fI)({required:!0})],En.prototype,"path",void 0),(0,o.gn)([(0,r.fI)({required:!0})],En.prototype,"layout",void 0),(0,o.gn)([(0,r.fI)({required:!0,type:Object})],En.prototype,"svg",void 0),(0,o.gn)([(0,r.fI)({required:!1,type:Boolean,default:!0})],En.prototype,"animated",void 0),En=(0,o.gn)([(0,r.wA)({components:{PointComponent:xn,SegmentComponent:ge}})],En);var wn=En,bn=wn,Cn=(0,_.Z)(bn,un,hn,!1,null,null,null),kn=Cn.exports;let Sn=class extends r.w3{connection;layout;svg;animated};(0,o.gn)([(0,r.fI)({required:!0})],Sn.prototype,"connection",void 0),(0,o.gn)([(0,r.fI)({required:!0})],Sn.prototype,"layout",void 0),(0,o.gn)([(0,r.fI)({required:!0,type:Object})],Sn.prototype,"svg",void 0),(0,o.gn)([(0,r.fI)({required:!1,default:!1,type:Boolean})],Sn.prototype,"animated",void 0),Sn=(0,o.gn)([(0,r.wA)({components:{PathComponent:kn}})],Sn);var _n=Sn,In=_n,qn=(0,_.Z)(In,ln,dn,!1,null,null,null),Zn=qn.exports;let On=class extends r.w3{component;layout;surface;color;svg;ats;touches;get perimeter(){let e=this.component.perimeter;return e=this.component.cylinder?e.filter((e=>e.vertical)):e.filter((e=>e.boundary)),e.map((e=>e.connection))}resetCaches(){this.ats=void 0,this.touches=void 0,this.ensureCaches()}ensureCaches(){if(null==this.touches){this.touches={};for(const e of this.surface.halfEdges)this.touches[e]=[];for(const e of this.component.perimeter)for(const n of e.touches)this.touches[n.halfEdge][n.index]=n}if(null==this.ats){this.ats={};for(const e of this.component.perimeter)for(let n=0;n<e.touches.length;n++){const t=e.touches[n];let s=0;0!=n&&n!=e.touches.length-1&&(s=e.connection.crossings[Math.floor((n-1)/2)].at,n%2==0&&(s=1-s)),void 0===this.ats[t.halfEdge]&&(this.ats[t.halfEdge]=[]),this.ats[t.halfEdge][t.index]=s}}}at(e){return console.assert(null!=this.ats),this.ats[e.halfEdge][e.index]}patch(e,n){const t=(e,n)=>this.layout.layout(e).segment.at(n),s=e.halfEdge===-n.halfEdge,i=t(e.halfEdge,this.at(e));let a=s?t(e.halfEdge,1):t(n.halfEdge,this.at(n)),o=a,r="undefined";s?(console.assert(0===this.at(e),"Edge-parallel connection must start at vertex."),console.assert(0===this.at(n),"Edge-parallel connection must end at vertex.")):console.assert(e.halfEdge!==n.halfEdge,"Saddle Connection cannot cross the half edge %s twice in a row.",e.halfEdge);const l=this.touches[e.halfEdge],d=this.touches[n.halfEdge];if(s)return null;if(n.index===d.length-1){if(1===this.at(n))console.assert(0!==this.at(e)),0===e.index?(console.assert(0!==this.at(e)),o=t(e.halfEdge,0)):o=t(e.halfEdge,this.at(l[e.index-1]));else if(r="remaining face",o=t(n.halfEdge,1),0===this.at(n))return null}else{if(this.at(n)===this.at(d[n.index+1]))return console.assert(0===this.at(n)||1===this.at(n),"Vertices of components must be aligned with the vertices of the triangulation."),console.assert(0!==this.at(e)),0===e.index?(console.assert(0!==this.at(e)),o=t(e.halfEdge,0),null):(o=t(e.halfEdge,this.at(l[e.index-1])),null);console.assert(this.at(d[n.index+1])>this.at(n),"Touches are not ordered correctly on half edge %s. The %sth touch at %s should not be after the %sth touch at %s.",n.halfEdge,d[n.index+1].index,this.at(d[n.index+1]),n.index,this.at(n)),o=t(n.halfEdge,this.at(d[n.index+1]))}return console.assert(!i.equalTo(a),"Patch of kind '%s' coming from the touches (%s, %s) at %s and (%s, %s) at %s has the same point twice A == B, i.e., %s == %s.",r,e.halfEdge,e.index,this.at(e),n.halfEdge,n.index,this.at(n),i.toString(),a.toString()),console.assert(!i.equalTo(o),"Patch of kind '%s' coming from the touches (%s, %s) at %s and (%s, %s) at %s has the same point twice A == C, i.e., %s == %s.",r,e.halfEdge,e.index,this.at(e),n.halfEdge,n.index,this.at(n),i.toString(),o.toString()),console.assert(!a.equalTo(o),"Patch of kind '%s' coming from the touches (%s, %s) at %s and (%s, %s) at %s has the same point twice B == C, i.e., %s == %s.",r,e.halfEdge,e.index,this.at(e),n.halfEdge,n.index,this.at(n),a.toString(),o.toString()),[i,a,o]}patchHalfEdge(e){const n=(e,n)=>this.layout.layout(e).segment.at(n),t=[e,this.surface.faces.image(e),this.surface.faces.preimage(e)],s=n(e,0),i=n(e,1);let a=i,o="undefined",r=this.touches[t[1]];if(0===r.length){if(o="entire face",a=n(t[1],1),t[0]!==Math.min(...t))return null}else if(0===this.at(r[0]))if(r=this.touches[-t[2]],r.every((e=>0===this.at(e)||1===this.at(e)))){if(o="entire face 2",a=n(t[1],1),t[0]!==Math.min(...t))return null}else{o="on previous half edge";for(const e of r)if(0!==this.at(e))return a=n(t[2],1-this.at(e)),null}else o="on following half edge",a=n(t[1],this.at(r[0]));return console.assert(!s.equalTo(i),"Patch of kind '%s' coming from the half edge %s has the same point twice A == B, i.e., %s == %s.",o,e,s.toString(),i.toString()),console.assert(!s.equalTo(a),"Patch of kind '%s' coming from the half edge %s has the same point twice A == C, i.e., %s == %s.",o,e,s.toString(),a.toString()),console.assert(!i.equalTo(a),"Patch of kind '%s' coming from the half edge %s has the same point twice B == C, i.e., %s == %s.",o,e,i.toString(),a.toString()),[s,i,a]}get triangles(){const e=[];for(const n of this.component.perimeter)for(let t=0;t<n.touches.length;t+=2){const s=this.patch(n.touches[t],n.touches[t+1]);null!==s&&e.push(s)}for(const n of this.component.inside){const t=this.patchHalfEdge(n);null!=t&&e.push(t)}return e}get patches(){const e=[],n=[...this.triangles],t=u.ZP.Utils.getTolerance(),s=(e,n)=>{console.assert(3===n.length);for(const s of[1,2])for(const i of[0,1,2])for(let a=0;a<e.length;a++)if(n[i].equalTo(e[a],t)&&n[(i+s)%3].equalTo(e[(a+1)%e.length],t)){e.splice(a+1,0,n[(i+2*s)%3]);for(let n=0;n<e.length;n++)if(e[n].equalTo(e[(n+2)%e.length],t)){n+1==e.length?e.splice(0,2):n+2==e.length?(e.splice(0,1),e.pop()):e.splice(n,2);break}return!0}return!1};while(n.length){let t=n.pop();for(let e=n.length;e--;)s(t,n[e])&&(n[e]=n[n.length-1],n.pop(),e=n.length);e.push(t)}return e}};(0,o.gn)([(0,r.fI)({required:!0})],On.prototype,"component",void 0),(0,o.gn)([(0,r.fI)({required:!0})],On.prototype,"layout",void 0),(0,o.gn)([(0,r.fI)({required:!0})],On.prototype,"surface",void 0),(0,o.gn)([(0,r.fI)({required:!1,type:String,default:"orange"})],On.prototype,"color",void 0),(0,o.gn)([(0,r.fI)({required:!0,type:Object})],On.prototype,"svg",void 0),(0,o.gn)([(0,r.RL)("layout",{immediate:!0})],On.prototype,"resetCaches",null),On=(0,o.gn)([(0,r.wA)({components:{SaddleConnectionComponent:Zn,Ngon:K}})],On);var Pn=On,jn=Pn,$n=(0,_.Z)(jn,on,rn,!1,null,"6e0e20fe",null),Tn=$n.exports;let An=class extends r.w3{triangulation;layout;viewportCoordinateSystem;visualizationOptions;flowComponents;saddleConnections;paths;get palette(){return new z(this.flowComponents.length)}get svgCoordinateSystem(){return this.viewportCoordinateSystem||this.triangulation.coordinateSystem}async svg(){await this.$nextTick();const e=new H(this.$el);return e.simplifyColors(),e.dropNonStandardStyles(),e.dropNonInkscapeStyles(),e.dropTrivialStyles(),e.dropRedundantStyles(),e.dropClasses(),e.dropPrefixedStyles(),e.dropInvisible(),e.dropInteractiveStyles(),e.dropCustomAttributes(),e.usePresentationAttributes(),e.inlineStyles(),e.toString()}};(0,o.gn)([(0,r.fI)({required:!0,type:Object})],An.prototype,"triangulation",void 0),(0,o.gn)([(0,r.fI)({required:!0,type:Object})],An.prototype,"layout",void 0),(0,o.gn)([(0,r.fI)({required:!1,type:Object,default:null})],An.prototype,"viewportCoordinateSystem",void 0),(0,o.gn)([(0,r.fI)({required:!1,type:Object,default:new j})],An.prototype,"visualizationOptions",void 0),(0,o.gn)([(0,r.fI)({required:!1,default:()=>[],type:Array})],An.prototype,"flowComponents",void 0),(0,o.gn)([(0,r.fI)({required:!1,default:()=>[],type:Array})],An.prototype,"saddleConnections",void 0),(0,o.gn)([(0,r.fI)({required:!1,default:()=>[],type:Array})],An.prototype,"paths",void 0),An=(0,o.gn)([(0,r.wA)({components:{FlatTriangulationComponent:an,FlowComponentComponent:Tn,SaddleConnectionComponent:Zn,PathComponent:kn}})],An);var Ln=An,Vn=Ln,Rn=(0,_.Z)(Vn,A,L,!1,null,null,null),zn=Rn.exports;let Mn=class extends r.w3{triangulation;vertical;flowComponents;saddleConnections;paths;layout;visualizationOptions=new j;focus=null;get idealCoordinateSystem(){return this.vertical?.coordinateSystem||this.triangulation.coordinateSystem}onCoordinateSystemChanged(){this.$nextTick((()=>{this.focus=this.layout.hull}))}refocus(e){null==e&&(e=this.layout.hull),null!=this.focus&&this.focus.equalTo(e)||(this.focus=e)}get visibleFlowComponents(){return this.flowComponents.filter((e=>!e.perimeter.some((e=>!this.layout.primary.includes(e.connection.source)&&!this.layout.primary.includes(e.connection.target)))))}onLayoutChanged(){null==this.focus&&this.refocus()}async svg(){while(null==this.layout)await T(this,"layout");return await this.$nextTick(),await this.$refs.flatsurf.svg()}};(0,o.gn)([(0,r.fI)({required:!0,type:Object})],Mn.prototype,"triangulation",void 0),(0,o.gn)([(0,r.fI)({required:!1,default:null,type:Object})],Mn.prototype,"vertical",void 0),(0,o.gn)([(0,r.fI)({required:!1,default:()=>[],type:Array})],Mn.prototype,"flowComponents",void 0),(0,o.gn)([(0,r.fI)({required:!1,default:()=>[],type:Array})],Mn.prototype,"saddleConnections",void 0),(0,o.gn)([(0,r.fI)({required:!1,default:()=>[],type:Array})],Mn.prototype,"paths",void 0),(0,o.gn)([(0,r.fI)({required:!0,type:Object})],Mn.prototype,"layout",void 0),(0,o.gn)([(0,r.RL)("idealCoordinateSystem")],Mn.prototype,"onCoordinateSystemChanged",null),(0,o.gn)([(0,r.RL)("layout",{immediate:!0})],Mn.prototype,"onLayoutChanged",null),Mn=(0,o.gn)([(0,r.wA)({components:{PanZoom:q,Flatsurf:zn}})],Mn);var Nn=Mn,Hn=Nn,Bn=(0,_.Z)(Hn,Z,O,!1,null,null,null),Fn=Bn.exports;class Gn extends Error{}class Wn{cancellationRequested(){return new Promise(((e,n)=>{this.aborted&&n(new Gn),setTimeout((()=>e(this.cancelled)),0)}))}cancel(){this.cancelled=!0}abort(){this.aborted=!0}cancelled=!1;aborted=!1}class Un{constructor(e="",n=0){this.name=e,this.steps=n}task(e,n){this.steps+=n,this.name=e}progress(){this.step++}get stats(){return{name:this.name,step:null!=this.steps&&this.step<this.steps?this.step:void 0,steps:this.steps}}step=0;steps=0;name}var Dn=function(){var e=this,n=e.$createElement,t=e._self._c||n;return null!=e.cancellation&&e.visible?t("v-overlay",{staticClass:"loading-overlay",attrs:{opacity:.2,"z-index":0}},[t("v-container",[t("v-row",[t("v-col",[e._v(" "+e._s(e.name)+"… "),t("v-progress-circular",{attrs:{indeterminate:null==e.value,value:e.value}})],1)],1),t("v-row",[t("v-col",[t("v-btn",{attrs:{color:"error",dark:"",disabled:e.cancellation.cancelled},on:{click:function(){return e.cancellation.cancel()}}},[e._v("Cancel")])],1)],1)],1)],1):e._e()},Jn=[];let Qn=class extends r.w3{cancellation;progress;visible=!1;onCancellation(e){null==e?this.visible=!1:setTimeout((()=>{this.cancellation===e&&(this.visible=!0)}),150)}get name(){return this.progress.stats.name}get value(){return null==this.progress.stats.step||null==this.progress.stats.steps?null:this.progress.stats.step/this.progress.stats.steps*100}};(0,o.gn)([(0,r.fI)({required:!0})],Qn.prototype,"cancellation",void 0),(0,o.gn)([(0,r.fI)({required:!0})],Qn.prototype,"progress",void 0),(0,o.gn)([(0,r.RL)("cancellation",{immediate:!0})],Qn.prototype,"onCancellation",null),Qn=(0,o.gn)([r.wA],Qn);var Yn=Qn,Xn=Yn,Kn=t(3453),et=t.n(Kn),nt=t(628),tt=t(7024),st=t(5799),it=t(4656),at=t(6594),ot=t(7894),rt=(0,_.Z)(Xn,Dn,Jn,!1,null,"69084d4e",null),lt=rt.exports;et()(rt,{VBtn:nt.Z,VCol:tt.Z,VContainer:st.Z,VOverlay:it.Z,VProgressCircular:at.Z,VRow:ot.Z});var dt=function(){var e=this,n=e.$createElement,t=e._self._c||n;return null!=e.layout?t("g",[e._l(e.halfEdges,(function(n){return t("g",{key:n,staticClass:"click-area",on:{mousemove:function(t){return e.hover(n,t)},mouseleave:function(t){return e.unhover(n)},click:function(t){return e.glue(n)}}},[t("segment-component",{attrs:{segment:e.segment(n),svg:e.svg}})],1)})),e._l(e.edges,(function(n){return t("g",{key:n.positive,staticClass:"click-area",on:{mousemove:function(t){return e.hover(n,t)},mouseleave:function(t){return e.unhover(n)},click:function(t){return e.glue(n)}}},[t("segment-component",{attrs:{segment:e.segment(n),svg:e.svg}})],1)}))],2):e._e()},ut=[],ht=t(5317),ct=t(9555),gt=t(6246);class ft{constructor(e,n){this.glued=e||(()=>null),this.automorphisms=n||[]}glue(e){return this.glued(new P(e))}orbit(e){const n=[e];for(let t=0;t<n.length;t++){const e=n[t];for(const t of this.automorphisms){const s=t.halfEdgeMap[e];null==s||n.includes(s)||n.push(s)}}return n}glued;automorphisms}let pt=class extends r.w3{svg;layout;relayout;options;focus;refocus;glued={};events=[];async glue(e){if(e instanceof P)return await this.glue(e.positive);const n=new P(e),t={...this.glued};void 0===t[n.positive]?t[n.positive]=!0:!0===t[n.positive]?t[n.positive]=!1:delete t[n.positive],this.glued=t,console.assert(this.events.every((e=>"GLUE"!==e.kind)),"Overlapping glue events.");const s={kind:"GLUE",id:Math.random(),edge:n};if(this.events=[...this.events],(!0!==this.glued[n.positive]||!this.layout.layout(n.positive).inner)&&(!1!==this.glued[n.positive]||this.layout.layout(n.positive).inner)){this.events.push(s);try{const n=this.svg.embed(this.layout.layout(e).segment.start),t=this.focus,i=await this.reglue();if(null!=n&&null!=t){const s=new p(this.svg,new h(this.svg,n.value),i.layout(e).segment.start);this.refocus(t.translate(s))}}finally{setTimeout((()=>{this.events=this.events.filter((e=>e.id!=s.id))}),800)}}}async reglue(){return this.relayout(new ft((e=>void 0===this.glued[e.positive]?null:this.glued[e.positive]),[]))}get halfEdges(){return this.layout.triangulation.halfEdges.filter((e=>!this.layout.layout(e).inner))}get edges(){return this.layout.triangulation.edges.filter((e=>this.layout.layout(e.positive).inner))}segment(e){return this.layout.layout(e).segment}hover(e,n){if(e instanceof P)return this.hover(e.positive,n);this.unhover(),this.events.push({kind:"HOVER",id:Math.random(),halfEdge:e,at:this.segment(e).relativize(this.toPoint(n))})}unhover(){this.events=this.events.filter((e=>"HOVER"!==e.kind))}onEvent(){const e=this.events.some((e=>"HOVER"===e.kind)),n=this.events.some((e=>"GLUE"===e.kind));for(const t of this.layout.triangulation.edges){const s=(()=>{if(e||n){if(void 0===this.glued[t.positive])return null;const e=this.glued[t.positive];return e!=this.layout.layout(t.positive).inner?ht.jZI:e?ht.tuE:ht.xPD}return null})();this.options.icon(t.positive,s),this.options.icon(t.negative,s),this.options.icon(t,s);const i=(()=>{for(const e of this.events)if("HOVER"===e.kind){const n=(0,gt.Z)(e.at,0,1);if(e.halfEdge===t.positive)return n;if(e.halfEdge===t.negative)return 1-n}return null})();this.options.indicate(t.positive,i),this.options.indicate(t.negative,null==i?null:1-i);const a=this.events.some((e=>"GLUE"===e.kind&&e.edge.positive===t.positive));this.options.select(t,a),this.options.select(t.positive,a),this.options.select(t.negative,a)}}toPoint(e){let n=this.$el;while("svg"!==n.tagName)n=n.parentElement;return new h(this.svg,e.clientX-n.getBoundingClientRect().left,e.clientY-n.getBoundingClientRect().top)}async query(e){return"changed"===e&&await T(this,"glued"),this.glued}async force(e){return this.glued=e,await this.reglue()}};(0,o.gn)([(0,r.fI)({required:!0,type:Object})],pt.prototype,"svg",void 0),(0,o.gn)([(0,r.fI)({required:!0,type:Object})],pt.prototype,"layout",void 0),(0,o.gn)([(0,r.fI)({required:!0,type:Function})],pt.prototype,"relayout",void 0),(0,o.gn)([(0,r.fI)({required:!0,type:Object})],pt.prototype,"options",void 0),(0,o.gn)([(0,r.fI)({required:!1,default:()=>null,type:Object})],pt.prototype,"focus",void 0),(0,o.gn)([(0,r.fI)({required:!1,default:()=>ct.Z,type:Function})],pt.prototype,"refocus",void 0),(0,o.gn)([(0,r.RL)("events"),(0,r.RL)("layout")],pt.prototype,"onEvent",null),pt=(0,o.gn)([(0,r.wA)({components:{SegmentComponent:ge}})],pt);var vt=pt,yt=vt,mt=(0,_.Z)(yt,dt,ut,!1,null,"b20b3038",null),xt=mt.exports,Et=function(){var e=this,n=e.$createElement,t=e._self._c||n;return null!=e.layout?t("g",{attrs:{tabindex:"0"},on:{keydown:function(n){return!n.type.indexOf("key")&&e._k(n.keyCode,"esc",27,n.key,["Esc","Escape"])?null:e.edit(!1)}}},[t("g",{staticClass:"path",attrs:{animated:e.animated}},[t("path-component",{attrs:{path:e.path,svg:e.svg,layout:e.layout}})],1),e.editable?t("g",{on:{click:function(n){return e.append()}}},[t("g",{staticClass:"preview"},[0!==e.points.length&&null==e.nextSegment?t("point-component",{attrs:{point:e.fromPathPoint(e.cross(e.points[e.points.length-1])),radius:10,svg:e.svg}}):e._e(),null!=e.nextSegment?t("segment-component",{attrs:{svg:e.svg,segment:e.nextSegment}}):e._e()],1),t("g",{staticClass:"select-half-edge"},e._l(e.triangulation.halfEdges,(function(n){return t("g",{key:n,on:{mousemove:function(t){return e.hover(n,t)},mouseout:e.unhover}},[t("segment-component",{attrs:{svg:e.svg,segment:e.layout.layout(n).segment}})],1)})),0),t("g",{staticClass:"select-vertex"},e._l(e.vertices,(function(n,s){return t("g",{key:s,on:{mousemove:function(t){return e.hover(n)},mouseout:e.unhover}},[t("point-component",{attrs:{point:e.layout.layout(n[0]).segment.start,svg:e.svg,radius:20}})],1)})),0),t("g",{staticClass:"select-vertex"},e._l(e.controlPoints,(function(n,s){return t("g",{key:s,on:{mousemove:function(t){return e.hover(n)},mouseout:e.unhover}},[t("point-component",{attrs:{svg:e.svg,point:e.fromPathPoint(n),radius:20}})],1)})),0)]):e._e()]):e._e()},wt=[];function bt(e){return"number"===typeof e}let Ct=class extends r.w3{svg;layout;triangulation;options;animated;points=[];next=null;editable=!0;edit(e){this.editable=e,this.next=null}append(){null!==this.next&&(this.points.push(this.next),this.next=null)}hover(e,n){if(!this.editable)return;const t=this.toPathPoint(e,n);if(this.next=null,0===this.points.length)return void(this.next=this.cross(t));const s=this.cross(this.points[this.points.length-1]),i=this.toSegment(this.cross(s),t),a=e=>[e[0],this.triangulation.vertices.image(e[e.length-1])];let o=this.triangulation.halfEdges.filter((e=>!this.layout.layout(e).inner)).filter((e=>this.layout.layout(e).segment.intersects(i)));if("halfEdge"in s)o=o.filter((e=>e!==s.halfEdge));else if("face"in s);else{const e=[a(s.vertex)[0],-a(s.vertex)[1]];o=o.filter((n=>!e.includes(n)))}if("halfEdge"in t)o=o.filter((e=>e!==t.halfEdge));else if("face"in t);else{const e=[a(t.vertex)[0],-a(t.vertex)[1]];o=o.filter((n=>!e.includes(n)))}if(0===o.length&&!(i.length<.001)){if("halfEdge"in s){if(this.layout.layout(s.halfEdge).inner)(0,ct.Z)();else if("halfEdge"in t&&t.halfEdge===s.halfEdge)(0,ct.Z)();else if("vertex"in t&&a(t.vertex)[0]===s.halfEdge)(0,ct.Z)();else if("vertex"in t&&a(t.vertex)[1]===-s.halfEdge)(0,ct.Z)();else if(this.triangulation.vector(s.halfEdge).angleTo(i.tangentInStart)<=Math.PI)return}else if("face"in s);else if(this.layout.layout(s.vertex[0]).inner)(0,ct.Z)();else if("halfEdge"in t&&t.halfEdge===a(s.vertex)[0])(0,ct.Z)();else if("halfEdge"in t&&t.halfEdge===-a(s.vertex)[1])(0,ct.Z)();else if("vertex"in t&&a(t.vertex)[0]==-a(s.vertex)[1])(0,ct.Z)();else if("vertex"in t&&a(t.vertex)[1]==-a(s.vertex)[0])(0,ct.Z)();else{const e=a(s.vertex).map((e=>this.triangulation.vector(e)));if(e[0].angleTo(e[1])>e[0].angleTo(i.tangentInStart))return}this.next=t}}unhover(){this.next=null}get nextSegment(){return 0===this.points.length||null==this.next?null:this.toSegment(this.points[this.points.length-1],this.next)}get vertices(){const e=[],n=n=>0!==e.filter((e=>e.includes(n))).length,t=e=>{const n=[e];while(1){const t=this.triangulation.vertices.image(n[n.length-1]);if(!this.layout.layout(t).inner)break;if(t===e)break;n.push(t)}return n};for(const s of this.triangulation.halfEdges)this.layout.layout(s).inner||n(s)||e.push(t(s));for(const s of this.triangulation.halfEdges)n(s)||e.push(t(s));return e}get halfEdges(){return this.triangulation.halfEdges}get faces(){return this.triangulation.faces.cycles}get path(){const e=[];let n=null;for(let t of this.points)null!=n&&e.push(this.toSegment(n,t)),n=t;return e}get controlPoints(){const e=[];for(let n=0;n<this.points.length;n++){const t=this.points[n];0===n?e.push(this.cross(t)):n===this.points.length-1?e.push(t):(e.push(t),this.cross(t)!==t&&e.push(this.cross(t)))}return e}toSegment(e,n){return new v(this.fromPathPoint(this.cross(e)),this.fromPathPoint(n))}toPoint(e){let n=this.$el;while("svg"!==n.tagName)n=n.parentElement;return new h(this.svg,e.clientX-n.getBoundingClientRect().left,e.clientY-n.getBoundingClientRect().top)}toPathPoint(e,n){if(bt(e)){const t=e,s=this.layout.layout(t).segment.relativize(this.toPoint(n));return{halfEdge:t,at:s}}if("halfEdge"in e||"vertex"in e||"face"in e)return e;if(void 0===n){const n=e;return{vertex:n}}{const t=e;console.assert(t.length>=2);const s=this.toPoint(n),i=[this.layout.layout(t[0]).segment,this.layout.layout(t[1]).segment];return{face:t,at:[i[0].relativize(s),i[1].relativize(s)]}}}fromPathPoint(e){if("face"in e){const n=e.face,t=e.at;return this.layout.layout(n[0]).segment.start.translate(this.layout.layout(n[0]).segment.tangentInStart.multiply(t[0])).translate(this.layout.layout(n[1]).segment.tangentInStart.multiply(t[1]))}return"halfEdge"in e?this.layout.layout(e.halfEdge).segment.at(e.at):this.layout.layout(e.vertex[0]).segment.start}cross(e){return"halfEdge"in e?{halfEdge:-e.halfEdge,at:1-e.at}:e}async query(e){if("completed"===e)while(!0===this.editable)await T(this,"editable");else"changed"===e&&(!1===this.editable&&(this.editable=!0),await T(this,["editable","path"]));return this.points}};(0,o.gn)([(0,r.fI)({required:!0,type:Object})],Ct.prototype,"svg",void 0),(0,o.gn)([(0,r.fI)({required:!0,type:Object})],Ct.prototype,"layout",void 0),(0,o.gn)([(0,r.fI)({required:!0,type:Object})],Ct.prototype,"triangulation",void 0),(0,o.gn)([(0,r.fI)({required:!0,type:Object})],Ct.prototype,"options",void 0),(0,o.gn)([(0,r.fI)({required:!1,type:Boolean,default:!0})],Ct.prototype,"animated",void 0),Ct=(0,o.gn)([(0,r.wA)({components:{PointComponent:xn,SegmentComponent:ge,PathComponent:kn}})],Ct);var kt=Ct,St=kt,_t=(0,_.Z)(St,Et,wt,!1,null,"0eb297f6",null),It=_t.exports,qt=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("v-bottom-navigation",{attrs:{color:"primary",value:e.$route.path,fixed:"",app:""},on:{change:function(n){return e.$router.push({path:n,query:e.$route.query})}}},[t("v-btn",{attrs:{value:"/edit"}},[t("span",[e._v("Surface")]),t("v-badge",{attrs:{value:null!=e.error,color:"error",icon:"mdi-error",overlap:""}},[t("v-icon",[e._v("mdi-layers")])],1)],1),t("v-btn",{attrs:{value:"/view"}},[t("span",[e._v("Visualization")]),t("v-icon",[e._v("mdi-eye")])],1),t("v-btn",{attrs:{value:"/svg"}},[t("span",[e._v("SVG")]),t("v-icon",[e._v("mdi-svg")])],1),t("v-btn",{attrs:{value:"/widget"}},[t("span",[e._v("Widget")]),t("v-icon",[e._v("mdi-widgets")])],1)],1)},Zt=[];let Ot=class extends r.w3{get error(){return this.$store.state.error}};Ot=(0,o.gn)([r.wA],Ot);var Pt=Ot,jt=Pt,$t=t(7101),Tt=t(5595),At=t(8011),Lt=(0,_.Z)(jt,qt,Zt,!1,null,null,null),Vt=Lt.exports;et()(Lt,{VBadge:$t.Z,VBottomNavigation:Tt.Z,VBtn:nt.Z,VIcon:At.Z});let Rt=class extends r.w3{overlay=null;progress=null;async run(e){const n=new Wn;this.overlay=n,this.progress=new Un;try{await e(this.overlay,this.progress)}finally{this.overlay===n&&(this.overlay=null)}}};(0,o.gn)([(0,r.DF)()],Rt.prototype,"run",null),Rt=(0,o.gn)([(0,r.wA)({components:{BottomNavigation:Vt,Overlay:lt,PanZoom:q,Viewer:Fn,GlueInteraction:xt,PathInteraction:It}})],Rt);var zt=Rt,Mt=zt,Nt=t(9011),Ht=t(8832),Bt=(0,_.Z)(Mt,i,a,!1,null,"e8df219a",null),Ft=Bt.exports;et()(Bt,{VApp:Nt.Z,VContainer:st.Z,VMain:Ht.Z});var Gt=t(8273),Wt=t(8345),Ut=t(629),Dt=t(7879),Jt=function(){var e=this,n=e.$createElement,t=e._self._c||n;return null!=e.$store.state.triangulation?t("layouter",{attrs:{triangulation:e.$store.state.triangulation,layout:e.$store.state.layout},on:{layout:e.layoutChanged},scopedSlots:e._u([{key:"default",fn:function(n){var s=n.layout,i=n.relayout;return[t("viewer-component",{staticClass:"surface",attrs:{triangulation:e.$store.state.triangulation,"flow-components":e.flowComponents,layout:s,vertical:e.$store.state.vertical},scopedSlots:e._u([{key:"interaction",fn:function(n){var a=n.svg,o=n.triangulation,r=n.options,l=n.refocus,d=n.focus;return[t("triangulation-interaction",{attrs:{layout:s,options:r,outer:e.show.includes("outer"),inner:e.show.includes("triangulation")}}),t("label-interaction",{attrs:{layout:s,options:r,outer:e.show.includes("outer-labels"),numeric:e.show.includes("numeric-labels")}}),"path"==e.action?t("path-interaction",{attrs:{layout:s,svg:a,triangulation:o,options:r}}):"glue"==e.action?t("glue-interaction",{attrs:{relayout:i,svg:a,options:r,focus:d,refocus:l,layout:s}}):e._e()]}}],null,!0)})]}}],null,!1,374882210)}):e._e()},Qt=[];let Yt=class extends r.w3{options;layout;outer;inner;resetVisiblity(){for(const e of this.layout.triangulation.halfEdges)this.options.show(e,!this.layout.layout(e).inner&&this.outer);for(const e of this.layout.triangulation.edges)this.options.show(e,!!this.layout.layout(e.positive).inner&&this.inner)}render(){}};(0,o.gn)([(0,r.fI)({required:!0,type:Object})],Yt.prototype,"options",void 0),(0,o.gn)([(0,r.fI)({required:!0,type:Object})],Yt.prototype,"layout",void 0),(0,o.gn)([(0,r.fI)({required:!1,default:!0,type:Boolean})],Yt.prototype,"outer",void 0),(0,o.gn)([(0,r.fI)({required:!1,default:!1,type:Boolean})],Yt.prototype,"inner",void 0),(0,o.gn)([(0,r.RL)("layout",{immediate:!0}),(0,r.RL)("outer"),(0,r.RL)("inner"),(0,r.RL)("options")],Yt.prototype,"resetVisiblity",null),Yt=(0,o.gn)([r.wA],Yt);var Xt=Yt;function Kt(e){let n=e.split("").map((e=>e.charCodeAt(0)-65));n[n.length-1]++;for(let t=n.length;t--;)25==n[t]&&(n[t]=0,0==t?n=[0,...n]:n[t-1]++);return n.map((e=>String.fromCharCode(65+e))).join("")}let es=class extends r.w3{options;layout;outer;numeric;resetVisiblity(){let e="A";for(const n of this.layout.triangulation.halfEdges){if(n<0)continue;const t=new P(n);!this.outer||this.layout.layout(n).inner?this.numeric?(this.options.label(n,String(n)),this.options.label(-n,this.layout.layout(n).inner?null:String(-n)),this.options.label(t,String(t.positive))):(this.options.label(n,null),this.options.label(-n,null),this.options.label(t,null)):(this.options.label(n,e),this.options.label(-n,e),this.options.label(t,null),e=Kt(e))}}render(){}};(0,o.gn)([(0,r.fI)({required:!0,type:Object})],es.prototype,"options",void 0),(0,o.gn)([(0,r.fI)({required:!0,type:Object})],es.prototype,"layout",void 0),(0,o.gn)([(0,r.fI)({required:!1,default:!1,type:Boolean})],es.prototype,"outer",void 0),(0,o.gn)([(0,r.fI)({required:!1,default:!1,type:Boolean})],es.prototype,"numeric",void 0),(0,o.gn)([(0,r.RL)("layout",{immediate:!0}),(0,r.RL)("outer"),(0,r.RL)("numeric"),(0,r.RL)("options")],es.prototype,"resetVisiblity",null),es=(0,o.gn)([r.wA],es);var ns=es,ts=t(3738);class ss{constructor(e,n,t){if(this.surface=e,n instanceof Array){console.assert(t);let s=t;this.layout=Object.fromEntries(n.map((n=>{const i=s;return s=s.translate(e.vector(n)),[n,{segment:new v(t.parent,i.value,s.value),inner:!1}]})))}else this.layout=n;this.boundingRectArea=this.polygon.boundingRect.area()}translate(e,n){if(e instanceof p){const n=e;this.halfEdges.map((e=>{this.layout[e].segment=this.layout[e].segment.translate(n)}))}else{const t=this.layout[e].segment,s=new p(t.parent,t.start,n.start);console.assert(t.translate(s).equalTo(n,u.ZP.Utils.getTolerance())),this.translate(s)}}glues(e){const n=e.polygon,t=[];for(const s of this.halfEdges)if(this.layout[s].segment.intersects(n)){if(this.layout[s].segment.middle.on(n)){if(e.halfEdges.includes(-s)){if(this.layout[s].segment.equalTo(e.layout[-s].segment.reverse(),u.ZP.Utils.getTolerance())){t.push(s);continue}return[]}return[]}const i=this.layout[s].segment.intersect(n);if(0===i.length)return[];for(const n of i){const t=t=>{for(const s of this.surface.vertices.cycles)if(s.includes(t))for(const t of s)if(e.halfEdges.includes(t)&&n.equalTo(e.layout[t].segment.start,u.ZP.Utils.getTolerance()))return!0;return!1};if(n.equalTo(this.layout[s].segment.start,u.ZP.Utils.getTolerance())){if(!t(s))return[]}else{if(!n.equalTo(this.layout[s].segment.end,u.ZP.Utils.getTolerance()))return[];if(!t(-s))return[]}}}return console.assert(0!==t.length),t}touches(e){const n=e.polygon;return this.halfEdges.filter((e=>!this.layout[e].inner&&this.layout[e].segment.intersects(n)||this.layout[e].segment.touch(n)))}get polygon(){const e=new u.ZP.Polygon;return this.boundaries.map((n=>{e.addFace(n.map((e=>this.parent.embed(this.layout[e].segment).value)))})),new f(this.parent,e)}get boundaries(){let e=new Set(this.halfEdges.filter((e=>!this.layout[e].inner)));const n=[];while(e.size){let t;for(t of e)break;const s=[];let i=t;do{i=-i;do{i=this.surface.vertices.preimage(i)}while(this.layout[i].inner);s.push(i),e.delete(i)}while(i!==t);n.push(s)}return n}get parent(){return this.layout[this.halfEdges[0]].segment.parent}toString(){return"{"+this.halfEdges.map((e=>`${e}: ${this.layout[e].segment}`)).join(", ")+"}"}get halfEdges(){return Object.keys(this.layout).map((e=>Number(e)))}static async merge(e,n,t={},s=new Wn,i=new Un){if(1===e.length)return e;let a=[];for(const r of e){if(await s.cancellationRequested())break;for(const s of r.halfEdges){if(s<0)continue;const i=e.find((e=>e.halfEdges.includes(-s)));if(r===i)continue;void 0===t[s]&&(t[s]=ss.score(s,r,i,e,n));const o=t[s];null!==o&&a.push({glue:s,cell:r,other:i,score:o})}}if(0===a.length)return e;const o=(0,ts.Z)(a,"score");for(const r of n.orbit(o.glue)){const n=e.find((e=>e.halfEdges.includes(r))),s=e.find((e=>e.halfEdges.includes(-r)));console.assert(n!==s);const i=ss.glue(r,n,s);i.primary=o.glue===r;for(let e of i.halfEdges)delete t[e],delete t[-e];e=[i,...e.filter((e=>e!==n&&e!==s))]}return e}static score(e,n,t,s,i){if(console.assert(n.halfEdges.includes(e)&&t.halfEdges.includes(-e)),console.assert(!n.layout[e].inner),console.assert(!t.layout[-e].inner),!n.primary)return null;t.translate(-e,n.layout[e].segment.reverse());const a=n.glues(t);if(0===a.length)return null;for(const o of n.halfEdges)for(const e of i.orbit(o))if(t.halfEdges.includes(e))return null;if(!0===i.glue(e))return-1;if(!1===i.glue(e))return null;{const t=n.surface.vector(e),s=n.surface.vector(n.surface.vertices.image(e)),i=n.surface.vector(-n.surface.faces.image(-e)),a=i.add(t),o=i.add(s),r=i,l=(e,n,t,s,i,a,o,r,l)=>e*(i*l-a*r)-s*(n*l-r*t)+o*(n*a-i*t),d=l(a.x,a.y,a.x*a.x+a.y*a.y,o.x,o.y,o.x*o.x+o.y*o.y,r.x,r.y,r.x*r.x+r.y*r.y);if(Math.abs(d)<u.ZP.Utils.getTolerance())return 0}{const e=s.map((e=>e.boundingRectArea)).reduce(((e,n)=>e+n)),i=s.filter((e=>e!==n&&e!==t)).map((e=>e.boundingRectArea)).reduce(((e,n)=>e+n),0)+ss.glue(a,n,t).boundingRectArea;return i/e}}static glue(e,n,t){if(Array.isArray(e)){console.assert(0!==e.length),t.translate(-e[0],n.layout[e[0]].segment.reverse());for(const i of e)console.assert(n.layout[i].segment.equalTo(t.layout[-i].segment.reverse(),u.ZP.Utils.getTolerance()));console.assert(Object.keys(n.layout).every((e=>!t.layout.hasOwnProperty(e)))),console.assert(Object.keys(t.layout).every((e=>!n.layout.hasOwnProperty(e))));const s={...n.layout,...t.layout};for(const i of e)s[i]={segment:n.layout[i].segment,inner:!0},s[-i]={segment:t.layout[-i].segment,inner:!0};return new ss(n.surface,s)}return t.translate(-e,n.layout[e].segment.reverse()),ss.glue(n.glues(t),n,t)}static packable(e,n){for(let r=0;r<e.length;r++){const t=e[r];for(let s of t.halfEdges)for(let i of n)for(let n of i.halfEdges)if(s===-n)return e.splice(r,1),{unpackedCell:t,packedCell:i,unpackedHalfEdge:s,packedHalfEdge:n}}const t=e.pop(),s=n[0],i=t.halfEdges.filter((e=>!t.layout[e].inner)).flatMap((e=>s.halfEdges.filter((e=>!s.layout[e].inner)).map((n=>({unpackedHalfEdge:e,packedHalfEdge:n}))))),{unpackedHalfEdge:a,packedHalfEdge:o}=(0,ts.Z)(i,(({unpackedHalfEdge:e,packedHalfEdge:n})=>{let i=t.layout[e].segment.tangentInStart.angleTo(s.layout[n].segment.tangentInEnd);return i>Math.PI&&(i-=2*Math.PI),i=Math.abs(i),i}));return{unpackedCell:t,packedCell:s,unpackedHalfEdge:a,packedHalfEdge:o}}static pack(e,n){if(e.length<=1)return e;const t=[e.pop()];n.task("Packing Cells",e.length);while(e.length){n.progress();const{unpackedCell:s,packedCell:i,unpackedHalfEdge:a,packedHalfEdge:o}=ss.packable(e,t),r=s.layout[a].segment,l=i.layout[o].segment.reverse();console.log(l.tangentInStart.angleTo(r.tangentInStart)),console.log(`${a} ${o}`),s.translate(a,r.translate(new p(r.parent,r.start,new h(r.parent,0,0))).translate(new p(l.parent,new h(l.parent,0,0),l.start)));const d=t.map((e=>e.polygon.value.box)).reduce(((e,n)=>e.merge(n)),new u.ZP.Box),c=10*Math.max((d.xmax-d.xmin)/800,(d.ymax-d.ymin)/600),g=r.tangentInStart.rotate90CCW().multiply(c);do{s.translate(g)}while(t.some((e=>s.touches(e).length)));t.push(s)}return t}surface;boundingRectArea;layout;primary=!0}class is{constructor(e,n){this.triangulation=e,this.options=n,this.primary=[]}static async layout(e,n,t=new Wn,s=new Un){const i=new is(e,n);return await i.recompute(t,s),i}async recompute(e,n){if(0===this.triangulation.halfEdges.length)return void(this.halfEdges={});const t=new h(this.triangulation.vector(this.triangulation.halfEdges[0]).parent,0,0);let s=this.triangulation.faces.cycles.map((e=>new ss(this.triangulation,e,t)));n.task("Gluing Cells",s.length-1);const i={};for(const a of Array(s.length-1))n.progress(),s=await ss.merge(s,this.options,i,e,n);s=ss.pack(s.filter((e=>e.primary)),n),this.halfEdges=Object.assign({},...s.map((e=>e.layout))),this.primary=s.filter((e=>e.primary)).map((e=>e.halfEdges)).flat();for(const a of this.triangulation.halfEdges)!0!==this.options.glue(a)||this.layout(a).inner||console.log(`Half edge ${a} should be visually glued in the layout but this was not possible.`),!1===this.options.glue(a)&&this.layout(a).inner&&console.error(`Half edge ${a} should not be visually glued in the layout but it is.`)}layout(e){return{...this.halfEdges[e],primary:this.primary.includes(e)}}get hull(){return f.convexHull(this.primary.map((e=>[this.halfEdges[e].segment.start,this.halfEdges[e].segment.end])).flat())}get bbox(){return g.bbox(this.primary.map((e=>this.halfEdges[e].segment)))}triangulation;options;halfEdges;primary}async function as(e){await e(new Wn,new Un)}let os=class extends r.w3{triangulation;automorphisms;layout;options=new ft;effectiveLayout=null;run;render(){if(null!=this.effectiveLayout&&null!=this.$scopedSlots.default)return this.$scopedSlots.default({layout:this.effectiveLayout,relayout:this.relayout})}pendingRelayout=new Wn;async relayout(e){if(void 0===e){if(null!=this.effectiveLayout)return this.effectiveLayout;e=new ft((()=>null),this.automorphisms)}return this.options=e,this.pendingRelayout.abort(),await this.run((async(e,n)=>{this.pendingRelayout=e;try{this.effectiveLayout=await is.layout(this.triangulation,this.options,e,n)}catch(t){if(t instanceof Gn)return;throw t}})),this.$emit("layout",this.effectiveLayout),this.effectiveLayout}onSurfaceChanged(){this.effectiveLayout=this.layout,this.relayout()}async query(e){return"changed"===e&&await T(this,"effectiveLayout"),this.effectiveLayout}};(0,o.gn)([(0,r.fI)({required:!0,type:Object})],os.prototype,"triangulation",void 0),(0,o.gn)([(0,r.fI)({required:!1,type:Array,default:()=>[]})],os.prototype,"automorphisms",void 0),(0,o.gn)([(0,r.fI)({required:!1,type:Object,default:null})],os.prototype,"layout",void 0),(0,o.gn)([(0,r.tB)({from:"run",default:()=>as})],os.prototype,"run",void 0),(0,o.gn)([(0,r.RL)("triangulation",{immediate:!0})],os.prototype,"onSurfaceChanged",null),os=(0,o.gn)([r.wA],os);var rs=os;let ls=class extends r.w3{action;show;get flowComponents(){return this.show.includes("flow-components")?this.$store.state.flowComponents:[]}layoutChanged(e){this.$store.commit("layout",{layout:e})}};(0,o.gn)([(0,r.fI)({required:!0,type:String})],ls.prototype,"action",void 0),(0,o.gn)([(0,r.fI)({required:!0,type:Array})],ls.prototype,"show",void 0),ls=(0,o.gn)([(0,r.wA)({components:{ViewerComponent:Fn,GlueInteraction:xt,PathInteraction:It,TriangulationInteraction:Xt,LabelInteraction:ns,Layouter:rs}})],ls);var ds=ls,us=ds,hs=(0,_.Z)(us,Jt,Qt,!1,null,"3b8bdf4e",null),cs=hs.exports,gs=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",[t("v-speed-dial",{attrs:{top:"",left:"",fixed:"",direction:"bottom"},scopedSlots:e._u([{key:"activator",fn:function(){return[t("v-btn",{attrs:{color:e.showActions?"secondary":"primary",fab:"",small:""}},[e.showActions?t("v-icon",[e._v("mdi-close")]):t("v-icon",[e._v(e._s(e.actions[e.action]))])],1)]},proxy:!0}]),model:{value:e.showActions,callback:function(n){e.showActions=n},expression:"showActions"}},e._l(Object.entries(e.actions),(function(n){var s=n[0],i=n[1];return t("div",{key:s},[t("v-btn",{attrs:{color:"primary",small:"",fab:""},on:{click:function(n){return e.goto(s)}}},[t("v-icon",[e._v(e._s(i))])],1)],1)})),0),t("v-speed-dial",{attrs:{top:"",right:"",fixed:"",direction:"bottom"},scopedSlots:e._u([{key:"activator",fn:function(){return[t("v-btn",{attrs:{color:e.showParts?"secondary":"primary",fab:"",small:""}},[e.showParts?t("v-icon",[e._v("mdi-close")]):t("v-icon",[e._v("mdi-eye")])],1)]},proxy:!0}]),model:{value:e.showParts,callback:function(n){e.showParts=n},expression:"showParts"}},e._l(Object.entries(e.parts),(function(n){var s=n[0],i=n[1];return t("div",{key:s},[t("v-btn",{attrs:{color:e.show.includes(s)?"primary":"secondary",small:"",fab:""},on:{click:function(n){return e.goto(void 0,s)}}},[t("v-icon",[e._v(e._s(i))])],1)],1)})),0)],1)},fs=[];let ps=class extends r.w3{showActions=!1;showParts=!1;action;show;actions={glue:"mdi-link-variant",path:"mdi-map-marker-path",view:"mdi-hand-back-right-outline"};parts={outer:"mdi-border-all-variant",triangulation:"mdi-triforce","flow-components":"mdi-waves-arrow-up","numeric-labels":"mdi-numeric","outer-labels":"mdi-alphabetical"};goto(e,n){let t=[...this.show];null!=n&&(t.includes(n)?t=t.filter((e=>e!=n)):t.push(n)),this.$router.replace({path:this.$route.path,query:{...this.$route.query,action:e||this.action,show:t}})}};(0,o.gn)([(0,r.fI)({required:!0,type:String})],ps.prototype,"action",void 0),(0,o.gn)([(0,r.fI)({required:!0,type:Array})],ps.prototype,"show",void 0),ps=(0,o.gn)([r.wA],ps);var vs=ps,ys=vs,ms=t(5187),xs=(0,_.Z)(ys,gs,fs,!1,null,null,null),Es=xs.exports;et()(xs,{VBtn:nt.Z,VIcon:At.Z,VSpeedDial:ms.Z});var ws=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("v-card",[t("v-textarea",{staticClass:"editor",attrs:{label:"Surface Description (YAML)","error-messages":e.error,filled:"",rows:e.raw.split("\n").length},model:{value:e.raw,callback:function(n){e.raw=n},expression:"raw"}})],1)},bs=[];let Cs=class extends r.w3{get error(){return this.$store.state.error}get raw(){return this.$store.state.raw}set raw(e){this.$store.dispatch("reset",{raw:e})}};Cs=(0,o.gn)([r.wA],Cs);var ks=Cs,Ss=ks,_s=t(166),Is=t(4911),qs=(0,_.Z)(Ss,ws,bs,!1,null,"db891704",null),Zs=qs.exports;et()(qs,{VCard:_s.Z,VTextarea:Is.Z});var Os=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("v-navigation-drawer",{attrs:{permanent:"",app:""}},[t("v-list",{attrs:{nav:"",dense:""}},[t("v-list-item",[t("v-list-item-content",[t("v-list-item-title",[e._v(" PREDEFINED SURFACES ")])],1)],1),t("v-list-item-group",{attrs:{color:"primary"},model:{value:e.selected,callback:function(n){e.selected=n},expression:"selected"}},e._l(Object.keys(e.predefined),(function(n){return t("v-list-item",{key:n,attrs:{value:n,disabled:e.selected==n}},[t("v-list-item-content",[t("v-list-item-title",{domProps:{textContent:e._s(n)}})],1)],1)})),1)],1)],1)},Ps=[],js="vertices:\n- - 1\n  - -3\n  - 2\n  - -1\n  - 3\n  - -2\nvectors:\n  1:\n    x: 0.0\n    y: -1.7320508075688772\n  2:\n    x: 1.5\n    y: 0.8660254037844386\n  3:\n    x: -1.5\n    y: 0.8660254037844386\ncomponents:\n- cylinder: true\n  perimeter:\n  - source: 3\n    target: -3\n    vertical: false\n    boundary: false\n    vector:\n      x: -1.5\n      y: 0.8660254037844386\n    crossings: []\n    touches:\n    - halfEdge: 3\n      index: 0\n    - halfEdge: -3\n      index: 1\n  - source: 1\n    target: -1\n    vertical: true\n    boundary: false\n    vector:\n      x: 0.0\n      y: -1.7320508075688772\n    crossings: []\n    touches:\n    - halfEdge: 1\n      index: 0\n    - halfEdge: -1\n      index: 1\n  - source: -3\n    target: 3\n    vertical: false\n    boundary: false\n    vector:\n      x: 1.5\n      y: -0.8660254037844386\n    crossings: []\n    touches:\n    - halfEdge: -3\n      index: 0\n    - halfEdge: 3\n      index: 1\n  - source: -1\n    target: 1\n    vertical: true\n    boundary: false\n    vector:\n      x: 0.0\n      y: 1.7320508075688772\n    crossings: []\n    touches:\n    - halfEdge: -1\n      index: 0\n    - halfEdge: 1\n      index: 1\n  inside:\n  - 1\n  - -1\n  - 2\n  - -2\n  - 3\n  - -3\n",$s="vertices:\n- - 1\n  - -3\n  - -9\n  - 6\n  - -7\n  - 4\n- - -1\n  - -5\n  - 9\n  - -8\n  - 7\n  - 2\n- - -2\n  - -6\n  - 5\n  - -4\n  - 8\n  - 3\nvectors:\n  1:\n    x: 1.0\n    y: 0.0\n  2:\n    x: -0.5\n    y: 0.8660254037844386\n  3:\n    x: -0.5\n    y: -0.8660254037844386\n  4:\n    x: 0.5\n    y: -0.8660254037844386\n  5:\n    x: 0.5\n    y: 0.8660254037844386\n  6:\n    x: -1.0\n    y: 0.0\n  7:\n    x: 0.5\n    y: 0.8660254037844386\n  8:\n    x: -1.0\n    y: 0.0\n  9:\n    x: 0.5\n    y: -0.8660254037844386\ncomponents:\n- cylinder: true\n  perimeter:\n  - source: -9\n    target: 4\n    vertical: false\n    boundary: false\n    vector:\n      x: -1.5\n      y: 0.8660254037844386\n    crossings:\n    - halfEdge: -5\n      at: 0.5\n    touches:\n    - halfEdge: -9\n      index: 0\n    - halfEdge: -5\n      index: 1\n    - halfEdge: 5\n      index: 0\n    - halfEdge: 4\n      index: 1\n  - source: -7\n    target: -3\n    vertical: true\n    boundary: false\n    vector:\n      x: 0.0\n      y: -1.7320508075688772\n    crossings:\n    - halfEdge: -8\n      at: 0.5\n    touches:\n    - halfEdge: -7\n      index: 0\n    - halfEdge: -8\n      index: 1\n    - halfEdge: 8\n      index: 0\n    - halfEdge: -3\n      index: 1\n  - source: 4\n    target: -9\n    vertical: false\n    boundary: false\n    vector:\n      x: 1.5\n      y: -0.8660254037844386\n    crossings:\n    - halfEdge: 5\n      at: 0.5\n    touches:\n    - halfEdge: 4\n      index: 0\n    - halfEdge: 5\n      index: 1\n    - halfEdge: -5\n      index: 0\n    - halfEdge: -9\n      index: 1\n  - source: -3\n    target: -7\n    vertical: true\n    boundary: false\n    vector:\n      x: 0.0\n      y: 1.7320508075688772\n    crossings:\n    - halfEdge: 8\n      at: 0.5\n    touches:\n    - halfEdge: -3\n      index: 0\n    - halfEdge: 8\n      index: 1\n    - halfEdge: -8\n      index: 0\n    - halfEdge: -7\n      index: 1\n  inside:\n  - 1\n  - -1\n  - 2\n  - -2\n  - 3\n  - -3\n  - 4\n  - -4\n  - 6\n  - -6\n  - 7\n  - -7\n  - 9\n  - -9\n",Ts="vertices:\n- - 1\n  - -3\n  - -9\n  - -11\n  - 14\n  - -15\n  - 12\n  - 6\n  - -7\n  - 4\n- - -1\n  - -5\n  - 9\n  - -8\n  - -14\n  - 13\n  - -12\n  - 10\n  - 7\n  - 2\n- - -2\n  - -6\n  - -13\n  - 11\n  - 5\n  - -4\n  - -10\n  - 15\n  - 8\n  - 3\nvectors:\n  1:\n    x: 1.0\n    y: 0.0\n  2:\n    x: -0.5\n    y: 0.36327126400268045\n  3:\n    x: -0.5\n    y: -0.36327126400268045\n  4:\n    x: 0.5\n    y: -0.36327126400268045\n  5:\n    x: 0.5\n    y: 0.36327126400268045\n  6:\n    x: -0.19098300562505258\n    y: -0.5877852522924731\n  7:\n    x: -0.30901699437494745\n    y: 0.9510565162951535\n  8:\n    x: -0.19098300562505258\n    y: 0.5877852522924731\n  9:\n    x: -0.30901699437494745\n    y: -0.9510565162951535\n  10:\n    x: 0.19098300562505258\n    y: 0.5877852522924731\n  11:\n    x: 0.19098300562505258\n    y: -0.5877852522924731\n  12:\n    x: -0.8090169943749475\n    y: -0.5877852522924731\n  13:\n    x: 0.6180339887498949\n    y: 0.0\n  14:\n    x: -0.8090169943749475\n    y: 0.5877852522924731\n  15:\n    x: 0.6180339887498949\n    y: 0.0\ncomponents:\n- cylinder: true\n  perimeter:\n  - source: 5\n    target: 3\n    vertical: false\n    boundary: false\n    vector:\n      x: 0.0\n      y: 0.7265425280053609\n    crossings:\n    - halfEdge: -1\n      at: 0.5\n    touches:\n    - halfEdge: 5\n      index: 0\n    - halfEdge: -1\n      index: 1\n    - halfEdge: 1\n      index: 0\n    - halfEdge: 3\n      index: 1\n  - source: 8\n    target: 11\n    vertical: true\n    boundary: false\n    vector:\n      x: -0.6909830056250525\n      y: 0.2245139882897927\n    crossings:\n    - halfEdge: 9\n      at: 0.5\n    touches:\n    - halfEdge: 8\n      index: 0\n    - halfEdge: 9\n      index: 1\n    - halfEdge: -9\n      index: 0\n    - halfEdge: 11\n      index: 1\n  - source: -6\n    target: -2\n    vertical: true\n    boundary: true\n    vector:\n      x: -1.118033988749895\n      y: 0.36327126400268045\n    crossings:\n    - halfEdge: 12\n      at: 0.7639320225002103\n    - halfEdge: -10\n      at: 0.6909830056250525\n    - halfEdge: -7\n      at: 0.7639320225002103\n    touches:\n    - halfEdge: -6\n      index: 0\n    - halfEdge: 12\n      index: 1\n    - halfEdge: -12\n      index: 0\n    - halfEdge: -10\n      index: 1\n    - halfEdge: 10\n      index: 0\n    - halfEdge: -7\n      index: 1\n    - halfEdge: 7\n      index: 0\n    - halfEdge: -2\n      index: 0\n  - source: 3\n    target: 5\n    vertical: false\n    boundary: false\n    vector:\n      x: 0.0\n      y: -0.7265425280053609\n    crossings:\n    - halfEdge: 1\n      at: 0.5\n    touches:\n    - halfEdge: 3\n      index: 0\n    - halfEdge: 1\n      index: 1\n    - halfEdge: -1\n      index: 0\n    - halfEdge: 5\n      index: 1\n  - source: 11\n    target: 8\n    vertical: true\n    boundary: false\n    vector:\n      x: 0.6909830056250525\n      y: -0.2245139882897927\n    crossings:\n    - halfEdge: -9\n      at: 0.5\n    touches:\n    - halfEdge: 11\n      index: 0\n    - halfEdge: -9\n      index: 1\n    - halfEdge: 9\n      index: 0\n    - halfEdge: 8\n      index: 1\n  - source: -10\n    target: -4\n    vertical: true\n    boundary: true\n    vector:\n      x: 1.118033988749895\n      y: -0.36327126400268045\n    crossings:\n    - halfEdge: -12\n      at: 0.7639320225002103\n    - halfEdge: -6\n      at: 0.6909830056250525\n    - halfEdge: 7\n      at: 0.7639320225002103\n    touches:\n    - halfEdge: -10\n      index: 0\n    - halfEdge: -12\n      index: 1\n    - halfEdge: 12\n      index: 0\n    - halfEdge: -6\n      index: 1\n    - halfEdge: 6\n      index: 0\n    - halfEdge: 7\n      index: 1\n    - halfEdge: -7\n      index: 0\n    - halfEdge: -4\n      index: 0\n  inside:\n  - 2\n  - -2\n  - 3\n  - -3\n  - 4\n  - -4\n  - 5\n  - -5\n  - 8\n  - -8\n  - 11\n  - -11\n  - 13\n  - -13\n  - 14\n  - -14\n  - 15\n  - -15\n- cylinder: true\n  perimeter:\n  - source: -2\n    target: -4\n    vertical: false\n    boundary: false\n    vector:\n      x: 1.8090169943749475\n      y: -0.13875727571288776\n    crossings:\n    - halfEdge: 7\n      at: 0.3503729060226986\n    - halfEdge: 10\n      at: 0.5393446629166316\n    - halfEdge: -12\n      at: 0.5\n    - halfEdge: -6\n      at: 0.46065533708336837\n    - halfEdge: 7\n      at: 0.6496270939773015\n    touches:\n    - halfEdge: -2\n      index: 0\n    - halfEdge: 7\n      index: 2\n    - halfEdge: -7\n      index: 3\n    - halfEdge: 10\n      index: 2\n    - halfEdge: -10\n      index: 1\n    - halfEdge: -12\n      index: 2\n    - halfEdge: 12\n      index: 1\n    - halfEdge: -6\n      index: 2\n    - halfEdge: 6\n      index: 1\n    - halfEdge: 7\n      index: 4\n    - halfEdge: -7\n      index: 1\n    - halfEdge: -4\n      index: 1\n  - source: -4\n    target: -10\n    vertical: true\n    boundary: true\n    vector:\n      x: -1.118033988749895\n      y: 0.36327126400268045\n    crossings:\n    - halfEdge: -7\n      at: 0.2360679774997897\n    - halfEdge: 6\n      at: 0.30901699437494745\n    - halfEdge: 12\n      at: 0.2360679774997897\n    touches:\n    - halfEdge: -4\n      index: 2\n    - halfEdge: -7\n      index: 0\n    - halfEdge: 7\n      index: 5\n    - halfEdge: 6\n      index: 0\n    - halfEdge: -6\n      index: 3\n    - halfEdge: 12\n      index: 0\n    - halfEdge: -12\n      index: 3\n    - halfEdge: -10\n      index: 0\n  - source: -4\n    target: -2\n    vertical: false\n    boundary: false\n    vector:\n      x: -1.8090169943749475\n      y: 0.13875727571288776\n    crossings:\n    - halfEdge: -7\n      at: 0.3503729060226986\n    - halfEdge: 6\n      at: 0.5393446629166316\n    - halfEdge: 12\n      at: 0.5\n    - halfEdge: -10\n      at: 0.46065533708336837\n    - halfEdge: -7\n      at: 0.6496270939773015\n    touches:\n    - halfEdge: -4\n      index: 0\n    - halfEdge: -7\n      index: 2\n    - halfEdge: 7\n      index: 3\n    - halfEdge: 6\n      index: 2\n    - halfEdge: -6\n      index: 1\n    - halfEdge: 12\n      index: 2\n    - halfEdge: -12\n      index: 1\n    - halfEdge: -10\n      index: 2\n    - halfEdge: 10\n      index: 1\n    - halfEdge: -7\n      index: 4\n    - halfEdge: 7\n      index: 1\n    - halfEdge: -2\n      index: 1\n  - source: -2\n    target: -6\n    vertical: true\n    boundary: true\n    vector:\n      x: 1.118033988749895\n      y: -0.36327126400268045\n    crossings:\n    - halfEdge: 7\n      at: 0.2360679774997897\n    - halfEdge: 10\n      at: 0.30901699437494745\n    - halfEdge: -12\n      at: 0.2360679774997897\n    touches:\n    - halfEdge: -2\n      index: 2\n    - halfEdge: 7\n      index: 0\n    - halfEdge: -7\n      index: 5\n    - halfEdge: 10\n      index: 0\n    - halfEdge: -10\n      index: 3\n    - halfEdge: -12\n      index: 0\n    - halfEdge: 12\n      index: 3\n    - halfEdge: -6\n      index: 0\n  inside: []\n",As="vertices:\n- - 1\n  - -3\n  - -4\n  - -9\n  - 8\n  - -7\n  - 9\n  - 5\n  - 2\n  - -1\n  - 3\n  - -2\n  - -6\n  - -8\n  - 7\n  - 6\n  - -5\n  - 4\nvectors:\n  1:\n    x: -0.6909830056250525\n    y: 0.2245139882897927\n  2:\n    x: 0.6909830056250525\n    y: -0.9510565162951535\n  3:\n    x: 0.0\n    y: 0.7265425280053609\n  4:\n    x: -0.6909830056250525\n    y: 0.9510565162951535\n  5:\n    x: -0.4270509831248423\n    y: -0.5877852522924731\n  6:\n    x: 1.118033988749895\n    y: -0.36327126400268045\n  7:\n    x: 0.4270509831248423\n    y: -0.5877852522924731\n  8:\n    x: 0.6909830056250525\n    y: 0.2245139882897927\n  9:\n    x: -1.118033988749895\n    y: 0.36327126400268045\ncomponents:\n- cylinder: true\n  perimeter:\n  - source: 8\n    target: -8\n    vertical: false\n    boundary: false\n    vector:\n      x: 0.6909830056250525\n      y: 0.2245139882897927\n    crossings: []\n    touches:\n    - halfEdge: 8\n      index: 0\n    - halfEdge: -8\n      index: 1\n  - source: -6\n    target: 6\n    vertical: true\n    boundary: true\n    vector:\n      x: -1.118033988749895\n      y: 0.36327126400268045\n    crossings: []\n    touches:\n    - halfEdge: -6\n      index: 0\n    - halfEdge: 6\n      index: 0\n  - source: -8\n    target: 8\n    vertical: false\n    boundary: false\n    vector:\n      x: -0.6909830056250525\n      y: -0.2245139882897927\n    crossings: []\n    touches:\n    - halfEdge: -8\n      index: 0\n    - halfEdge: 8\n      index: 1\n  - source: -9\n    target: 9\n    vertical: true\n    boundary: true\n    vector:\n      x: 1.118033988749895\n      y: -0.36327126400268045\n    crossings: []\n    touches:\n    - halfEdge: -9\n      index: 0\n    - halfEdge: 9\n      index: 0\n  inside:\n  - -6\n  - 7\n  - -7\n  - 8\n  - -8\n  - -9\n- cylinder: true\n  perimeter:\n  - source: -5\n    target: 5\n    vertical: false\n    boundary: false\n    vector:\n      x: 0.4270509831248423\n      y: 0.5877852522924731\n    crossings: []\n    touches:\n    - halfEdge: -5\n      index: 0\n    - halfEdge: 5\n      index: 1\n  - source: 9\n    target: -9\n    vertical: true\n    boundary: true\n    vector:\n      x: -1.118033988749895\n      y: 0.36327126400268045\n    crossings: []\n    touches:\n    - halfEdge: 9\n      index: 0\n    - halfEdge: -9\n      index: 0\n  - source: 1\n    target: -1\n    vertical: true\n    boundary: false\n    vector:\n      x: -0.6909830056250525\n      y: 0.2245139882897927\n    crossings: []\n    touches:\n    - halfEdge: 1\n      index: 0\n    - halfEdge: -1\n      index: 1\n  - source: 5\n    target: -5\n    vertical: false\n    boundary: false\n    vector:\n      x: -0.4270509831248423\n      y: -0.5877852522924731\n    crossings: []\n    touches:\n    - halfEdge: 5\n      index: 0\n    - halfEdge: -5\n      index: 1\n  - source: 6\n    target: -6\n    vertical: true\n    boundary: true\n    vector:\n      x: 1.118033988749895\n      y: -0.36327126400268045\n    crossings: []\n    touches:\n    - halfEdge: 6\n      index: 0\n    - halfEdge: -6\n      index: 0\n  - source: -1\n    target: 1\n    vertical: true\n    boundary: false\n    vector:\n      x: 0.6909830056250525\n      y: -0.2245139882897927\n    crossings: []\n    touches:\n    - halfEdge: -1\n      index: 0\n    - halfEdge: 1\n      index: 1\n  inside:\n  - 1\n  - -1\n  - 2\n  - -2\n  - 3\n  - -3\n  - 4\n  - -4\n  - 5\n  - -5\n  - 6\n  - 9\n",Ls="vertices:\n- - 1\n  - -3\n  - -9\n  - -15\n  - 12\n  - 6\n  - -7\n  - -13\n  - 10\n  - 4\n- - -1\n  - -5\n  - -12\n  - 11\n  - -10\n  - 14\n  - 9\n  - -8\n  - 7\n  - 2\n- - -2\n  - -6\n  - 5\n  - -4\n  - -11\n  - 15\n  - -14\n  - 13\n  - 8\n  - 3\nvectors:\n  1:\n    x: 1.0\n    y: 0.0\n  2:\n    x: -0.19098300562505258\n    y: 0.5877852522924731\n  3:\n    x: -0.8090169943749475\n    y: -0.5877852522924731\n  4:\n    x: 0.8090169943749475\n    y: -0.5877852522924731\n  5:\n    x: 0.19098300562505258\n    y: 0.5877852522924731\n  6:\n    x: -1.0\n    y: 0.0\n  7:\n    x: 0.8090169943749475\n    y: 0.5877852522924731\n  8:\n    x: -0.5\n    y: 0.36327126400268045\n  9:\n    x: -0.30901699437494745\n    y: -0.9510565162951535\n  10:\n    x: 0.30901699437494745\n    y: -0.9510565162951535\n  11:\n    x: 0.5\n    y: 0.36327126400268045\n  12:\n    x: -0.8090169943749475\n    y: 0.5877852522924731\n  13:\n    x: 0.30901699437494745\n    y: 0.9510565162951535\n  14:\n    x: -0.6180339887498949\n    y: 0.0\n  15:\n    x: 0.30901699437494745\n    y: -0.9510565162951535\ncomponents:\n- cylinder: true\n  perimeter:\n  - source: -8\n    target: 8\n    vertical: false\n    boundary: false\n    vector:\n      x: 0.5\n      y: -0.36327126400268045\n    crossings: []\n    touches:\n    - halfEdge: -8\n      index: 0\n    - halfEdge: 8\n      index: 1\n  - source: 13\n    target: -5\n    vertical: true\n    boundary: true\n    vector:\n      x: -0.5\n      y: 1.5388417685876268\n    crossings:\n    - halfEdge: -7\n      at: 0.6180339887498949\n    - halfEdge: 6\n      at: 0.6180339887498949\n    touches:\n    - halfEdge: 13\n      index: 0\n    - halfEdge: -7\n      index: 0\n    - halfEdge: 7\n      index: 0\n    - halfEdge: 6\n      index: 0\n    - halfEdge: -6\n      index: 0\n    - halfEdge: -5\n      index: 0\n  - source: 2\n    target: -2\n    vertical: true\n    boundary: false\n    vector:\n      x: -0.19098300562505258\n      y: 0.5877852522924731\n    crossings: []\n    touches:\n    - halfEdge: 2\n      index: 0\n    - halfEdge: -2\n      index: 1\n  - source: 8\n    target: -8\n    vertical: false\n    boundary: false\n    vector:\n      x: -0.5\n      y: 0.36327126400268045\n    crossings: []\n    touches:\n    - halfEdge: 8\n      index: 0\n    - halfEdge: -8\n      index: 1\n  - source: 9\n    target: 5\n    vertical: true\n    boundary: true\n    vector:\n      x: 0.5\n      y: -1.5388417685876268\n    crossings:\n    - halfEdge: -3\n      at: 0.6180339887498949\n    - halfEdge: 1\n      at: 0.6180339887498949\n    touches:\n    - halfEdge: 9\n      index: 0\n    - halfEdge: -3\n      index: 0\n    - halfEdge: 3\n      index: 0\n    - halfEdge: 1\n      index: 0\n    - halfEdge: -1\n      index: 0\n    - halfEdge: 5\n      index: 0\n  - source: -2\n    target: 2\n    vertical: true\n    boundary: false\n    vector:\n      x: 0.19098300562505258\n      y: -0.5877852522924731\n    crossings: []\n    touches:\n    - halfEdge: -2\n      index: 0\n    - halfEdge: 2\n      index: 1\n  inside:\n  - 2\n  - -2\n  - 5\n  - -5\n  - 8\n  - -8\n- cylinder: true\n  perimeter:\n  - source: -14\n    target: 14\n    vertical: false\n    boundary: false\n    vector:\n      x: 0.6180339887498949\n      y: 0.0\n    crossings: []\n    touches:\n    - halfEdge: -14\n      index: 0\n    - halfEdge: 14\n      index: 1\n  - source: -10\n    target: 10\n    vertical: true\n    boundary: false\n    vector:\n      x: -0.30901699437494745\n      y: 0.9510565162951535\n    crossings: []\n    touches:\n    - halfEdge: -10\n      index: 0\n    - halfEdge: 10\n      index: 1\n  - source: -15\n    target: 15\n    vertical: true\n    boundary: false\n    vector:\n      x: -0.30901699437494745\n      y: 0.9510565162951535\n    crossings: []\n    touches:\n    - halfEdge: -15\n      index: 0\n    - halfEdge: 15\n      index: 1\n  - source: 5\n    target: 9\n    vertical: true\n    boundary: true\n    vector:\n      x: -0.5\n      y: 1.5388417685876268\n    crossings:\n    - halfEdge: -1\n      at: 0.38196601125010515\n    - halfEdge: 3\n      at: 0.38196601125010515\n    touches:\n    - halfEdge: 5\n      index: 0\n    - halfEdge: -1\n      index: 0\n    - halfEdge: 1\n      index: 0\n    - halfEdge: 3\n      index: 0\n    - halfEdge: -3\n      index: 0\n    - halfEdge: 9\n      index: 0\n  - source: 14\n    target: -14\n    vertical: false\n    boundary: false\n    vector:\n      x: -0.6180339887498949\n      y: 0.0\n    crossings: []\n    touches:\n    - halfEdge: 14\n      index: 0\n    - halfEdge: -14\n      index: 1\n  - source: 15\n    target: -15\n    vertical: true\n    boundary: false\n    vector:\n      x: 0.30901699437494745\n      y: -0.9510565162951535\n    crossings: []\n    touches:\n    - halfEdge: 15\n      index: 0\n    - halfEdge: -15\n      index: 1\n  - source: 10\n    target: -10\n    vertical: true\n    boundary: false\n    vector:\n      x: 0.30901699437494745\n      y: -0.9510565162951535\n    crossings: []\n    touches:\n    - halfEdge: 10\n      index: 0\n    - halfEdge: -10\n      index: 1\n  - source: -5\n    target: 13\n    vertical: true\n    boundary: true\n    vector:\n      x: 0.5\n      y: -1.5388417685876268\n    crossings:\n    - halfEdge: -6\n      at: 0.38196601125010515\n    - halfEdge: 7\n      at: 0.38196601125010515\n    touches:\n    - halfEdge: -5\n      index: 0\n    - halfEdge: -6\n      index: 0\n    - halfEdge: 6\n      index: 0\n    - halfEdge: 7\n      index: 0\n    - halfEdge: -7\n      index: 0\n    - halfEdge: 13\n      index: 0\n  inside:\n  - 4\n  - -4\n  - 9\n  - -9\n  - 10\n  - -10\n  - 11\n  - -11\n  - 12\n  - -12\n  - 13\n  - -13\n  - 14\n  - -14\n  - 15\n  - -15\n",Vs="vertices:\n- - 1\n  - -3\n  - -5\n  - -11\n  - 9\n  - 8\n  - -7\n  - 6\n- - -1\n  - 4\n  - 3\n  - -2\n  - -8\n  - -10\n  - 5\n  - -4\n  - -6\n  - 12\n  - 11\n  - 10\n  - -9\n  - -12\n  - 7\n  - 2\nvectors:\n  1:\n    x: -0.19098300562505258\n    y: 0.5877852522924731\n  2:\n    x: 0.0\n    y: -1.1755705045849463\n  3:\n    x: 0.19098300562505258\n    y: 0.5877852522924731\n  4:\n    x: 1.8090169943749475\n    y: -0.5877852522924731\n  5:\n    x: -1.618033988749895\n    y: 1.1755705045849463\n  6:\n    x: 1.618033988749895\n    y: 0.0\n  7:\n    x: -0.5\n    y: 0.36327126400268045\n  8:\n    x: 0.5\n    y: -1.5388417685876268\n  9:\n    x: -0.6180339887498949\n    y: 0.0\n  10:\n    x: 1.118033988749895\n    y: -1.5388417685876268\n  11:\n    x: -0.5\n    y: -0.36327126400268045\n  12:\n    x: -1.118033988749895\n    y: -0.36327126400268045\ncomponents:\n- cylinder: true\n  perimeter:\n  - source: -7\n    target: 7\n    vertical: false\n    boundary: false\n    vector:\n      x: 0.5\n      y: -0.36327126400268045\n    crossings: []\n    touches:\n    - halfEdge: -7\n      index: 0\n    - halfEdge: 7\n      index: 1\n  - source: -12\n    target: -3\n    vertical: true\n    boundary: true\n    vector:\n      x: -0.5\n      y: 1.5388417685876268\n    crossings:\n    - halfEdge: -6\n      at: 0.7639320225002103\n    - halfEdge: -4\n      at: 0.7639320225002103\n    touches:\n    - halfEdge: -12\n      index: 0\n    - halfEdge: -6\n      index: 0\n    - halfEdge: 6\n      index: 0\n    - halfEdge: -4\n      index: 0\n    - halfEdge: 4\n      index: 0\n    - halfEdge: -3\n      index: 0\n  - source: 1\n    target: -1\n    vertical: true\n    boundary: false\n    vector:\n      x: -0.19098300562505258\n      y: 0.5877852522924731\n    crossings: []\n    touches:\n    - halfEdge: 1\n      index: 0\n    - halfEdge: -1\n      index: 1\n  - source: 7\n    target: -7\n    vertical: false\n    boundary: false\n    vector:\n      x: -0.5\n      y: 0.36327126400268045\n    crossings: []\n    touches:\n    - halfEdge: 7\n      index: 0\n    - halfEdge: -7\n      index: 1\n  - source: 8\n    target: -8\n    vertical: true\n    boundary: true\n    vector:\n      x: 0.5\n      y: -1.5388417685876268\n    crossings: []\n    touches:\n    - halfEdge: 8\n      index: 0\n    - halfEdge: -8\n      index: 0\n  - source: -1\n    target: 1\n    vertical: true\n    boundary: false\n    vector:\n      x: 0.19098300562505258\n      y: -0.5877852522924731\n    crossings: []\n    touches:\n    - halfEdge: -1\n      index: 0\n    - halfEdge: 1\n      index: 1\n  inside:\n  - 1\n  - -1\n  - 2\n  - -2\n  - 3\n  - -3\n  - 7\n  - -7\n  - 8\n- cylinder: true\n  perimeter:\n  - source: -9\n    target: 9\n    vertical: false\n    boundary: false\n    vector:\n      x: 0.6180339887498949\n      y: 0.0\n    crossings: []\n    touches:\n    - halfEdge: -9\n      index: 0\n    - halfEdge: 9\n      index: 1\n  - source: -11\n    target: 11\n    vertical: true\n    boundary: false\n    vector:\n      x: -0.6180339887498949\n      y: 1.902113032590307\n    crossings:\n    - halfEdge: 12\n      at: 0.5\n    - halfEdge: -6\n      at: 0.38196601125010515\n    - halfEdge: -4\n      at: 0.38196601125010515\n    - halfEdge: 5\n      at: 0.5\n    touches:\n    - halfEdge: -11\n      index: 0\n    - halfEdge: 12\n      index: 1\n    - halfEdge: -12\n      index: 1\n    - halfEdge: -6\n      index: 1\n    - halfEdge: 6\n      index: 1\n    - halfEdge: -4\n      index: 1\n    - halfEdge: 4\n      index: 1\n    - halfEdge: 5\n      index: 1\n    - halfEdge: -5\n      index: 0\n    - halfEdge: 11\n      index: 1\n  - source: -8\n    target: 8\n    vertical: true\n    boundary: true\n    vector:\n      x: -0.5\n      y: 1.5388417685876268\n    crossings: []\n    touches:\n    - halfEdge: -8\n      index: 0\n    - halfEdge: 8\n      index: 0\n  - source: 9\n    target: -9\n    vertical: false\n    boundary: false\n    vector:\n      x: -0.6180339887498949\n      y: 0.0\n    crossings: []\n    touches:\n    - halfEdge: 9\n      index: 0\n    - halfEdge: -9\n      index: 1\n  - source: 11\n    target: -11\n    vertical: true\n    boundary: false\n    vector:\n      x: 0.6180339887498949\n      y: -1.902113032590307\n    crossings:\n    - halfEdge: -5\n      at: 0.5\n    - halfEdge: 4\n      at: 0.6180339887498949\n    - halfEdge: 6\n      at: 0.6180339887498949\n    - halfEdge: -12\n      at: 0.5\n    touches:\n    - halfEdge: 11\n      index: 0\n    - halfEdge: -5\n      index: 1\n    - halfEdge: 5\n      index: 0\n    - halfEdge: 4\n      index: 2\n    - halfEdge: -4\n      index: 0\n    - halfEdge: 6\n      index: 2\n    - halfEdge: -6\n      index: 0\n    - halfEdge: -12\n      index: 2\n    - halfEdge: 12\n      index: 0\n    - halfEdge: -11\n      index: 1\n  - source: -3\n    target: -12\n    vertical: true\n    boundary: true\n    vector:\n      x: 0.5\n      y: -1.5388417685876268\n    crossings:\n    - halfEdge: 4\n      at: 0.2360679774997897\n    - halfEdge: 6\n      at: 0.2360679774997897\n    touches:\n    - halfEdge: -3\n      index: 0\n    - halfEdge: 4\n      index: 0\n    - halfEdge: -4\n      index: 2\n    - halfEdge: 6\n      index: 0\n    - halfEdge: -6\n      index: 2\n    - halfEdge: -12\n      index: 0\n  inside:\n  - -8\n  - 9\n  - -9\n  - 10\n  - -10\n  - 11\n  - -11\n",Rs="vertices:\n- - 1\n  - -3\n  - -9\n  - -21\n  - 12\n  - -13\n  - 18\n  - -19\n  - -24\n  - 22\n  - 14\n  - 6\n  - -7\n  - -17\n  - 10\n  - 4\n- - -1\n  - -5\n  - -12\n  - -23\n  - 24\n  - 16\n  - 7\n  - 2\n- - -2\n  - -6\n  - -15\n  - 13\n  - 5\n  - -4\n  - -11\n  - -22\n  - 23\n  - 21\n  - -20\n  - 17\n  - -16\n  - 19\n  - 8\n  - 3\n- - -8\n  - -18\n  - 15\n  - -14\n  - 11\n  - -10\n  - 20\n  - 9\nvectors:\n  1:\n    x: 1.0\n    y: 0.0\n  2:\n    x: -0.2928932188134525\n    y: 0.2928932188134525\n  3:\n    x: -0.7071067811865476\n    y: -0.2928932188134525\n  4:\n    x: 0.7071067811865476\n    y: -0.2928932188134525\n  5:\n    x: 0.2928932188134525\n    y: 0.2928932188134525\n  6:\n    x: -0.2928932188134525\n    y: -0.7071067811865476\n  7:\n    x: 0.0\n    y: 1.0\n  8:\n    x: 0.0\n    y: 0.41421356237309503\n  9:\n    x: -0.7071067811865476\n    y: -0.7071067811865476\n  10:\n    x: 0.7071067811865476\n    y: -0.7071067811865476\n  11:\n    x: 0.0\n    y: 0.41421356237309503\n  12:\n    x: 0.0\n    y: 1.0\n  13:\n    x: 0.2928932188134525\n    y: -0.7071067811865476\n  14:\n    x: -0.7071067811865476\n    y: -0.7071067811865476\n  15:\n    x: 0.41421356237309503\n    y: 0.0\n  16:\n    x: 0.2928932188134525\n    y: 0.2928932188134525\n  17:\n    x: -0.2928932188134525\n    y: 0.7071067811865476\n  18:\n    x: -0.7071067811865476\n    y: 0.7071067811865476\n  19:\n    x: 0.7071067811865476\n    y: -0.2928932188134525\n  20:\n    x: -0.41421356237309503\n    y: 0.0\n  21:\n    x: -0.2928932188134525\n    y: -0.7071067811865476\n  22:\n    x: -0.7071067811865476\n    y: -0.2928932188134525\n  23:\n    x: -0.2928932188134525\n    y: 0.2928932188134525\n  24:\n    x: 1.0\n    y: 0.0\ncomponents:\n- cylinder: true\n  perimeter:\n  - source: 5\n    target: 3\n    vertical: false\n    boundary: false\n    vector:\n      x: 0.0\n      y: 0.585786437626905\n    crossings:\n    - halfEdge: -1\n      at: 0.2928932188134525\n    touches:\n    - halfEdge: 5\n      index: 1\n    - halfEdge: -1\n      index: 1\n    - halfEdge: 1\n      index: 1\n    - halfEdge: 3\n      index: 1\n  - source: 8\n    target: 21\n    vertical: true\n    boundary: true\n    vector:\n      x: -0.41421356237309503\n      y: 0.41421356237309503\n    crossings:\n    - halfEdge: 9\n      at: 0.2928932188134525\n    touches:\n    - halfEdge: 8\n      index: 0\n    - halfEdge: 9\n      index: 0\n    - halfEdge: -9\n      index: 1\n    - halfEdge: 21\n      index: 0\n  - source: 23\n    target: -23\n    vertical: true\n    boundary: true\n    vector:\n      x: -0.2928932188134525\n      y: 0.2928932188134525\n    crossings: []\n    touches:\n    - halfEdge: 23\n      index: 0\n    - halfEdge: -23\n      index: 0\n  - source: 2\n    target: -2\n    vertical: true\n    boundary: true\n    vector:\n      x: -0.2928932188134525\n      y: 0.2928932188134525\n    crossings: []\n    touches:\n    - halfEdge: 2\n      index: 0\n    - halfEdge: -2\n      index: 0\n  - source: 3\n    target: 5\n    vertical: false\n    boundary: false\n    vector:\n      x: 0.0\n      y: -0.585786437626905\n    crossings:\n    - halfEdge: 1\n      at: 0.7071067811865476\n    touches:\n    - halfEdge: 3\n      index: 0\n    - halfEdge: 1\n      index: 2\n    - halfEdge: -1\n      index: 0\n    - halfEdge: 5\n      index: 2\n  - source: 13\n    target: 5\n    vertical: true\n    boundary: true\n    vector:\n      x: 1.0\n      y: -1.0\n    crossings:\n    - halfEdge: 12\n      at: 0.41421356237309503\n    - halfEdge: -21\n      at: 0.41421356237309503\n    - halfEdge: -9\n      at: 0.2928932188134525\n    - halfEdge: -3\n      at: 0.41421356237309503\n    - halfEdge: 1\n      at: 0.41421356237309503\n    touches:\n    - halfEdge: 13\n      index: 0\n    - halfEdge: 12\n      index: 0\n    - halfEdge: -12\n      index: 0\n    - halfEdge: -21\n      index: 0\n    - halfEdge: 21\n      index: 1\n    - halfEdge: -9\n      index: 0\n    - halfEdge: 9\n      index: 1\n    - halfEdge: -3\n      index: 0\n    - halfEdge: 3\n      index: 2\n    - halfEdge: 1\n      index: 0\n    - halfEdge: -1\n      index: 2\n    - halfEdge: 5\n      index: 0\n  inside:\n  - 2\n  - 5\n  - -5\n  - 23\n- cylinder: true\n  perimeter:\n  - source: -2\n    target: 17\n    vertical: false\n    boundary: false\n    vector:\n      x: 0.585786437626905\n      y: 0.0\n    crossings:\n    - halfEdge: 7\n      at: 0.2928932188134525\n    touches:\n    - halfEdge: -2\n      index: 0\n    - halfEdge: 7\n      index: 1\n    - halfEdge: -7\n      index: 1\n    - halfEdge: 17\n      index: 1\n  - source: 17\n    target: -16\n    vertical: true\n    boundary: true\n    vector:\n      x: -1.0\n      y: 1.0\n    crossings:\n    - halfEdge: -7\n      at: 0.41421356237309503\n    - halfEdge: 6\n      at: 0.41421356237309503\n    - halfEdge: 14\n      at: 0.2928932188134525\n    - halfEdge: 22\n      at: 0.41421356237309503\n    - halfEdge: -24\n      at: 0.41421356237309503\n    touches:\n    - halfEdge: 17\n      index: 2\n    - halfEdge: -7\n      index: 0\n    - halfEdge: 7\n      index: 2\n    - halfEdge: 6\n      index: 0\n    - halfEdge: -6\n      index: 1\n    - halfEdge: 14\n      index: 0\n    - halfEdge: -14\n      index: 1\n    - halfEdge: 22\n      index: 0\n    - halfEdge: -22\n      index: 0\n    - halfEdge: -24\n      index: 0\n    - halfEdge: 24\n      index: 0\n    - halfEdge: -16\n      index: 0\n  - source: 17\n    target: -2\n    vertical: false\n    boundary: false\n    vector:\n      x: -0.585786437626905\n      y: 0.0\n    crossings:\n    - halfEdge: -7\n      at: 0.7071067811865476\n    touches:\n    - halfEdge: 17\n      index: 0\n    - halfEdge: -7\n      index: 2\n    - halfEdge: 7\n      index: 0\n    - halfEdge: -2\n      index: 1\n  - source: -2\n    target: 2\n    vertical: true\n    boundary: true\n    vector:\n      x: 0.2928932188134525\n      y: -0.2928932188134525\n    crossings: []\n    touches:\n    - halfEdge: -2\n      index: 2\n    - halfEdge: 2\n      index: 0\n  - source: -23\n    target: 23\n    vertical: true\n    boundary: true\n    vector:\n      x: 0.2928932188134525\n      y: -0.2928932188134525\n    crossings: []\n    touches:\n    - halfEdge: -23\n      index: 0\n    - halfEdge: 23\n      index: 0\n  - source: -11\n    target: -6\n    vertical: true\n    boundary: true\n    vector:\n      x: 0.41421356237309503\n      y: -0.41421356237309503\n    crossings:\n    - halfEdge: -14\n      at: 0.2928932188134525\n    touches:\n    - halfEdge: -11\n      index: 0\n    - halfEdge: -14\n      index: 0\n    - halfEdge: 14\n      index: 1\n    - halfEdge: -6\n      index: 0\n  inside:\n  - -2\n  - 16\n  - -16\n  - -23\n- cylinder: true\n  perimeter:\n  - source: -20\n    target: 20\n    vertical: false\n    boundary: false\n    vector:\n      x: 0.41421356237309503\n      y: 0.0\n    crossings: []\n    touches:\n    - halfEdge: -20\n      index: 0\n    - halfEdge: 20\n      index: 1\n  - source: 15\n    target: -15\n    vertical: false\n    boundary: false\n    vector:\n      x: 0.41421356237309503\n      y: 0.0\n    crossings: []\n    touches:\n    - halfEdge: 15\n      index: 0\n    - halfEdge: -15\n      index: 1\n  - source: -6\n    target: -11\n    vertical: true\n    boundary: true\n    vector:\n      x: -0.41421356237309503\n      y: 0.41421356237309503\n    crossings:\n    - halfEdge: 14\n      at: 0.7071067811865476\n    touches:\n    - halfEdge: -6\n      index: 0\n    - halfEdge: 14\n      index: 1\n    - halfEdge: -14\n      index: 0\n    - halfEdge: -11\n      index: 0\n  - source: 5\n    target: 13\n    vertical: true\n    boundary: true\n    vector:\n      x: -1.0\n      y: 1.0\n    crossings:\n    - halfEdge: -1\n      at: 0.585786437626905\n    - halfEdge: 3\n      at: 0.585786437626905\n    - halfEdge: 9\n      at: 0.7071067811865476\n    - halfEdge: 21\n      at: 0.585786437626905\n    - halfEdge: -12\n      at: 0.585786437626905\n    touches:\n    - halfEdge: 5\n      index: 0\n    - halfEdge: -1\n      index: 0\n    - halfEdge: 1\n      index: 0\n    - halfEdge: 3\n      index: 0\n    - halfEdge: -3\n      index: 0\n    - halfEdge: 9\n      index: 1\n    - halfEdge: -9\n      index: 0\n    - halfEdge: 21\n      index: 1\n    - halfEdge: -21\n      index: 0\n    - halfEdge: -12\n      index: 0\n    - halfEdge: 12\n      index: 0\n    - halfEdge: 13\n      index: 0\n  - source: -15\n    target: 15\n    vertical: false\n    boundary: false\n    vector:\n      x: -0.41421356237309503\n      y: 0.0\n    crossings: []\n    touches:\n    - halfEdge: -15\n      index: 0\n    - halfEdge: 15\n      index: 1\n  - source: 20\n    target: -20\n    vertical: false\n    boundary: false\n    vector:\n      x: -0.41421356237309503\n      y: 0.0\n    crossings: []\n    touches:\n    - halfEdge: 20\n      index: 0\n    - halfEdge: -20\n      index: 1\n  - source: 21\n    target: 8\n    vertical: true\n    boundary: true\n    vector:\n      x: 0.41421356237309503\n      y: -0.41421356237309503\n    crossings:\n    - halfEdge: -9\n      at: 0.7071067811865476\n    touches:\n    - halfEdge: 21\n      index: 0\n    - halfEdge: -9\n      index: 1\n    - halfEdge: 9\n      index: 0\n    - halfEdge: 8\n      index: 0\n  - source: -16\n    target: 17\n    vertical: true\n    boundary: true\n    vector:\n      x: 1.0\n      y: -1.0\n    crossings:\n    - halfEdge: 24\n      at: 0.585786437626905\n    - halfEdge: -22\n      at: 0.585786437626905\n    - halfEdge: -14\n      at: 0.7071067811865476\n    - halfEdge: -6\n      at: 0.585786437626905\n    - halfEdge: 7\n      at: 0.585786437626905\n    touches:\n    - halfEdge: -16\n      index: 0\n    - halfEdge: 24\n      index: 0\n    - halfEdge: -24\n      index: 0\n    - halfEdge: -22\n      index: 0\n    - halfEdge: 22\n      index: 0\n    - halfEdge: -14\n      index: 1\n    - halfEdge: 14\n      index: 0\n    - halfEdge: -6\n      index: 1\n    - halfEdge: 6\n      index: 0\n    - halfEdge: 7\n      index: 0\n    - halfEdge: -7\n      index: 0\n    - halfEdge: 17\n      index: 0\n  inside:\n  - 4\n  - -4\n  - 8\n  - -8\n  - 10\n  - -10\n  - 11\n  - -11\n  - 13\n  - -13\n  - 15\n  - -15\n  - 17\n  - -17\n  - 18\n  - -18\n  - 19\n  - -19\n  - 20\n  - -20\n",zs="vertices:\n- - 1\n  - -3\n  - -9\n  - -21\n  - 14\n  - 6\n  - -7\n  - -17\n  - -27\n  - 25\n  - -26\n  - 23\n  - 12\n  - -13\n  - 18\n  - -19\n  - 10\n  - 4\n- - -1\n  - -5\n  - -12\n  - 16\n  - 7\n  - 2\n- - -2\n  - -6\n  - -15\n  - -25\n  - 24\n  - 13\n  - 5\n  - -4\n  - -11\n  - 21\n  - -20\n  - 17\n  - -16\n  - -23\n  - 22\n  - 19\n  - 8\n  - 3\n- - -8\n  - -18\n  - -24\n  - 27\n  - 20\n  - 9\n- - -10\n  - -22\n  - 26\n  - 15\n  - -14\n  - 11\nvectors:\n  1:\n    x: 1.0\n    y: 0.0\n  2:\n    x: -0.32635182233306964\n    y: 0.565257937423568\n  3:\n    x: -0.6736481776669303\n    y: -0.565257937423568\n  4:\n    x: 0.6736481776669303\n    y: -0.565257937423568\n  5:\n    x: 0.32635182233306964\n    y: 0.565257937423568\n  6:\n    x: -0.8263518223330697\n    y: -0.3007674663608706\n  7:\n    x: 0.5\n    y: 0.8660254037844386\n  8:\n    x: -0.5\n    y: 0.41954981558864\n  9:\n    x: -0.17364817766693036\n    y: -0.984807753012208\n  10:\n    x: 0.17364817766693036\n    y: -0.984807753012208\n  11:\n    x: 0.5\n    y: 0.41954981558864\n  12:\n    x: -0.5\n    y: 0.8660254037844386\n  13:\n    x: 0.8263518223330697\n    y: -0.3007674663608706\n  14:\n    x: -0.9396926207859084\n    y: 0.3420201433256687\n  15:\n    x: 0.11334079845283873\n    y: -0.6427876096865394\n  16:\n    x: 0.6527036446661393\n    y: 0.0\n  17:\n    x: -0.1527036446661393\n    y: 0.8660254037844386\n  18:\n    x: -0.9396926207859084\n    y: -0.3420201433256687\n  19:\n    x: 0.4396926207859084\n    y: 0.7615699589143088\n  20:\n    x: -0.6133407984528387\n    y: -0.22323779409789932\n  21:\n    x: 0.4396926207859084\n    y: -0.7615699589143088\n  22:\n    x: 0.6133407984528387\n    y: -0.22323779409789932\n  23:\n    x: 0.1527036446661393\n    y: 0.8660254037844386\n  24:\n    x: -0.11334079845283873\n    y: -0.6427876096865394\n  25:\n    x: 0.8793852415718167\n    y: 0.0\n  26:\n    x: -0.766044443118978\n    y: -0.6427876096865394\n  27:\n    x: -0.766044443118978\n    y: 0.6427876096865394\ncomponents:\n- cylinder: true\n  perimeter:\n  - source: 25\n    target: -25\n    vertical: false\n    boundary: false\n    vector:\n      x: 0.8793852415718167\n      y: 0.0\n    crossings: []\n    touches:\n    - halfEdge: 25\n      index: 0\n    - halfEdge: -25\n      index: 1\n  - source: -15\n    target: 13\n    vertical: true\n    boundary: true\n    vector:\n      x: -1.7057370639048863\n      y: 0.3007674663608706\n    crossings:\n    - halfEdge: 26\n      at: 0.8006595491452156\n    - halfEdge: -23\n      at: 0.8263518223330697\n    - halfEdge: -12\n      at: 0.8006595491452156\n    touches:\n    - halfEdge: -15\n      index: 0\n    - halfEdge: 26\n      index: 0\n    - halfEdge: -26\n      index: 0\n    - halfEdge: -23\n      index: 0\n    - halfEdge: 23\n      index: 0\n    - halfEdge: -12\n      index: 0\n    - halfEdge: 12\n      index: 0\n    - halfEdge: 13\n      index: 0\n  - source: -25\n    target: 25\n    vertical: false\n    boundary: false\n    vector:\n      x: -0.8793852415718167\n      y: 0.0\n    crossings: []\n    touches:\n    - halfEdge: -25\n      index: 0\n    - halfEdge: 25\n      index: 1\n  - source: -27\n    target: -13\n    vertical: true\n    boundary: true\n    vector:\n      x: 1.7057370639048863\n      y: -0.3007674663608706\n    crossings:\n    - halfEdge: -24\n      at: 0.766044443118978\n    touches:\n    - halfEdge: -27\n      index: 0\n    - halfEdge: -24\n      index: 0\n    - halfEdge: 24\n      index: 0\n    - halfEdge: -13\n      index: 0\n  inside:\n  - 13\n  - -13\n  - 25\n  - -25\n- cylinder: true\n  perimeter:\n  - source: 1\n    target: -1\n    vertical: false\n    boundary: false\n    vector:\n      x: 1.0\n      y: 0.0\n    crossings: []\n    touches:\n    - halfEdge: 1\n      index: 0\n    - halfEdge: -1\n      index: 1\n  - source: 16\n    target: -16\n    vertical: false\n    boundary: false\n    vector:\n      x: 0.6527036446661393\n      y: 0.0\n    crossings: []\n    touches:\n    - halfEdge: 16\n      index: 0\n    - halfEdge: -16\n      index: 1\n  - source: 17\n    target: 22\n    vertical: true\n    boundary: true\n    vector:\n      x: -3.2057370639048863\n      y: 0.565257937423568\n    crossings:\n    - halfEdge: -7\n      at: 0.8793852415718167\n    - halfEdge: -2\n      at: 0.7733184030943225\n    - halfEdge: 3\n      at: 0.5739779522395382\n    - halfEdge: 9\n      at: 0.713011023880231\n    - halfEdge: 21\n      at: 0.5739779522395382\n    - halfEdge: -11\n      at: 0.7733184030943225\n    - halfEdge: 10\n      at: 0.8793852415718167\n    touches:\n    - halfEdge: 17\n      index: 0\n    - halfEdge: -7\n      index: 0\n    - halfEdge: 7\n      index: 0\n    - halfEdge: -2\n      index: 0\n    - halfEdge: 2\n      index: 0\n    - halfEdge: 3\n      index: 0\n    - halfEdge: -3\n      index: 0\n    - halfEdge: 9\n      index: 0\n    - halfEdge: -9\n      index: 0\n    - halfEdge: 21\n      index: 0\n    - halfEdge: -21\n      index: 0\n    - halfEdge: -11\n      index: 0\n    - halfEdge: 11\n      index: 0\n    - halfEdge: 10\n      index: 0\n    - halfEdge: -10\n      index: 0\n    - halfEdge: 22\n      index: 0\n  - source: -16\n    target: 16\n    vertical: false\n    boundary: false\n    vector:\n      x: -0.6527036446661393\n      y: 0.0\n    crossings: []\n    touches:\n    - halfEdge: -16\n      index: 0\n    - halfEdge: 16\n      index: 1\n  - source: -1\n    target: 1\n    vertical: false\n    boundary: false\n    vector:\n      x: -1.0\n      y: 0.0\n    crossings: []\n    touches:\n    - halfEdge: -1\n      index: 0\n    - halfEdge: 1\n      index: 1\n  - source: 4\n    target: 14\n    vertical: true\n    boundary: true\n    vector:\n      x: 3.2057370639048863\n      y: -0.565257937423568\n    crossings:\n    - halfEdge: 5\n      at: 0.7168814171420514\n    - halfEdge: 12\n      at: 0.7733184030943225\n    - halfEdge: 23\n      at: 0.6736481776669303\n    - halfEdge: -26\n      at: 0.7733184030943225\n    - halfEdge: -15\n      at: 0.7168814171420514\n    touches:\n    - halfEdge: 4\n      index: 0\n    - halfEdge: 5\n      index: 0\n    - halfEdge: -5\n      index: 0\n    - halfEdge: 12\n      index: 0\n    - halfEdge: -12\n      index: 0\n    - halfEdge: 23\n      index: 0\n    - halfEdge: -23\n      index: 0\n    - halfEdge: -26\n      index: 0\n    - halfEdge: 26\n      index: 0\n    - halfEdge: -15\n      index: 0\n    - halfEdge: 15\n      index: 0\n    - halfEdge: 14\n      index: 0\n  inside:\n  - 1\n  - -1\n  - 14\n  - -14\n  - 16\n  - -16\n  - 22\n  - -22\n- cylinder: true\n  perimeter:\n  - source: 22\n    target: -4\n    vertical: false\n    boundary: false\n    vector:\n      x: 1.1133407984528387\n      y: 0.19631202149074067\n    crossings:\n    - halfEdge: -10\n      at: 0.32635182233306964\n    touches:\n    - halfEdge: 22\n      index: 0\n    - halfEdge: -10\n      index: 2\n    - halfEdge: 10\n      index: 1\n    - halfEdge: -4\n      index: 1\n  - source: -4\n    target: -2\n    vertical: true\n    boundary: true\n    vector:\n      x: -3.2057370639048863\n      y: 0.565257937423568\n    crossings:\n    - halfEdge: 10\n      at: 0.4679111137620439\n    - halfEdge: -19\n      at: 0.532088886237956\n    - halfEdge: 18\n      at: 0.8793852415718167\n    - halfEdge: 24\n      at: 0.9076037345479523\n    - halfEdge: -27\n      at: 0.8793852415718167\n    - halfEdge: -17\n      at: 0.532088886237956\n    - halfEdge: -7\n      at: 0.4679111137620439\n    touches:\n    - halfEdge: -4\n      index: 2\n    - halfEdge: 10\n      index: 0\n    - halfEdge: -10\n      index: 3\n    - halfEdge: -19\n      index: 0\n    - halfEdge: 19\n      index: 0\n    - halfEdge: 18\n      index: 0\n    - halfEdge: -18\n      index: 0\n    - halfEdge: 24\n      index: 0\n    - halfEdge: -24\n      index: 0\n    - halfEdge: -27\n      index: 0\n    - halfEdge: 27\n      index: 0\n    - halfEdge: -17\n      index: 0\n    - halfEdge: 17\n      index: 1\n    - halfEdge: -7\n      index: 0\n    - halfEdge: 7\n      index: 1\n    - halfEdge: -2\n      index: 0\n  - source: 8\n    target: 21\n    vertical: true\n    boundary: false\n    vector:\n      x: -1.1133407984528387\n      y: 0.19631202149074067\n    crossings:\n    - halfEdge: 9\n      at: 0.32635182233306964\n    touches:\n    - halfEdge: 8\n      index: 0\n    - halfEdge: 9\n      index: 1\n    - halfEdge: -9\n      index: 1\n    - halfEdge: 21\n      index: 1\n  - source: -4\n    target: 22\n    vertical: false\n    boundary: false\n    vector:\n      x: -1.1133407984528387\n      y: -0.19631202149074067\n    crossings:\n    - halfEdge: 10\n      at: 0.6736481776669303\n    touches:\n    - halfEdge: -4\n      index: 0\n    - halfEdge: 10\n      index: 2\n    - halfEdge: -10\n      index: 1\n    - halfEdge: 22\n      index: 1\n  - source: 22\n    target: 17\n    vertical: true\n    boundary: true\n    vector:\n      x: 3.2057370639048863\n      y: -0.565257937423568\n    crossings:\n    - halfEdge: -10\n      at: 0.12061475842818323\n    - halfEdge: 11\n      at: 0.22668159690567746\n    - halfEdge: -21\n      at: 0.4260220477604618\n    - halfEdge: -9\n      at: 0.2869889761197691\n    - halfEdge: -3\n      at: 0.4260220477604618\n    - halfEdge: 2\n      at: 0.22668159690567746\n    - halfEdge: 7\n      at: 0.12061475842818323\n    touches:\n    - halfEdge: 22\n      index: 2\n    - halfEdge: -10\n      index: 0\n    - halfEdge: 10\n      index: 3\n    - halfEdge: 11\n      index: 0\n    - halfEdge: -11\n      index: 0\n    - halfEdge: -21\n      index: 0\n    - halfEdge: 21\n      index: 2\n    - halfEdge: -9\n      index: 0\n    - halfEdge: 9\n      index: 2\n    - halfEdge: -3\n      index: 0\n    - halfEdge: 3\n      index: 0\n    - halfEdge: 2\n      index: 0\n    - halfEdge: -2\n      index: 1\n    - halfEdge: 7\n      index: 0\n    - halfEdge: -7\n      index: 1\n    - halfEdge: 17\n      index: 0\n  - source: 21\n    target: 8\n    vertical: true\n    boundary: false\n    vector:\n      x: 1.1133407984528387\n      y: -0.19631202149074067\n    crossings:\n    - halfEdge: -9\n      at: 0.6736481776669303\n    touches:\n    - halfEdge: 21\n      index: 0\n    - halfEdge: -9\n      index: 2\n    - halfEdge: 9\n      index: 0\n    - halfEdge: 8\n      index: 1\n  inside:\n  - 8\n  - -8\n  - 20\n  - -20\n- cylinder: true\n  perimeter:\n  - source: -6\n    target: 6\n    vertical: false\n    boundary: false\n    vector:\n      x: 0.8263518223330697\n      y: 0.3007674663608706\n    crossings: []\n    touches:\n    - halfEdge: -6\n      index: 0\n    - halfEdge: 6\n      index: 1\n  - source: 14\n    target: 4\n    vertical: true\n    boundary: true\n    vector:\n      x: -3.2057370639048863\n      y: 0.565257937423568\n    crossings:\n    - halfEdge: 15\n      at: 0.28311858285794855\n    - halfEdge: 26\n      at: 0.22668159690567746\n    - halfEdge: -23\n      at: 0.32635182233306964\n    - halfEdge: -12\n      at: 0.22668159690567746\n    - halfEdge: -5\n      at: 0.28311858285794855\n    touches:\n    - halfEdge: 14\n      index: 0\n    - halfEdge: 15\n      index: 0\n    - halfEdge: -15\n      index: 1\n    - halfEdge: 26\n      index: 0\n    - halfEdge: -26\n      index: 1\n    - halfEdge: -23\n      index: 0\n    - halfEdge: 23\n      index: 1\n    - halfEdge: -12\n      index: 0\n    - halfEdge: 12\n      index: 1\n    - halfEdge: -5\n      index: 0\n    - halfEdge: 5\n      index: 0\n    - halfEdge: 4\n      index: 0\n  - source: -13\n    target: -27\n    vertical: true\n    boundary: true\n    vector:\n      x: -1.7057370639048863\n      y: 0.3007674663608706\n    crossings:\n    - halfEdge: 24\n      at: 0.23395555688102196\n    touches:\n    - halfEdge: -13\n      index: 0\n    - halfEdge: 24\n      index: 0\n    - halfEdge: -24\n      index: 1\n    - halfEdge: -27\n      index: 0\n  - source: 6\n    target: -6\n    vertical: false\n    boundary: false\n    vector:\n      x: -0.8263518223330697\n      y: -0.3007674663608706\n    crossings: []\n    touches:\n    - halfEdge: 6\n      index: 0\n    - halfEdge: -6\n      index: 1\n  - source: -2\n    target: -4\n    vertical: true\n    boundary: true\n    vector:\n      x: 3.2057370639048863\n      y: -0.565257937423568\n    crossings:\n    - halfEdge: 7\n      at: 0.532088886237956\n    - halfEdge: 17\n      at: 0.4679111137620439\n    - halfEdge: 27\n      at: 0.12061475842818323\n    - halfEdge: -24\n      at: 0.09239626545204768\n    - halfEdge: -18\n      at: 0.12061475842818323\n    - halfEdge: 19\n      at: 0.4679111137620439\n    - halfEdge: -10\n      at: 0.532088886237956\n    touches:\n    - halfEdge: -2\n      index: 0\n    - halfEdge: 7\n      index: 0\n    - halfEdge: -7\n      index: 0\n    - halfEdge: 17\n      index: 0\n    - halfEdge: -17\n      index: 0\n    - halfEdge: 27\n      index: 0\n    - halfEdge: -27\n      index: 1\n    - halfEdge: -24\n      index: 0\n    - halfEdge: 24\n      index: 1\n    - halfEdge: -18\n      index: 0\n    - halfEdge: 18\n      index: 0\n    - halfEdge: 19\n      index: 0\n    - halfEdge: -19\n      index: 0\n    - halfEdge: -10\n      index: 0\n    - halfEdge: 10\n      index: 0\n    - halfEdge: -4\n      index: 0\n  - source: 13\n    target: -15\n    vertical: true\n    boundary: true\n    vector:\n      x: 1.7057370639048863\n      y: -0.3007674663608706\n    crossings:\n    - halfEdge: 12\n      at: 0.19934045085478438\n    - halfEdge: 23\n      at: 0.17364817766693036\n    - halfEdge: -26\n      at: 0.19934045085478438\n    touches:\n    - halfEdge: 13\n      index: 0\n    - halfEdge: 12\n      index: 0\n    - halfEdge: -12\n      index: 1\n    - halfEdge: 23\n      index: 0\n    - halfEdge: -23\n      index: 1\n    - halfEdge: -26\n      index: 0\n    - halfEdge: 26\n      index: 1\n    - halfEdge: -15\n      index: 0\n  inside:\n  - 4\n  - -4\n  - 6\n  - -6\nvertical:\n  x: -1.7057370639048863\n  y: 0.3007674663608706\n",Ms="vertices:\n- - 1\n  - -3\n  - 2\n  - -1\n  - 3\n  - -2\n- - 4\n  - -5\n  - 6\n  - -4\n  - 5\n  - -6\nvectors:\n  1:\n    x: 1.0\n    y: 1.0\n  2:\n    x: -1.0\n    y: 0.0\n  3:\n    x: 0.0\n    y: -1.0\n  4:\n    x: 1.0\n    y: 1.0\n  5:\n    x: 0.0\n    y: -1.0\n  6:\n    x: -1.0\n    y: 0.0\n";let Ns=class extends r.w3{predefined={Torus:js,"Triangle (1, 1, 1)":$s,"Triangle (1, 1, 3) with Marked Points":Ts,"Triangle (1, 1, 3) w/o Marked Points":As,"Triangle (1, 2, 2) with Marked Points":Ls,"Triangle (1, 2, 2) w/o Marked Points":Vs,"Triangle (1, 2, 5) with Marked Points":Rs,"Triangle (2, 3, 4)":zs,"Disconnected Surface":Ms};get selected(){for(const[e,n]of Object.entries(this.predefined))if(n==this.$store.state.raw)return e;return"other"}set selected(e){this.$store.dispatch("reset",{raw:this.predefined[e]})}};Ns=(0,o.gn)([r.wA],Ns);var Hs=Ns,Bs=Hs,Fs=t(5522),Gs=t(9988),Ws=t(8289),Us=t(3069),Ds=t(3913),Js=(0,_.Z)(Bs,Os,Ps,!1,null,null,null),Qs=Js.exports;et()(Js,{VList:Fs.Z,VListItem:Gs.Z,VListItemContent:Ws.km,VListItemGroup:Us.Z,VListItemTitle:Ws.V9,VNavigationDrawer:Ds.Z});var Ys=function(){var e=this,n=e.$createElement,t=e._self._c||n;return null!=e.triangulation?t("layouter",{attrs:{triangulation:e.triangulation,layout:e.layout},on:{layout:function(n){return e.layout=n}},scopedSlots:e._u([{key:"default",fn:function(n){var s=n.layout;return[t("v-row",[t("v-col",{staticClass:"col-md-4 col-12"},[t("v-card",[t("v-card-text",[t("v-subheader",[e._v("Width")]),t("v-slider",{attrs:{min:32,max:8192,"thumb-label":"always"},model:{value:e.width,callback:function(n){e.width=n},expression:"width"}}),t("v-subheader",[e._v("Height")]),t("v-slider",{attrs:{min:32,max:8192,"thumb-label":"always"},model:{value:e.height,callback:function(n){e.height=n},expression:"height"}})],1)],1)],1),t("v-col",{staticClass:"col-md-8 col-12"},[null!=s&&null!=e.viewport?t("v-card",[t("v-card-title",[t("v-tabs",{attrs:{"fixed-tabs":""},model:{value:e.tab,callback:function(n){e.tab=n},expression:"tab"}},[t("v-tabs-slider"),t("v-tab",{staticClass:"primary--text"},[t("v-icon",[e._v("mdi-image")])],1),t("v-tab",{staticClass:"primary--text"},[t("v-icon",[e._v("mdi-format-align-left")])],1)],1)],1),t("v-card-text",[t("v-tabs-items",{model:{value:e.tab,callback:function(n){e.tab=n},expression:"tab"}},[t("v-tab-item",{key:"0"},[t("v-card",[t("v-img",{staticClass:"mx-auto",attrs:{src:"data:image/svg+xml;base64,"+e.base64(e.svg),"max-width":e.width,"max-height":e.height}})],1)],1),t("v-tab-item",{key:"1"},[t("v-card",{attrs:{flat:""}},[t("v-card-text",{staticClass:"export",domProps:{textContent:e._s(e.svg)}})],1)],1)],1),t("triangulation-interaction",{attrs:{layout:s,options:e.options,outer:e.show.includes("outer"),inner:e.show.includes("triangulation")}}),t("label-interaction",{attrs:{layout:s,options:e.options,outer:e.show.includes("outer-labels"),numeric:e.show.includes("numeric-labels")}}),t("flatsurf",{ref:"flatsurf",staticClass:"render",staticStyle:{display:"block"},style:{width:e.width+"px",height:e.height+"px"},attrs:{triangulation:e.triangulation,"flow-components":e.flowComponents,layout:s,viewportCoordinateSystem:e.viewport.viewportCoordinateSystem,visualizationOptions:e.options}})],1)],1):e._e()],1)],1)]}}],null,!1,2667427372)}):e._e()},Xs=[],Ks=t(9861),ei=t.n(Ks);let ni=class extends r.w3{show;tab=0;options=new j;width=1024;height=1024;ready=null;viewport=null;flatsurf;get layout(){return this.$store.state.layout}set layout(e){this.layout!==e&&this.$store.commit("layout",{layout:e})}get triangulation(){return this.$store.state.triangulation}get vertical(){return this.$store.state.vertical}get svgCoordinateSystem(){return null==this.viewport||null==this.layout?null:(this.viewport.focus(this.layout.hull),this.viewport.viewportCoordinateSystem)}base64(e){return btoa(unescape(encodeURIComponent(e)))}get flowComponents(){return this.show.includes("flow-components")?this.$store.state.flowComponents:[]}async svg(){return null==this.viewport||null==this.layout?"…":(this.viewport.resize(this.width,this.height),this.viewport.focus(this.layout.hull),await this.$nextTick(),await this.flatsurf.svg())}onTriangulationChange(){null!=this.triangulation&&(this.viewport=new E(this.vertical.coordinateSystem))}};(0,o.gn)([(0,r.fI)({required:!0,type:Array})],ni.prototype,"show",void 0),(0,o.gn)([(0,r.Rl)()],ni.prototype,"flatsurf",void 0),(0,o.gn)([ei()({default:"…"})],ni.prototype,"svg",null),(0,o.gn)([(0,r.RL)("triangulation",{immediate:!0})],ni.prototype,"onTriangulationChange",null),ni=(0,o.gn)([(0,r.wA)({components:{Flatsurf:zn,TriangulationInteraction:Xt,LabelInteraction:ns,Layouter:rs}})],ni);var ti=ni,si=ti,ii=t(5255),ai=t(5903),oi=t(9049),ri=t(6720),li=t(756),di=t(1416),ui=t(6734),hi=t(7325),ci=t(7731),gi=(0,_.Z)(si,Ys,Xs,!1,null,"54d87b92",null),fi=gi.exports;et()(gi,{VCard:_s.Z,VCardText:ii.ZB,VCardTitle:ii.EB,VCol:tt.Z,VIcon:At.Z,VImg:ai.Z,VRow:ot.Z,VSlider:oi.Z,VSubheader:ri.Z,VTab:li.Z,VTabItem:di.Z,VTabs:ui.Z,VTabsItems:hi.Z,VTabsSlider:ci.Z});var pi=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("v-row",[t("v-col",{staticClass:"col-md-4 col-12"},[t("v-card",[t("v-card-title",[e._v(" vue-flatsurf Widget ")]),t("v-card-text",[t("p",[e._v("The "),t("code",[e._v("Widget")]),e._v(" component encapsulated all the features of vue-flatsurf in a single component to simplify interacting with the widget from Jupyter Notebooks, e.g., through "),t("a",{attrs:{href:"https://github.com/flatsurf/ipyvue-flatsurf"}},[e._v("ipyvue-flatsurf")]),e._v(".")]),t("p",[e._v("This view exposes all the features of that widget but is not connected to the other views of this demo application.")])])],1)],1),t("v-col",{staticClass:"col-md-4 col-12"},[t("v-card",[t("v-card-title",[e._v(" Widget Visualization ")]),t("v-card-text",[t("v-checkbox",{attrs:{label:"Show Inner Edges","hide-details":""},model:{value:e.showInnerEdges,callback:function(n){e.showInnerEdges=n},expression:"showInnerEdges"}}),t("v-checkbox",{attrs:{label:"Show Outer Half Edges","hide-details":""},model:{value:e.showOuterHalfEdges,callback:function(n){e.showOuterHalfEdges=n},expression:"showOuterHalfEdges"}}),t("v-checkbox",{attrs:{label:"Show Numeric Labels on Edges and Half Edges","hide-details":""},model:{value:e.showNumericLabels,callback:function(n){e.showNumericLabels=n},expression:"showNumericLabels"}}),t("v-checkbox",{attrs:{label:"Show Alphanumeric Labels on Outer Half Edges","hide-details":""},model:{value:e.showOuterLabels,callback:function(n){e.showOuterLabels=n},expression:"showOuterLabels"}}),t("v-checkbox",{attrs:{label:"Show Flow Components",disabled:0==e.yaml.components.length,"hide-details":""},model:{value:e.showFlowComponents,callback:function(n){e.showFlowComponents=n},expression:"showFlowComponents"}}),t("v-checkbox",{attrs:{label:"Rotate to Vertical",disabled:null==e.yaml.vertical,"hide-details":""},model:{value:e.applyVertical,callback:function(n){e.applyVertical=n},expression:"applyVertical"}}),t("v-checkbox",{attrs:{label:"Use Animations","hide-details":""},model:{value:e.showAnimations,callback:function(n){e.showAnimations=n},expression:"showAnimations"}})],1)],1)],1),t("v-col",{staticClass:"col-md-4 col-12"},[t("v-card",[t("v-card-title",[e._v(" Widget Output ")]),t("v-card-text",[t("widget-component",{ref:"widget",attrs:{triangulation:e.triangulation,"flow-components":e.flowComponents,vertical:e.vertical,showInnerEdges:e.showInnerEdges,showOuterHalfEdges:e.showOuterHalfEdges,showOuterLabels:e.showOuterLabels,showNumericLabels:e.showNumericLabels,action:e.action,animated:e.showAnimations}})],1)],1)],1),t("v-col",{staticClass:"col-md-4 col-12"},[t("v-card",[t("v-card-title",[e._v(" Widget Interaction ")]),t("v-card-text",[t("v-select",{attrs:{items:e.actions,"item-text":"text","item-value":"value"},model:{value:e.action,callback:function(n){e.action=n},expression:"action"}}),null===e.action?t("v-container",[e._v(" Drag & Zoom the Surface. ")]):e._e(),"glue"===e.action?t("v-container",[t("p",[e._v(" Left-click on a half edge to force it to be visually glued. Click again to force it to be unglued. Click again to choose gluing automatically. ")])]):e._e(),"path"===e.action?t("v-container",[e._v(" Click any vertex to start a path. Click half edges or vertices to draw the path. Press the escape key when the path is complete. ")]):e._e()],1)],1)],1),t("v-col",{staticClass:"col-md-4 col-12"},[t("v-card",[t("v-card-title",[e._v(" Query Widget ")]),t("v-card-text",[t("v-select",{attrs:{items:e.queries,disabled:"…"===e.info},model:{value:e.query,callback:function(n){e.query=n},expression:"query"}}),"SVG"===e.query?t("p",[e._v(" Return the widget as a standalone SVG. ")]):"Path"===e.query?t("p",[e._v(" Return the currently drawn path if any path is being drawn. ")]):"Complete Path"===e.query?t("p",[e._v(" Return the path once its complete, i.e., once the user pressed Escape. ")]):"Path Change"===e.query?t("p",[e._v(" Return the path once it changes. ")]):"Layout"===e.query?t("p",[e._v(" Return the data underlying the visual layout of the surface. ")]):"Layout Change"===e.query?t("p",[e._v(" Return the data underlying the visual layout of the surface once it changes. ")]):"Glue"===e.query?t("p",[e._v(" Return the explicitly selected gluings that were used to create the surface's layout. ")]):"Glue Change"===e.query?t("p",[e._v(" Return the explicitly selected gluings that were used to create the surface's layout once they change. ")]):"Force Gluing"===e.query?t("p",[e._v(" Establish the specified visual gluing and return the resulting layout. "),t("v-text-field",{staticClass:"parameters",attrs:{label:"Gluing"},model:{value:e.parameters,callback:function(n){e.parameters=n},expression:"parameters"}})],1):e._e(),t("p",{staticClass:"tiny",domProps:{textContent:e._s(e.info)}}),t("v-container",{staticClass:"text-right"},[t("v-btn",{attrs:{loading:"…"===e.info},on:{click:e.performQuery}},[e._v("Refresh")])],1)],1)],1)],1)],1)},vi=[],yi=t(9741),mi=t.n(yi),xi=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("layouter",{ref:"layouter",attrs:{triangulation:e.parsedTriangulation},scopedSlots:e._u([{key:"default",fn:function(n){var s=n.layout,i=n.relayout;return[t("viewer",{ref:"viewer",staticClass:"surface",attrs:{triangulation:e.parsedTriangulation,"flow-components":e.parsedFlowComponents,layout:s,vertical:e.parsedVertical,"saddle-connections":e.parsedSaddleConnections,paths:e.parsedPaths},scopedSlots:e._u([{key:"interaction",fn:function(n){var a=n.focus,o=n.options,r=n.refocus,l=n.svg;return[t("triangulation-interaction",{attrs:{layout:s,options:o,outer:e.showOuterHalfEdges,inner:e.showInnerEdges}}),t("label-interaction",{attrs:{layout:s,options:o,outer:e.showOuterLabels,numeric:e.showNumericLabels}}),"glue"==e.action?t("glue-interaction",{ref:"glue",attrs:{relayout:i,svg:l,options:o,focus:a,refocus:r,layout:s}}):e._e(),"path"==e.action?t("path-interaction",{ref:"path",attrs:{layout:s,svg:l,triangulation:e.parsedTriangulation,options:o,animated:e.animated}}):e._e()]}}],null,!0)})]}}])})},Ei=[],wi=t(731);class bi{static fromCycles(e){const n=[];for(let t of e)for(let e=0;e<t.length;e++)n.push([t[e],t[(e+1)%t.length]]);return bi.fromMapping(n)}static fromMapping(e){return new bi(e)}constructor(e){this.mapping={},this.inverse={};for(let n of e){if(n[0]in this.mapping)throw Error(`${n} specified more than once in mapping domain`);if(n[1]in this.inverse)throw Error(`${n} specified more than once in mapping codomain`);this.mapping[String(n[0])]=n[1],this.inverse[String(n[1])]=n[0]}if(0!==(0,wi.Z)(Object.keys(this.mapping),Object.keys(this.inverse)).length)throw Error(`domain {${Object.keys(this.mapping)}} and codomain {${Object.keys(this.inverse)}} of permutation are not identical`);this.cycles=[];for(let[n,t]of e){if(this.cycles.find((e=>e.includes(n))))continue;const e=[n,t];while(1){const n=e[e.length-1];if(e[0]==n){e.pop();break}e.push(this.mapping[String(n)])}this.cycles.push(e)}}image(e){return this.mapping[String(e)]}preimage(e){return this.inverse[String(e)]}get domain(){return Object.values(this.mapping)}cycles;mapping;inverse}class Ci{constructor(e){this.source=e}static fromPermutation(e){return e.cycles.map((e=>new Ci(e)))}source}class ki{static parse(e,n){return new ki(bi.fromCycles(e.vertices),Object.fromEntries(Object.entries(e.vectors).map((([e,t])=>[e,p.parse(t,n)]))))}constructor(e,n){if(this.vertices=e,this.vertexes=Ci.fromPermutation(e),this.halfEdges=e.domain,this.edges=this.halfEdges.filter((e=>e>0)).map((e=>new P(e))),this.faces=bi.fromMapping(this.halfEdges.map((n=>[-e.image(n),n]))),this.vectors=n,0!==(0,wi.Z)([...Object.keys(this.vectors),...Object.keys(this.vectors).map((e=>String(-Number(e))))],this.halfEdges.map((e=>String(e)))).length)throw Error(`Provided vectors {${Object.keys(this.vectors)}} and present half edges {${this.halfEdges}} do not coincide.`);const t=this.coordinateSystem;for(const s of this.faces.cycles){const e=s.reduce(((e,n)=>e.translate(this.vector(n))),new h(t,0,0));if(!e.equalTo(new h(t,0,0),1e-6))throw Error(`Face ${s} is not closed. Going around the face gives (${e.x}, ${e.y}) but should be zero.`)}}get coordinateSystem(){if(0===Object.keys(this.vectors).length)throw Error("Cannot determine coordinate system for empty surface.");return Object.values(this.vectors)[0].parent}vector(e){return this.vectors[e]||this.vectors[-e].invert()}vertices;vertexes;halfEdges;edges;faces;vectors}class Si{static parse(e,n){return new Si(e.source,e.target,p.parse(e.vector,n),e.crossings)}constructor(e,n,t,s){this.source=e,this.target=n,this.vector=t,this.crossings=Object.freeze(s)}source;target;vector;crossings}class _i{static parse(e,n){return new _i(Si.parse(e,n),e.vertical,e.boundary,e.touches)}constructor(e,n,t,s){this.connection=e,this.vertical=n,this.boundary=t,this.touches=Object.freeze(s)}connection;vertical;boundary;touches}class Ii{static parse(e,n){return new Ii(e.cylinder,e.perimeter.map((e=>_i.parse(e,n))),e.inside)}constructor(e,n,t){this.cylinder=e,this.perimeter=n,this.inside=t}cylinder;perimeter;inside}class qi{static parse(e,n){return new qi(e.connections.map((e=>Si.parse(e,n))))}constructor(e){this.connections=e}connections}class Zi{static parse(e,n){return new Zi(p.parse(e,n))}constructor(e){this.vector=e,this.rotated=new x(!0);const n=new p(this.vector.parent,0,1).angleTo(this.vector);this.rotated.embedInto(this.vector.parent,(new u.ZP.Matrix).rotate(-n))}get coordinateSystem(){return this.rotated}vector;rotated}let Oi=class extends r.w3{triangulation;flowComponents;saddleConnections;paths;vertical;showInnerEdges;showOuterHalfEdges;showOuterLabels;showNumericLabels;action;animated;coordinateSystem=new x(!0);_viewer;get viewer(){return(async()=>(void 0===this._viewer&&(await new Promise((e=>{this.layouter.$once("layout",(()=>e()))})),await this.$nextTick()),this._viewer))()}get parsedTriangulation(){return ki.parse(mi().parse(this.triangulation),this.coordinateSystem)}get parsedFlowComponents(){return this.flowComponents.map((e=>Ii.parse(mi().parse(e),this.coordinateSystem)))}get parsedSaddleConnections(){return[...this.saddleConnections].map((e=>Si.parse(mi().parse(e),this.coordinateSystem)))}get parsedPaths(){return[...this.paths].map((e=>qi.parse(mi().parse(e),this.coordinateSystem)))}get parsedVertical(){return null==this.vertical?null:Zi.parse(mi().parse(this.vertical),this.coordinateSystem)}async svg(){return await(await this.viewer).svg()}layouter;async layout(e){return await this.layouter.query(e)}_glueInteraction;get glueInteraction(){if("glue"!==this.action)throw Error("Cannot access glue interaction when action is not set to 'glue'.");return(async()=>(await this.viewer,this._glueInteraction))()}async glued(e){return await(await this.glueInteraction).query(e)}async glue(e){const n=await(await this.glueInteraction).force(e);return(await this.viewer).refocus(),n}_pathInteraction;get pathInteraction(){if("path"!==this.action)throw Error("Cannot access path interaction when action is not set to 'path'.");return(async()=>(await this.viewer,this._pathInteraction))()}async path(e){return await(await this.pathInteraction).query(e)}};(0,o.gn)([(0,r.fI)({required:!0,type:String})],Oi.prototype,"triangulation",void 0),(0,o.gn)([(0,r.fI)({required:!1,default:()=>[],type:Array})],Oi.prototype,"flowComponents",void 0),(0,o.gn)([(0,r.fI)({required:!1,default:()=>[],type:Array})],Oi.prototype,"saddleConnections",void 0),(0,o.gn)([(0,r.fI)({required:!1,default:()=>[],type:Array})],Oi.prototype,"paths",void 0),(0,o.gn)([(0,r.fI)({required:!1,default:null,type:String})],Oi.prototype,"vertical",void 0),(0,o.gn)([(0,r.fI)({required:!1,default:!0,type:Boolean})],Oi.prototype,"showInnerEdges",void 0),(0,o.gn)([(0,r.fI)({required:!1,default:!0,type:Boolean})],Oi.prototype,"showOuterHalfEdges",void 0),(0,o.gn)([(0,r.fI)({required:!1,default:!0,type:Boolean})],Oi.prototype,"showOuterLabels",void 0),(0,o.gn)([(0,r.fI)({required:!1,default:!1,type:Boolean})],Oi.prototype,"showNumericLabels",void 0),(0,o.gn)([(0,r.fI)({required:!1,default:null,type:String})],Oi.prototype,"action",void 0),(0,o.gn)([(0,r.fI)({required:!1,default:!1,type:Boolean})],Oi.prototype,"animated",void 0),(0,o.gn)([(0,r.Rl)("viewer")],Oi.prototype,"_viewer",void 0),(0,o.gn)([(0,r.Rl)()],Oi.prototype,"layouter",void 0),(0,o.gn)([(0,r.Rl)("glue")],Oi.prototype,"_glueInteraction",void 0),(0,o.gn)([(0,r.Rl)("path")],Oi.prototype,"_pathInteraction",void 0),Oi=(0,o.gn)([(0,r.wA)({components:{Layouter:rs,Viewer:Fn,GlueInteraction:xt,PathInteraction:It,TriangulationInteraction:Xt,LabelInteraction:ns}})],Oi);var Pi=Oi,ji=Pi,$i=(0,_.Z)(ji,xi,Ei,!1,null,"91510802",null),Ti=$i.exports;let Ai=class extends r.w3{showInnerEdges=!0;showOuterHalfEdges=!0;showOuterLabels=!0;showNumericLabels=!1;showFlowComponents=!1;showAnimations=!0;applyVertical=!0;actions=[{text:"None",value:null},{text:"Change Layout",value:"glue"},{text:"Draw Path",value:"path"}];action="glue";info="(none)";queries=["SVG","Path","Complete Path","Path Change","Layout","Layout Change","Glue","Glue Change","Force Gluing"];query="Path";parameters="{1: true, 2: false}";get yaml(){return mi().parse(this.$store.state.raw)}get triangulation(){const e={vertices:this.yaml.vertices,vectors:this.yaml.vectors};return mi().stringify(e)}get flowComponents(){if(!this.showFlowComponents)return[];const e=this.yaml.components||[];return e.map((e=>mi().stringify(e)))}get vertical(){if(null==this.yaml.vertical)return null;if(!this.applyVertical)return null;const e=this.yaml.vertical;return mi().stringify(e)}onQueryChanged(){this.info="(none)"}async performQuery(){this.info="…";const e=(()=>"SVG"===this.query?this.widget.svg():"Path"===this.query?this.widget.path("now"):"Complete Path"===this.query?this.widget.path("completed"):"Path Change"===this.query?this.widget.path("changed"):"Layout"===this.query?this.widget.layout("now"):"Layout Change"===this.query?this.widget.layout("changed"):"Glue"===this.query?this.widget.glued("now"):"Glue Change"===this.query?this.widget.glued("changed"):"Force Gluing"===this.query?(async()=>{const e=JSON.parse(this.parameters);return await this.widget.glue(e)})():void 0)();try{const n=await e;this.info=JSON.stringify(n)}catch(n){this.info=n.message}}widget};(0,o.gn)([(0,r.RL)("query",{immediate:!0})],Ai.prototype,"onQueryChanged",null),(0,o.gn)([(0,r.Rl)()],Ai.prototype,"widget",void 0),Ai=(0,o.gn)([(0,r.wA)({components:{WidgetComponent:Ti}})],Ai);var Li=Ai,Vi=Li,Ri=t(7887),zi=t(1617),Mi=t(7204),Ni=(0,_.Z)(Vi,pi,vi,!1,null,"10e52461",null),Hi=Ni.exports;function Bi(e){return{action:e.query.action||"glue",show:(0,$.Z)(e.query.show||["outer","outer-labels","triangulation"])}}function Fi(e){return{action:"view",show:(0,$.Z)(e.query.show||["outer","outer-labels"])}}et()(Ni,{VBtn:nt.Z,VCard:_s.Z,VCardText:ii.ZB,VCardTitle:ii.EB,VCheckbox:Ri.Z,VCol:tt.Z,VContainer:st.Z,VRow:ot.Z,VSelect:zi.Z,VTextField:Mi.Z});const Gi=[{path:"/",redirect:"/view"},{path:"/view",components:{default:cs,menu:Es},props:{default:Bi,menu:Bi}},{path:"/edit",components:{default:Zs,menu:Qs}},{path:"/svg",components:{default:fi},props:{default:Fi}},{path:"/widget",components:{default:Hi}},{path:"*",redirect:"/view"}];var Wi=Gi;class Ui{static parse(e){return new Ui(e.halfEdges)}constructor(e){const n=(n,t)=>{e.hasOwnProperty(n)&&console.assert(e[n]===t),e[n]=t};for(const[t,s]of Object.entries(e)){const e=Number(t);n(-e,-s),n(s,e),n(-s,-e)}this.halfEdgeMap=e}halfEdgeMap}const Di={raw:"",error:null,triangulation:null,vertical:null,flowComponents:null,automorphisms:null,layout:null,coordinateSystem:new x(!0)},Ji={state:Di,actions:{reset:function({commit:e,state:n},t){try{const s=mi().parse(t.raw),i=ki.parse(s,n.coordinateSystem),a=Zi.parse(s.vertical||{x:0,y:1},n.coordinateSystem),o=(s.components||[]).map((e=>Ii.parse(e,n.coordinateSystem))),r=(s.automorphisms||[]).map((e=>Ui.parse(e)));e("reset",{raw:t.raw,triangulation:i,vertical:a,flowComponents:o,automorphisms:r})}catch(s){e("error",{message:s.message})}}},mutations:{layout:function(e,n){e.layout=n.layout},reset:function(e,n){e.raw=n.raw,e.triangulation=n.triangulation,e.vertical=n.vertical,e.flowComponents=n.flowComponents,e.automorphisms=n.automorphisms,e.layout=null,e.error=null},error:function(e,n){e.error=n.message}}};var Qi=Ji;s.Z.config.productionTip=!1,s.Z.use(Gt.Z),s.Z.use(Wt.Z),s.Z.use(Ut.ZP),s.Z.use(Dt.Z),new s.Z({render:e=>e(Ft),vuetify:new Gt.Z({}),router:new Wt.Z({routes:Wi}),store:new Ut.ZP.Store(Qi),created(){this.$store.dispatch("reset",{raw:zs})}}).$mount("#app")}},n={};function t(s){var i=n[s];if(void 0!==i)return i.exports;var a=n[s]={exports:{}};return e[s].call(a.exports,a,a.exports,t),a.exports}t.m=e,function(){var e=[];t.O=function(n,s,i,a){if(!s){var o=1/0;for(u=0;u<e.length;u++){s=e[u][0],i=e[u][1],a=e[u][2];for(var r=!0,l=0;l<s.length;l++)(!1&a||o>=a)&&Object.keys(t.O).every((function(e){return t.O[e](s[l])}))?s.splice(l--,1):(r=!1,a<o&&(o=a));if(r){e.splice(u--,1);var d=i();void 0!==d&&(n=d)}}return n}a=a||0;for(var u=e.length;u>0&&e[u-1][2]>a;u--)e[u]=e[u-1];e[u]=[s,i,a]}}(),function(){t.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(n,{a:n}),n}}(),function(){t.d=function(e,n){for(var s in n)t.o(n,s)&&!t.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:n[s]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)}}(),function(){t.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};t.O.j=function(n){return 0===e[n]};var n=function(n,s){var i,a,o=s[0],r=s[1],l=s[2],d=0;for(i in r)t.o(r,i)&&(t.m[i]=r[i]);if(l)var u=l(t);for(n&&n(s);d<o.length;d++)a=o[d],t.o(e,a)&&e[a]&&e[a][0](),e[o[d]]=0;return t.O(u)},s=self["webpackChunkvue_flatsurf"]=self["webpackChunkvue_flatsurf"]||[];s.forEach(n.bind(null,0)),s.push=n.bind(null,s.push.bind(s))}();var s=t.O(void 0,[998],(function(){return t(3763)}));s=t.O(s)})();
//# sourceMappingURL=app-legacy.9d7237a0.js.map