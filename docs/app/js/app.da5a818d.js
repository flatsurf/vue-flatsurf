(function(){"use strict";var e={2475:function(e,t,n){var s=n(144),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[n("v-main",[n("v-container",{attrs:{fluid:"","fill-height":""}},[n("overlay",{attrs:{cancellation:e.overlay,progress:e.progress}}),n("surface-viewer",{attrs:{raw:e.raw},on:{error:e.onError,ok:function(){return e.onError()},svg:function(t){return e.svgExport=t}}})],1),n("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on,r=t.attrs;return[n("v-btn",e._g(e._b({attrs:{color:e.error?"red":"green",dark:"",dense:"",small:"",fixed:"",bottom:"",right:"",fab:""}},"v-btn",r,!1),s),[e.error?n("v-icon",[e._v("mdi-alert-circle-outline")]):n("v-icon",[e._v("mdi-pencil")])],1)]}}]),model:{value:e.editor,callback:function(t){e.editor=t},expression:"editor"}},[n("v-card",[n("v-toolbar",{attrs:{dark:"",cards:"",color:e.error?"red":"green"}},[n("v-btn",{attrs:{icon:"",dark:""},on:{click:function(t){e.editor=!1}}},[n("v-icon",[e._v("mdi-arrow-left")])],1),n("v-card-title",[e._v("Flat Triangulation Data")])],1),n("v-form",{staticClass:"pa-6 pt-6"},[n("v-textarea",{staticClass:"editor",attrs:{"error-messages":e.error,"auto-grow":"",filled:"",rows:"1"},model:{value:e.raw,callback:function(t){e.raw=t},expression:"raw"}})],1)],1)],1),e.error||e.overlay?e._e():n("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on,r=t.attrs;return[n("v-btn",e._g(e._b({attrs:{color:"blue",dark:"",dense:"",small:"",fixed:"",bottom:"",left:"",fab:""}},"v-btn",r,!1),s),[n("v-icon",[e._v("mdi-camera")])],1)]}}],null,!1,4025757055),model:{value:e.svg,callback:function(t){e.svg=t},expression:"svg"}},[n("v-card",[n("v-toolbar",{attrs:{dark:"",cards:"",color:"green"}},[n("v-btn",{attrs:{icon:"",dark:""},on:{click:function(t){e.svg=!1}}},[n("v-icon",[e._v("mdi-arrow-left")])],1),n("v-card-title",[e._v("SVG Export")])],1),n("v-form",{staticClass:"pa-6 pt-6"},[n("v-textarea",{staticClass:"editor",attrs:{"auto-grow":"",filled:"",rows:"1"},model:{value:e.svgExport,callback:function(t){e.svgExport=t},expression:"svgExport"}})],1)],1)],1)],1)],1)},i=[],a=n(655),o=n(7981),l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"viewport",class:{pan:e.pan},on:{mousedown:e.onMouseDown,mouseup:e.onMouseUp}},[e._t("default",null,{viewport:e.viewport})],2)},h=[],c=n(7019);class d{constructor(e,t,n){this.parent=e,this.value="number"===typeof t?new c.ZP.Point(t,n):t}get x(){return this.value.x}get y(){return this.value.y}get xy(){return[this.x,this.y]}equalTo(e,t=0){return this.parent===e.parent?Math.abs(this.x-e.x)<=t&&Math.abs(this.y-e.y)<=t:this.parent.embed(e).equalTo(this)}toString(){return`(${this.x}, ${this.y})`}on(e){return e.parent.embed(this).value.on(e.value)}translate(e){return new d(this.parent,this.value.translate(this.parent.embed(e).value))}parent;value}var u=n(4875);class f{constructor(e,t,n){this.parent=e,t instanceof c.ZP.Box?this.value=t:(console.assert(n instanceof Array),this.value=new c.ZP.Box(Math.min(t[0],n[0]),Math.min(t[1],n[1]),Math.max(t[0],n[0]),Math.max(t[1],n[1])))}static bbox(e){if(0===e.length)throw Error("cannot create bounding box of nothing");const t=e.map((e=>e instanceof d?new f(e.parent,[e.value.x,e.value.y],[e.value.x,e.value.y]):new f(e.parent,e.value.box)));return t.reduce(((e,t)=>e.merge(t)))}contain(e){return this.aspectRatio<e?new f(this.parent,[this.value.xmin-(this.height*e-this.width)/2,this.value.ymin],[this.value.xmax+(this.height*e-this.width)/2,this.value.ymax]):new f(this.parent,[this.value.xmin,this.value.ymin-(this.width/e-this.height)/2],[this.value.xmax,this.value.ymax+(this.width/e-this.height)/2])}merge(e){return new f(this.parent,this.value.merge(this.parent.embed(e).value.box))}translate(e,t){return new f(this.parent,[this.value.xmin+e,this.value.ymin+t],[this.value.xmax+e,this.value.ymax+t])}get low(){return new d(this.parent,this.value.xmin,this.value.ymin)}get high(){return new d(this.parent,this.value.xmax,this.value.ymax)}get aspectRatio(){return this.width/this.height}get width(){return this.value.xmax-this.value.xmin}get center(){return new d(this.parent,(this.value.xmin+this.value.xmax)/2,(this.value.ymin+this.value.ymax)/2)}get height(){return this.value.ymax-this.value.ymin}toPoints(){return this.value.toPoints().map((e=>new d(this.parent,e)))}equalTo(e,t=0){return this.parent===e.parent?this.low.equalTo(e.low,t)&&this.high.equalTo(e.high,t):this.parent.embed(e).box.equalTo(this)}parent;value}class g{constructor(e,t){if(this.parent=e,t instanceof c.ZP.Polygon)this.value=t;else{if(!(t instanceof Array))throw Error("Cannot create polygon from this data.");this.value=new c.ZP.Polygon;for(const n of t)this.value.addFace(n.map((t=>e.embed(t).value)))}}get convexHull(){return g.convexHull(this.vertices)}static convexHull(e){console.assert(0!==e.length);const t=e[0].parent,n=e.map((e=>t.embed(e).value));console.assert(n.some((e=>!e.equalTo(n[0]))));const s=[n.reduce(((e,t)=>e.x<t.x?e:e.x>t.x?t:e.y<t.y?e:t))];do{const e=s[s.length-1];let t=n[0].equalTo(e)?n[1]:n[0];for(let s of n)s.leftTo(new c.ZP.Line(e,t))&&(t=s);if(s.push(t),s.length>n.length+1){console.error("Convex Hull incorrect");break}}while(!s[s.length-1].equalTo(s[0]));s.pop();const r=new c.ZP.Polygon;return r.addFace(s),new g(t,r)}get boundingRect(){const e=this.convexHull;let t=1/0,n=null;for(const s of e.value.edges){const r=s.shape,i=r.tangentInStart(),a=new c.ZP.Vector(1,0).angleTo(i),o=new c.ZP.Matrix(Math.cos(-a),-Math.sin(-a),Math.sin(-a),Math.cos(-a)),l=e.value.transform(o),h=l.area();h<t&&(t=h,n=new g(this.parent,new c.ZP.Polygon(l.box.toPoints()).transform(y.inverse(o))))}return n}get box(){return new f(this.parent,this.value.box)}get vertices(){return this.value.vertices.map((e=>new d(this.parent,e)))}get faces(){const e=[...this.value.faces];return e.map((e=>e.edges.map((e=>new d(this.parent,e.start)))))}equalTo(e,t=0){if(e instanceof g){const n=this.faces,s=e.faces;if(n.length!==s.length)return!1;const r=(e,n)=>{if(e.length!==n.length)return!1;for(let s=0;s<e.length;s++)if([...e.keys()].every((r=>e[r].equalTo(n[(r+s)%n.length],t))))return!0;return!1};for(const e of n){const t=(0,u.Z)(s,(t=>r(e,t)));if(-1===t)return!1;s.splice(t,1)}return!0}{const n=e.toPoints();return this.parent.positive===e.parent.positive&&n.reverse(),this.equalTo(new g(this.parent,[n]),t)}}area(){return this.value.area()}parent;value}class p{constructor(e,t,n){if(this.parent=e,"number"===typeof t&&"number"===typeof n)this.value=new c.ZP.Vector(t,n);else if(t instanceof c.ZP.Vector&&null==n)this.value=t;else{if(!(t instanceof d&&n instanceof d))throw Error("Cannot initialize Vector from this data.");{const s=e.embed(t),r=e.embed(n);this.value=new c.ZP.Vector(s.value,r.value)}}}static parse(e,t){return new p(t,e.x,e.y)}get x(){return this.value.x}get y(){return this.value.y}get xy(){return[this.x,this.y]}rotate90CW(){return new p(this.parent,this.parent.positive?this.value.rotate90CW():this.value.rotate90CCW())}rotate90CCW(){return new p(this.parent,this.parent.positive?this.value.rotate90CCW():this.value.rotate90CW())}normalize(){return new p(this.parent,this.value.normalize())}multiply(e){return new p(this.parent,this.value.multiply(e))}angleTo(e){return this.parent.positive?this.parent.embed(e).value.angleTo(this.value):this.value.angleTo(this.parent.embed(e).value)}invert(){return new p(this.parent,this.value.invert())}add(e){return new p(this.parent,this.value.add(this.parent.embed(e).value))}equalTo(e,t=0){return this.parent===e.parent?Math.abs(this.x-e.x)<=t&&Math.abs(this.y-e.y)<=t:this.parent.embed(e).equalTo(this)}parent;value}class m{constructor(e,t,n){if(e instanceof y||(console.assert(t instanceof d,t),({parent:e,value:t,end:n}={parent:e.parent,value:e.value,end:e.parent.embed(t).value})),this.parent=e,void 0!==n){const e=t;this.value=new c.ZP.Segment(e,n)}else this.value=t}get start(){return new d(this.parent,this.value.start)}get middle(){return new d(this.parent,this.value.middle())}get end(){return new d(this.parent,this.value.end)}get tangentInStart(){return new p(this.parent,this.value.tangentInStart())}get tangentInEnd(){return new p(this.parent,this.value.tangentInEnd())}at(e){return this.start.translate(new p(this.parent,this.start,this.end).multiply(e))}translate(e){return e=this.parent.embed(e),new m(this.parent,this.value.translate(e.value))}intersect(e){const t=e.parent.embed(this).value.intersect(e.value).map((t=>new d(e.parent,t)));return this.start.on(e)&&t.push(this.start),this.end.on(e)&&t.push(this.end),t}intersects(e){return c.ZP.Relations.intersect(e.parent.embed(this).value,e.value)}touch(e){return c.ZP.Relations.touch(e.parent.embed(this).value,e.value)}toString(){return`((${this.value.start.x}, ${this.value.start.y}), (${this.value.end.x}, ${this.value.end.y}))`}get length(){return this.value.length}equalTo(e,t=0){return this.start.equalTo(e.start,t)&&this.end.equalTo(e.end,t)}reverse(){return new m(this.parent,this.value.reverse())}parent;value}class v{constructor(e,t){this.parent=e.parent,this.value=new c.ZP.Line(e.value,this.parent.embed(t).value)}intersect(e){const t=e.parent.embed(this).value.intersect(e.value).map((t=>new d(e.parent,t)));if(0===t.length)return null;if(1!==t.length)throw Error("not implemented: Line.intersection()");return t[0]}get pt(){return new d(this.parent,this.value.pt)}get norm(){return new p(this.parent,this.value.norm)}parent;value}class y{constructor(e){this.positive=e}static inverse(e){const[t,n,s,r,i,a,o,l,h]=[e.a,e.c,e.tx,e.b,e.d,e.ty,0,0,1],d=[i*h-l*a,r*h-o*a,r*l-o*i,n*h-l*s,t*h-o*s,t*l-o*n,n*a-i*s,t*a-r*s,t*i-r*n],u=t*d[0]-n*d[1]+s*d[2],f=[d[0],-d[3],d[6],-d[1],d[4],-d[7],d[2],-d[5],d[8]].map((e=>e/u)),g=f.map((e=>e/f[8]));return new c.ZP.Matrix(g[0],g[3],g[1],g[4],g[2],g[5])}positive;embeddedInto=null;embedding=null;embedInto(e,t){if(void 0===t&&(t=new c.ZP.Matrix,this.positive!==e.positive&&(t=new c.ZP.Matrix(1,0,0,-1))),null!==this.embeddedInto&&this.embeddedInto!==e)throw Error("not implemented: cannot have more than one embedding but this coordinate system is already embedded into another one");this.embeddedInto=e,this.embedding=t}box(e,t){return new f(this,e,t)}point(e,t){return new d(this,e,t)}embed(e){if(e instanceof f){const t=new c.ZP.Polygon;return t.addFace(e.toPoints().map((e=>this.embed(e).value))),new g(this,t)}if(e instanceof d){let t=e;while(1){if(this===t.parent)return t;if(null===t.parent.embeddedInto)break;t=new d(t.parent.embeddedInto,t.value.transform(t.parent.embedding))}if(null===this.embeddedInto)throw Error(`point (${t.value.x}, ${t.value.y}) cannot be embedded from coordinate system ${JSON.stringify(t.parent)} into this coordinate system ${JSON.stringify(this)}; no relation between the coordinate systems could be established.`);return t=this.embeddedInto.embed(t),new d(this,...y.inverse(this.embedding).transform([t.x,t.y]))}if(e instanceof p){const t=this.embed(new d(e.parent,e.x,e.y)),n=this.embed(new d(e.parent,0,0));return new p(this,t.x-n.x,t.y-n.y)}if(e instanceof m)return new m(this,this.embed(e.start).value,this.embed(e.end).value);if(e instanceof v)return new v(this.embed(e.pt),this.embed(e.norm));if(e instanceof g)return new g(this,new c.ZP.Polygon([...e.value.faces].map((t=>t.edges.map((t=>this.embed(new d(e.parent,t.start)).value))))));throw Error("cannot embed this type of object into coordinate system yet")}}class x{constructor(e,t=640,n=640){if(this.idealCoordinateSystem=e||new y(!0),!this.idealCoordinateSystem.positive)throw new Error("ideal coordinate system must be positive");this.viewportCoordinateSystem=new y(!1),this.width=t,this.height=n,this.visible=new f(this.viewportCoordinateSystem,[0,0],[t,n]),this.focused=this.visible,this.idealCoordinateSystem.embedInto(this.viewportCoordinateSystem)}resize(e,t){this.width=e,this.height=t,this.focus(this.focused)}focus(e){this.focused=this.idealCoordinateSystem.embed(e).box,this.visible=this.focused.contain(this.width/this.height),this.idealCoordinateSystem.embedInto(this.viewportCoordinateSystem,new c.ZP.Matrix(this.width/this.visible.width,0,0,-this.height/this.visible.height,-this.visible.low.x*this.width/this.visible.width,this.visible.high.y*this.height/this.visible.height))}zoom(e,t){if(void 0===t){t=this.viewport.center,t=this.focused.parent.embed(t);const n=this.focused.width/e,s=this.focused.height/e;this.focus(new f(this.focused.parent,[t.x-n/2,t.y-s/2],[t.x+n/2,t.y+s/2]))}else{t=this.idealCoordinateSystem.embed(t);const n=this.viewportCoordinateSystem.embed(t);this.zoom(e);const s=this.viewportCoordinateSystem.embed(t);this.focus(this.viewport.translate(s.x-n.x,s.y-n.y))}}embed(e){return this.viewportCoordinateSystem.embed(e)}get viewport(){return this.viewportCoordinateSystem.embed(this.visible).box}width;height;idealCoordinateSystem;viewportCoordinateSystem;focused;visible}var E=n(5697),w=n.n(E);let b=class extends o.w3{coordinateSystem;focus;observer=new ResizeObserver(this.resize);unpanzoom=()=>{};pan=!1;resize(){this.viewport.resize(Math.min(this.$refs.viewport.clientWidth,window.innerWidth),Math.min(this.$refs.viewport.clientHeight,window.innerHeight))}refocus(){this.viewport.focus(this.focus)}mounted(){this.unpanzoom=w()(this.$el,this.panzoom),this.observer.observe(this.$el),this.resize()}beforeDestroy(){this.unpanzoom(),this.observer.unobserve(this.$el)}onMouseDown(){this.pan=!0}onMouseUp(){this.pan=!1}get viewport(){return new x(this.coordinateSystem)}panzoom(e){0!==e.dz?this.viewport.zoom(Math.exp(-e.dz/96),new d(this.viewport.viewportCoordinateSystem,e.x,e.y)):this.viewport.focus(this.viewport.viewport.translate(-e.dx,-e.dy))}};(0,a.gn)([(0,o.fI)({required:!0,type:y})],b.prototype,"coordinateSystem",void 0),(0,a.gn)([(0,o.fI)({required:!0,type:f})],b.prototype,"focus",void 0),(0,a.gn)([(0,o.RL)("focus",{immediate:!0})],b.prototype,"refocus",null),b=(0,a.gn)([o.wA],b);var C=b,$=C,S=n(1001),k=(0,S.Z)($,l,h,!1,null,"43f8a8ee",null),_=k.exports,Z=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("pan-zoom",{staticClass:"surface",attrs:{"coordinate-system":e.idealCoordinateSystem,focus:e.focus},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.viewport;return[n("surface",{attrs:{viewport:s,surface:e.surface,automorphisms:e.automorphisms,components:e.components,inner:e.inner},on:{layout:e.onLayoutChanged,svg:e.onSVGChanged}})]}}])})},P=[],T=n(9741),I=n.n(T),O=n(2037);class q{static fromCycles(e){const t=[];for(let n of e)for(let e=0;e<n.length;e++)t.push([n[e],n[(e+1)%n.length]]);return q.fromMapping(t)}static fromMapping(e){return new q(e)}constructor(e){this.mapping={},this.inverse={};for(let t of e){if(t[0]in this.mapping)throw Error(`${t} specified more than once in mapping domain`);if(t[1]in this.inverse)throw Error(`${t} specified more than once in mapping codomain`);this.mapping[String(t[0])]=t[1],this.inverse[String(t[1])]=t[0]}if(0!==(0,O.Z)(Object.keys(this.mapping),Object.keys(this.inverse)).length)throw Error(`domain {${Object.keys(this.mapping)}} and codomain {${Object.keys(this.inverse)}} of permutation are not identical`);this.cycles=[];for(let[t,n]of e){if(this.cycles.find((e=>e.includes(t))))continue;const e=[t,n];while(1){const t=e[e.length-1];if(e[0]==t){e.pop();break}e.push(this.mapping[String(t)])}this.cycles.push(e)}}image(e){return this.mapping[String(e)]}preimage(e){return this.inverse[String(e)]}get domain(){return Object.values(this.mapping)}cycles;mapping;inverse}class j{static parse(e,t){return new j(q.fromCycles(e.vertices),Object.fromEntries(Object.entries(e.vectors).map((([e,n])=>[e,p.parse(n,t)]))))}constructor(e,t){if(this.vertices=e,this.halfEdges=e.domain,this.faces=q.fromMapping(this.halfEdges.map((e=>[-this.vertices.image(e),e]))),this.vectors=t,0!==(0,O.Z)([...Object.keys(this.vectors),...Object.keys(this.vectors).map((e=>String(-Number(e))))],this.halfEdges.map((e=>String(e)))).length)throw Error(`Provided vectors {${Object.keys(this.vectors)}} and present half edges {${this.halfEdges}} do not coincide.`);const n=this.vectors["1"].parent;for(const s of this.faces.cycles){const e=s.reduce(((e,t)=>e.translate(this.vector(t))),new d(n,0,0));if(!e.equalTo(new d(n,0,0),1e-6))throw Error(`Face ${s} is not closed. Going around the face gives (${e.x}, ${e.y}) but should be zero.`)}}vector(e){return this.vectors[e]||this.vectors[-e].invert()}vertices;halfEdges;faces;vectors}class A{static parse(e){return new A(e.halfEdges)}constructor(e){const t=(t,n)=>{e.hasOwnProperty(t)&&console.assert(e[t]===n),e[t]=n};for(const[n,s]of Object.entries(e)){const e=Number(n);t(-e,-s),t(s,e),t(-s,-e)}this.halfEdgeMap=e}static orbit(e,t){const n=[e];for(let s=0;s<n.length;s++){const e=n[s];for(const s of t){const t=s.halfEdgeMap[e];null==t||n.includes(t)||n.push(t)}}return n}halfEdgeMap}class M{static parse(e,t){return new M(e.source,e.target,p.parse(e.vector,t),e.crossings)}constructor(e,t,n,s){this.source=e,this.target=t,this.vector=n,this.crossings=Object.freeze(s)}source;target;vector;crossings}class z{static parse(e,t){return new z(M.parse(e,t),e.vertical,e.boundary,e.touches)}constructor(e,t,n,s){this.connection=e,this.vertical=t,this.boundary=n,this.touches=Object.freeze(s)}connection;vertical;boundary;touches}class L{static parse(e,t){return new L(e.cylinder,e.perimeter.map((e=>z.parse(e,t))),e.inside)}constructor(e,t,n){this.cylinder=e,this.perimeter=t,this.inside=n}cylinder;perimeter;inside}var R=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("svg",{ref:"svg",attrs:{width:e.viewport.width,height:e.viewport.height}},[null!=e.layout?n("flat-triangulation-component",{attrs:{surface:e.layout}},[null!=e.layout?n("g",e._l(e.visibleComponents,(function(t,s){return n("flow-component-component",{key:s,attrs:{color:e.palette.color(s),component:t,layout:e.layout,surface:e.surface}})})),1):e._e()]):e._e()],1)])},N=[],V=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("g",{staticClass:"FlatTriangulation"},[n("g",e._l(e.faces,(function(e,t){return n("face",{key:t,attrs:{vertices:e}})})),1),e._t("default"),n("g",e._l(e.halfEdges,(function(t){return n("half-edge-component",{key:t,attrs:{inner:e.surface.layout(t).inner,surface:e.surface,"half-edge":t,"source-indicator":e.sourceIndicators.includes(t)}})})),1)],2)},B=[],H=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ngon",{attrs:{vertices:e.vertices}})},F=[],W=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("polygon",{attrs:{points:e.points}})},D=[];let G=class extends o.w3{vertices;get points(){return this.vertices.map((e=>(e=this.svg(e),`${e.x},${e.y}`))).join(",")}svg};(0,a.gn)([(0,o.fI)({required:!0,type:Array})],G.prototype,"vertices",void 0),(0,a.gn)([(0,o.tB)()],G.prototype,"svg",void 0),G=(0,a.gn)([o.wA],G);var U=G,J=U,X=(0,S.Z)(J,W,D,!1,null,null,null),Y=X.exports;let K=class extends o.w3{vertices};(0,a.gn)([(0,o.fI)({required:!0,type:Array})],K.prototype,"vertices",void 0),K=(0,a.gn)([(0,o.wA)({components:{Ngon:Y}})],K);var Q=K,ee=Q,te=(0,S.Z)(ee,H,F,!1,null,"efce637c",null),ne=te.exports,se=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("g",{staticClass:"HalfEdge",class:{inner:e.inner},on:{click:e.onClick,mouseenter:e.onMouseEnter,mouseleave:e.onMouseLeave,mousemove:e.onMouseMove}},[n("extended-click-area",[e.halfEdgeConfiguration(e.halfEdge).state.label?n("g",{staticClass:"label"},[n("segment-label",{attrs:{at:e.segment}},[e._v(e._s(e.halfEdgeConfiguration(e.halfEdge).state.label))])],1):e._e(),e.indicator(e.halfEdge)?n("arrow",{staticClass:"indicator",attrs:{segment:e.indicator(e.halfEdge)}}):e._e(),e.inner&&e.indicator(-e.halfEdge)?n("arrow",{staticClass:"indicator",attrs:{segment:e.indicator(-e.halfEdge)}}):e._e(),e.sourceIndicator?n("arrow",{staticClass:"source",attrs:{segment:e.source}}):e._e(),n("segment-component",{class:{selected:e.selected,glued:e.glued},attrs:{segment:e.segment}})],1)],1)},re=[],ie=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("line",{attrs:{x1:e.coords[0],y1:e.coords[1],x2:e.coords[2],y2:e.coords[3]}})},ae=[];let oe=class extends o.w3{segment;get coords(){const e=this.svg(this.segment);return[e.start.x,e.start.y,e.end.x,e.end.y]}svg};(0,a.gn)([(0,o.fI)({required:!0,type:Object})],oe.prototype,"segment",void 0),(0,a.gn)([(0,o.tB)()],oe.prototype,"svg",void 0),oe=(0,a.gn)([o.wA],oe);var le=oe,he=le,ce=(0,S.Z)(he,ie,ae,!1,null,null,null),de=ce.exports,ue=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("g",{attrs:{transform:e.transformation}},[n("text",[e._t("default")],2)])},fe=[];let ge=class extends o.w3{at;get position(){const e=this.at.middle;let t=this.svg(this.at.tangentInStart.rotate90CCW()).normalize();return this.svg(e).translate(t.multiply(12))}get transformation(){return`translate(${this.position.x} ${this.position.y}) translate(6 4)`}svg};(0,a.gn)([(0,o.fI)({required:!0,type:Object})],ge.prototype,"at",void 0),(0,a.gn)([(0,o.tB)()],ge.prototype,"svg",void 0),ge=(0,a.gn)([o.wA],ge);var pe=ge,me=pe,ve=(0,S.Z)(me,ue,fe,!1,null,"03911908",null),ye=ve.exports,xe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("g",{staticClass:"arrow"},[n("line",{attrs:{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2}}),n("path",{attrs:{d:"M 0 -3 L 12 0 L 0 3 z",transform:e.atEnd,"stroke-width":"0"}})])},Ee=[];let we=class extends o.w3{segment;get x1(){return this.svg(this.segment.start).x}get y1(){return this.svg(this.segment.start).y}get endWithoutHead(){return this.svg(this.segment.end).translate(this.svg(this.segment.tangentInEnd).normalize().multiply(12))}get x2(){return this.svg(this.endWithoutHead).x}get y2(){return this.svg(this.endWithoutHead).y}get atEnd(){return`translate(${this.x2} ${this.y2}) rotate(${360*-this.svg(this.segment).tangentInStart.angleTo(new p(this.svg(this.segment).parent,1,0))/(2*Math.PI)} 0 0)`}svg};(0,a.gn)([(0,o.fI)({required:!0,type:Object})],we.prototype,"segment",void 0),(0,a.gn)([(0,o.tB)()],we.prototype,"svg",void 0),we=(0,a.gn)([o.wA],we);var be=we,Ce=be,$e=(0,S.Z)(Ce,xe,Ee,!1,null,"184136dd",null),Se=$e.exports,ke=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("g",{staticClass:"extended-click-area",on:{mousedown:function(t){return t.preventDefault(),t.stopPropagation(),function(t){return e.$emit("mousedown",t)}.apply(null,arguments)},click:function(t){return e.$emit("click",t)},mouseenter:function(t){return e.$emit("mouseenter",t)},mouseleave:function(t){return e.$emit("mouseleave",t)},mousemove:function(t){return e.$emit("mousemove",t)}}},[e._t("default"),n("g",{staticClass:"extension"},[e._t("default")],2)],2)},_e=[],Ze={},Pe=(0,S.Z)(Ze,ke,_e,!1,null,"27599fc9",null),Te=Pe.exports;const Ie={interactions:{click:()=>{},enter:()=>{},leave:()=>{},hover:()=>{}},state:{selected:!1,glued:!1,label:null,indicator:null}};let Oe=class extends o.w3{surface;halfEdge;inner;sourceIndicator;onClick(e){this.halfEdgeConfiguration(this.halfEdge).interactions.click(e,this.segment)}onMouseEnter(e){this.halfEdgeConfiguration(this.halfEdge).interactions.enter(e,this.segment)}onMouseLeave(e){this.halfEdgeConfiguration(this.halfEdge).interactions.leave(e,this.segment)}onMouseMove(e){this.halfEdgeConfiguration(this.halfEdge).interactions.hover(e,this.segment)}get selected(){return this.halfEdgeConfiguration(this.halfEdge).state.selected}get glued(){return this.halfEdgeConfiguration(this.halfEdge).state.glued}get segment(){return this.surface.layout(this.halfEdge).segment}indicator(e){const t=this.surface.layout(e).segment;let n=this.halfEdgeConfiguration(e).state.indicator;if(n){const e=t.at(n),s=e.translate(this.svg(t.tangentInStart.rotate90CCW()).normalize().multiply(10));return new m(s,e)}}get source(){const e=this.segment,t=e.at(0),n=t.translate(this.svg(e.tangentInStart.rotate90CCW()).normalize().multiply(10));return new m(n,t)}halfEdgeConfiguration;svg};(0,a.gn)([(0,o.fI)({required:!0,type:Object})],Oe.prototype,"surface",void 0),(0,a.gn)([(0,o.fI)({required:!0,type:Number})],Oe.prototype,"halfEdge",void 0),(0,a.gn)([(0,o.fI)({required:!0,type:Boolean})],Oe.prototype,"inner",void 0),(0,a.gn)([(0,o.fI)({required:!1,type:Boolean,default:!1})],Oe.prototype,"sourceIndicator",void 0),(0,a.gn)([(0,o.tB)({default:()=>Ie})],Oe.prototype,"halfEdgeConfiguration",void 0),(0,a.gn)([(0,o.tB)()],Oe.prototype,"svg",void 0),Oe=(0,a.gn)([(0,o.wA)({components:{Arrow:Se,ExtendedClickArea:Te,SegmentComponent:de,SegmentLabel:ye}})],Oe);var qe=Oe,je=qe,Ae=(0,S.Z)(je,se,re,!1,null,null,null),Me=Ae.exports;let ze=class extends o.w3{surface;get faces(){let e=this.surface.surface.faces.cycles;return e=e.filter((e=>e.every((e=>this.surface.primary.includes(e))))),e.map((e=>e.map((e=>this.surface.layout(e).segment.end))))}get halfEdges(){return this.surface.surface.halfEdges.filter((e=>!!this.surface.primary.includes(e)&&(!this.surface.layout(e).inner||e>0)))}get sourceIndicators(){return this.halfEdges.filter((e=>{if(this.surface.layout(e).inner)return!1;const t=this.surface.layout(e).segment,n=t.tangentInStart;return this.halfEdges.some((s=>{if(s===e)return!1;if(this.surface.layout(s).inner)return!1;const r=this.surface.layout(s).segment;if(!t.start.on(r))return!1;const i=r.tangentInStart,a=n.angleTo(i),o=Math.PI/180;return a<o||a>359*o}))}))}};(0,a.gn)([(0,o.fI)({required:!0,type:Object})],ze.prototype,"surface",void 0),ze=(0,a.gn)([(0,o.wA)({components:{Face:ne,HalfEdgeComponent:Me}})],ze);var Le=ze,Re=Le,Ne=(0,S.Z)(Re,V,B,!1,null,null,null),Ve=Ne.exports,Be=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("g",{staticClass:"FlowComponent"},[n("g",{style:{"--color":e.color}},e._l(e.patches,(function(e,t){return n("ngon",{key:t,attrs:{vertices:e}})})),1),n("g",{staticClass:"boundary"},e._l(e.perimeter,(function(t,s){return n("saddle-connection-component",{key:s,attrs:{connection:t,layout:e.layout,color:e.color}})})),1)])},He=[],Fe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("g",{staticClass:"SaddleConnection"},e._l(e.segments,(function(e,t){return n("segment-component",{key:t,attrs:{segment:e}})})),1)},We=[];let De=class extends o.w3{connection;layout;get segments(){const e=[],t=this.connection.vector,n=[...this.connection.crossings];let s=this.layout.layout(this.connection.source).segment.start;const r=n.length>0?this.layout.layout(this.connection.target).segment.start:this.layout.layout(this.connection.source).segment.end;while(n.length){const r=n.shift();if(this.layout.layout(r.halfEdge).inner)continue;const i=new v(s,s.translate(t)),a=this.layout.layout(r.halfEdge).segment,o=new v(a.start,a.end),l=i.intersect(o);if(null===l)throw Error("saddle connection must intersect every crossing");e.push(new m(s,l));const h=new p(l.parent,this.layout.layout(r.halfEdge).segment.start,l);s=this.layout.layout(-r.halfEdge).segment.end.translate(h)}return e.push(new m(s,r)),e}};(0,a.gn)([(0,o.fI)({required:!0})],De.prototype,"connection",void 0),(0,a.gn)([(0,o.fI)({required:!0})],De.prototype,"layout",void 0),De=(0,a.gn)([(0,o.wA)({components:{SegmentComponent:de}})],De);var Ge=De,Ue=Ge,Je=(0,S.Z)(Ue,Fe,We,!1,null,null,null),Xe=Je.exports;let Ye=class extends o.w3{component;layout;surface;color;ats;touches;get perimeter(){let e=this.component.perimeter;return e=this.component.cylinder?e.filter((e=>e.vertical)):e.filter((e=>e.boundary)),e.map((e=>e.connection))}resetCaches(){this.ats=void 0,this.touches=void 0,this.ensureCaches()}ensureCaches(){if(null==this.touches){this.touches={};for(const e of this.surface.halfEdges)this.touches[e]=[];for(const e of this.component.perimeter)for(const t of e.touches)this.touches[t.halfEdge][t.index]=t}if(null==this.ats){this.ats={};for(const e of this.component.perimeter)for(let t=0;t<e.touches.length;t++){const n=e.touches[t];let s=0;0!=t&&t!=e.touches.length-1&&(s=e.connection.crossings[Math.floor((t-1)/2)].at,t%2==0&&(s=1-s)),void 0===this.ats[n.halfEdge]&&(this.ats[n.halfEdge]=[]),this.ats[n.halfEdge][n.index]=s}}}at(e){return console.assert(null!=this.ats),this.ats[e.halfEdge][e.index]}patch(e,t){const n=(e,t)=>this.layout.layout(e).segment.at(t),s=e.halfEdge===-t.halfEdge,r=n(e.halfEdge,this.at(e));let i=s?n(e.halfEdge,1):n(t.halfEdge,this.at(t)),a=i,o="undefined";s?(console.assert(0===this.at(e),"Edge-parallel connection must start at vertex."),console.assert(0===this.at(t),"Edge-parallel connection must end at vertex.")):console.assert(e.halfEdge!==t.halfEdge,`Saddle Connection cannot cross the half edge ${e.halfEdge} twice in a row.`);const l=this.touches[e.halfEdge],h=this.touches[t.halfEdge];if(s)return null;if(t.index===h.length-1){if(1===this.at(t))console.assert(0!==this.at(e)),0===e.index?(console.assert(0!==this.at(e)),a=n(e.halfEdge,0)):a=n(e.halfEdge,this.at(l[e.index-1]));else if(o="remaining face",a=n(t.halfEdge,1),0===this.at(t))return null}else{if(this.at(t)===this.at(h[t.index+1]))return console.assert(0===this.at(t)||1===this.at(t),"Vertices of components must be aligned with the vertices of the triangulation."),console.assert(0!==this.at(e)),0===e.index?(console.assert(0!==this.at(e)),a=n(e.halfEdge,0),null):(a=n(e.halfEdge,this.at(l[e.index-1])),null);console.assert(this.at(h[t.index+1])>this.at(t),`Touches are not ordered correctly on half edge ${t.halfEdge}. The ${h[t.index+1].index}th touch at ${this.at(h[t.index+1])} should not be after the ${t.index}th touch at ${this.at(t)}.`),a=n(t.halfEdge,this.at(h[t.index+1]))}return console.assert(!r.equalTo(i),`Patch of kind '${o}' coming from the touches (${e.halfEdge}, ${e.index}) at ${this.at(e)} and (${t.halfEdge}, ${t.index}) at ${this.at(t)} has the same point twice A == B, i.e., ${r.toString()} == ${i.toString()}.`),console.assert(!r.equalTo(a),`Patch of kind '${o}' coming from the touches (${e.halfEdge}, ${e.index}) at ${this.at(e)} and (${t.halfEdge}, ${t.index}) at ${this.at(t)} has the same point twice A == C, i.e., ${r.toString()} == ${a.toString()}.`),console.assert(!i.equalTo(a),`Patch of kind '${o}' coming from the touches (${e.halfEdge}, ${e.index}) at ${this.at(e)} and (${t.halfEdge}, ${t.index}) at ${this.at(t)} has the same point twice B == C, i.e., ${i.toString()} == ${a.toString()}.`),[r,i,a]}patchHalfEdge(e){const t=(e,t)=>this.layout.layout(e).segment.at(t),n=[e,this.surface.faces.image(e),this.surface.faces.preimage(e)],s=t(e,0),r=t(e,1);let i=r,a="undefined",o=this.touches[n[1]];if(0===o.length){if(a="entire face",i=t(n[1],1),n[0]!==Math.min(...n))return null}else if(0===this.at(o[0]))if(o=this.touches[-n[2]],o.every((e=>0===this.at(e)||1===this.at(e)))){if(a="entire face 2",i=t(n[1],1),n[0]!==Math.min(...n))return null}else{a="on previous half edge";for(const e of o)if(0!==this.at(e))return i=t(n[2],1-this.at(e)),null}else a="on following half edge",i=t(n[1],this.at(o[0]));return console.assert(!s.equalTo(r),`Patch of kind '${a}' coming from the half edge ${e} has the same point twice A == B, i.e., ${s.toString()} == ${r.toString()}.`),console.assert(!s.equalTo(i),`Patch of kind '${a}' coming from the half edge ${e} has the same point twice A == C, i.e., ${s.toString()} == ${i.toString()}.`),console.assert(!r.equalTo(i),`Patch of kind '${a}' coming from the half edge ${e} has the same point twice B == C, i.e., ${r.toString()} == ${i.toString()}.`),[s,r,i]}get triangles(){const e=[];for(const t of this.component.perimeter)for(let n=0;n<t.touches.length;n+=2){const s=this.patch(t.touches[n],t.touches[n+1]);null!==s&&e.push(s)}for(const t of this.component.inside){const n=this.patchHalfEdge(t);null!=n&&e.push(n)}return e}get patches(){const e=[],t=[...this.triangles],n=c.ZP.Utils.getTolerance(),s=(e,t)=>{console.assert(3===t.length);for(const s of[1,2])for(const r of[0,1,2])for(let i=0;i<e.length;i++)if(t[r].equalTo(e[i],n)&&t[(r+s)%3].equalTo(e[(i+1)%e.length],n)){e.splice(i+1,0,t[(r+2*s)%3]);for(let t=0;t<e.length;t++)if(e[t].equalTo(e[(t+2)%e.length],n)){t+1==e.length?e.splice(0,2):t+2==e.length?(e.splice(0,1),e.pop()):e.splice(t,2);break}return!0}return!1};while(t.length){let n=t.pop();for(let e=t.length;e--;)s(n,t[e])&&(t[e]=t[t.length-1],t.pop(),e=t.length);e.push(n)}return e}};(0,a.gn)([(0,o.fI)({required:!0})],Ye.prototype,"component",void 0),(0,a.gn)([(0,o.fI)({required:!0})],Ye.prototype,"layout",void 0),(0,a.gn)([(0,o.fI)({required:!0})],Ye.prototype,"surface",void 0),(0,a.gn)([(0,o.fI)({required:!1,type:String,default:"orange"})],Ye.prototype,"color",void 0),(0,a.gn)([(0,o.RL)("layout",{immediate:!0})],Ye.prototype,"resetCaches",null),Ye=(0,a.gn)([(0,o.wA)({components:{SaddleConnectionComponent:Xe,Ngon:Y}})],Ye);var Ke=Ye,Qe=Ke,et=(0,S.Z)(Qe,Be,He,!1,null,"14584562",null),tt=et.exports,nt=n(5225),st=n.n(nt);class rt{constructor(e=2,t="fancy-light"){this.palette=st()(e>=2?e:2,{seed:1337,colorSpace:t})}color(e){return e>=this.palette.length&&console.warn("Color outside of palette bounds requested."),this.palette[e%this.palette.length]}palette}var it=n(3738);class at{constructor(e="",t=0){this.name=e,this.steps=t}task(e,t){this.steps+=t,this.name=e}progress(){this.step++}get stats(){return{name:this.name,step:null!=this.steps&&this.step<this.steps?this.step:void 0,steps:this.steps}}step=0;steps=0;name}class ot extends Error{}class lt{cancellationRequested(){return new Promise(((e,t)=>{this.aborted&&t(new ot),setTimeout((()=>e(this.cancelled)),0)}))}cancel(){this.cancelled=!0}abort(){this.aborted=!0}cancelled=!1;aborted=!1}class ht{constructor(e,t,n){if(this.surface=e,t instanceof Array){console.assert(n);let s=n;this.layout=Object.fromEntries(t.map((t=>{const r=s;return s=s.translate(e.vector(t)),[t,{segment:new m(n.parent,r.value,s.value),inner:!1}]})))}else this.layout=t;this.boundingRectArea=this.polygon.boundingRect.area()}translate(e,t){if(e instanceof p){const t=e;this.halfEdges.map((e=>{this.layout[e].segment=this.layout[e].segment.translate(t)}))}else{const n=this.layout[e].segment,s=new p(n.parent,n.start,t.start);console.assert(n.translate(s).equalTo(t,c.ZP.Utils.getTolerance())),this.translate(s)}}glues(e){const t=e.polygon,n=[];for(const s of this.halfEdges)if(this.layout[s].segment.intersects(t)){if(this.layout[s].segment.middle.on(t)){if(e.halfEdges.includes(-s)){if(this.layout[s].segment.equalTo(e.layout[-s].segment.reverse(),c.ZP.Utils.getTolerance())){n.push(s);continue}return[]}return[]}const r=this.layout[s].segment.intersect(t);if(0===r.length)return[];for(const t of r){const n=n=>{for(const s of this.surface.vertices.cycles)if(s.includes(n))for(const n of s)if(e.halfEdges.includes(n)&&t.equalTo(e.layout[n].segment.start,c.ZP.Utils.getTolerance()))return!0;return!1};if(t.equalTo(this.layout[s].segment.start,c.ZP.Utils.getTolerance())){if(!n(s))return[]}else{if(!t.equalTo(this.layout[s].segment.end,c.ZP.Utils.getTolerance()))return[];if(!n(-s))return[]}}}return console.assert(0!==n.length),n}touches(e){const t=e.polygon;return this.halfEdges.filter((e=>!this.layout[e].inner&&this.layout[e].segment.intersects(t)||this.layout[e].segment.touch(t)))}get polygon(){const e=new c.ZP.Polygon;return this.boundaries.map((t=>{e.addFace(t.map((e=>this.parent.embed(this.layout[e].segment).value)))})),new g(this.parent,e)}get boundaries(){let e=new Set(this.halfEdges.filter((e=>!this.layout[e].inner)));const t=[];while(e.size){let n;for(n of e)break;const s=[];let r=n;do{r=-r;do{r=this.surface.vertices.preimage(r)}while(this.layout[r].inner);s.push(r),e.delete(r)}while(r!==n);t.push(s)}return t}get parent(){return this.layout[this.halfEdges[0]].segment.parent}toString(){return"{"+this.halfEdges.map((e=>`${e}: ${this.layout[e].segment}`)).join(", ")+"}"}get halfEdges(){return Object.keys(this.layout).map((e=>Number(e)))}static async merge(e,t,n,s={},r=new lt,i=new at){if(1===e.length)return e;let a=[];for(const l of e){if(await r.cancellationRequested())break;for(const r of l.halfEdges){if(r<0)continue;const i=e.find((e=>e.halfEdges.includes(-r)));if(l===i)continue;void 0===s[r]&&(s[r]=ht.score(r,l,i,e,t,n));const o=s[r];null!==o&&a.push({glue:r,cell:l,other:i,score:o})}}if(0===a.length)return e;const o=(0,it.Z)(a,"score");for(const l of A.orbit(o.glue,n)){const t=e.find((e=>e.halfEdges.includes(l))),n=e.find((e=>e.halfEdges.includes(-l)));console.assert(t!==n);const r=ht.glue(l,t,n);r.primary=o.glue===l;for(let e of r.halfEdges)delete s[e],delete s[-e];e=[r,...e.filter((e=>e!==t&&e!==n))]}return e}static score(e,t,n,s,r,i=[]){if(console.assert(t.halfEdges.includes(e)&&n.halfEdges.includes(-e)),console.assert(!t.layout[e].inner),console.assert(!n.layout[-e].inner),!t.primary)return null;n.translate(-e,t.layout[e].segment.reverse());const a=t.glues(n);if(0===a.length)return null;for(const o of t.halfEdges)for(const e of A.orbit(o,i))if(n.halfEdges.includes(e))return null;if(r){if(!0===r(e))return-r.length;if(!1===r(e))return null}{const n=t.surface.vector(e),s=t.surface.vector(t.surface.vertices.image(e)),r=t.surface.vector(-t.surface.faces.image(-e)),i=r.add(n),a=r.add(s),o=r,l=(e,t,n,s,r,i,a,o,l)=>e*(r*l-i*o)-s*(t*l-o*n)+a*(t*i-r*n),h=l(i.x,i.y,i.x*i.x+i.y*i.y,a.x,a.y,a.x*a.x+a.y*a.y,o.x,o.y,o.x*o.x+o.y*o.y);if(Math.abs(h)<c.ZP.Utils.getTolerance())return 0}{const e=s.map((e=>e.boundingRectArea)).reduce(((e,t)=>e+t)),r=s.filter((e=>e!==t&&e!==n)).map((e=>e.boundingRectArea)).reduce(((e,t)=>e+t),0)+ht.glue(a,t,n).boundingRectArea;return r/e}}static glue(e,t,n){if(Array.isArray(e)){console.assert(0!==e.length),n.translate(-e[0],t.layout[e[0]].segment.reverse());for(const r of e)console.assert(t.layout[r].segment.equalTo(n.layout[-r].segment.reverse(),c.ZP.Utils.getTolerance()));console.assert(Object.keys(t.layout).every((e=>!n.layout.hasOwnProperty(e)))),console.assert(Object.keys(n.layout).every((e=>!t.layout.hasOwnProperty(e))));const s={...t.layout,...n.layout};for(const r of e)s[r]={segment:t.layout[r].segment,inner:!0},s[-r]={segment:n.layout[-r].segment,inner:!0};return new ht(t.surface,s)}return n.translate(-e,t.layout[e].segment.reverse()),ht.glue(t.glues(n),t,n)}static packable(e,t){for(let n=0;n<e.length;n++){const s=e[n];for(let r of s.halfEdges)for(let i of t)for(let t of i.halfEdges)if(r===-t)return e.splice(n,1),{cell:s,cell_:i,halfEdge:r,halfEdge_:t}}throw Error(`Could not find any cells packable with ${t} among ${e}`)}static pack(e,t){if(e.length<=1)return e;const n=[e.pop()];t.task("Packing Cells",e.length);while(e.length){t.progress();const{cell:s,cell_:r,halfEdge:i,halfEdge_:a}=ht.packable(e,n),o=s.layout[i].segment,l=r.layout[a].segment.reverse();s.translate(i,l);const h=n.map((e=>e.polygon.value.box)).reduce(((e,t)=>e.merge(t)),new c.ZP.Box),d=10*Math.max((h.xmax-h.xmin)/800,(h.ymax-h.ymin)/600),u=o.tangentInStart.rotate90CCW().multiply(d);do{s.translate(u)}while(n.some((e=>s.touches(e).length)));n.push(s)}return n}surface;boundingRectArea;layout;primary=!0}class ct{constructor(e,t,n){this.surface=e,this.force=t||(()=>null),this.automorphisms=n||[],this.primary=[]}static async layout(e,t,n=[],s=new lt,r=new at){const i=new ct(e,t,n);return await i.recompute(s,r),i}async recompute(e,t){if(0===this.surface.halfEdges.length)return void(this.halfEdges={});const n=new d(this.surface.vector(this.surface.halfEdges[0]).parent,0,0);let s=this.surface.faces.cycles.map((e=>new ht(this.surface,e,n)));t.task("Gluing Cells",s.length-1);const r={};for(const i of Array(s.length-1))t.progress(),s=await ht.merge(s,this.force,this.automorphisms,r,e,t);s=ht.pack(s.filter((e=>e.primary)),t),this.halfEdges=Object.assign({},...s.map((e=>e.layout))),this.primary=s.filter((e=>e.primary)).map((e=>e.halfEdges)).flat();for(const i of this.surface.halfEdges)!0!==this.force(i)||this.layout(i).inner||console.log(`Half edge ${i} should be visually glued in the layout but this was not possible.`),!1===this.force(i)&&this.layout(i).inner&&console.error(`Half edge ${i} should not be visually glued in the layout but it is.`)}layout(e){return{...this.halfEdges[e],primary:this.primary.includes(e)}}get hull(){return g.convexHull(this.primary.map((e=>[this.halfEdges[e].segment.start,this.halfEdges[e].segment.end])).flat())}get bbox(){return f.bbox(this.primary.map((e=>this.halfEdges[e].segment)))}surface;force;automorphisms;halfEdges;primary}var dt=n(5259),ut=n(5001);class ft{constructor(e){this.svg=e.cloneNode(!0),this.styles=[e,...e.getElementsByTagName("*")].map(this.computedStyle),"svg"!==this.svg.tagName&&(e=document.createElement("svg"),e.appendChild(this.svg),this.svg=e,this.styles.unshift({})),this.svg.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.svg.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink")}get children(){return[this.svg,...this.svg.getElementsByTagName("*")]}computedStyle(e){const t=window.getComputedStyle(e),n={};for(let s=0;s<t.length;s++)n[t[s]]=t.getPropertyValue(t[s]);return n}index(e){const t=this.children;console.assert(t.length==this.styles.length);for(let n=0;n<t.length;n++)if(t[n]===e)return n;throw Error("Element not found in DOM tree.")}dropClasses(){for(const e of this.children)e.removeAttribute("class")}dropPrefixedStyles(){this.styles=this.styles.map((e=>Object.fromEntries(Object.entries(e).filter((([e,t])=>!e.startsWith("-"))))))}dropInvisible(){const e=this.children;console.assert(e.length===this.styles.length);const t={},n=e=>{const s=this.index(e);s in t||(t[s]=e,[...e.children].forEach(n))};for(let s=1;s<e.length;s++){const t=e[s],r=this.styles[s];"hidden"!==r["visibility"]&&"none"!==r["display"]||n(t)}this.styles=this.styles.filter(((e,n)=>!(n in t)));for(const s of Object.values(t))null!=s.parentNode&&s.parentNode.removeChild(s);console.assert(this.children.length===this.styles.length),this.styles=this.styles.map((e=>Object.fromEntries(Object.entries(e).filter((([e,t])=>"visibility"!==e&&"display"!==e)))))}dropRedundantStyles(){const e=this.children;console.assert(e.length===this.styles.length);for(let t=e.length;t--;){const n=e[t],s=n.parentNode;if(null==s)continue;const r=this.styles[this.index(s)];this.styles[t]=Object.fromEntries(Object.entries(this.styles[t]).filter((([e,t])=>r[e]!=t)))}}dropCustomAttributes(){for(const e of this.children)[...e.attributes].forEach((t=>{t.name.includes("-")&&e.removeAttribute(t.name)}))}static standard=["cx","cy","height","width","x","y","r","rx","ry","d","fill","transform","alignment-baseline","baseline-shift","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-rendering","cursor","direction","display","dominant-baseline","fill-opacity","fill-rule","filter","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","glyph-orientation-horizontal","glyph-orientation-vertical","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","mask","opacity","overflow","paint-order","pointer-events","shape-rendering","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-overflow","text-rendering","unicode-bidi","vector-effect","visibility","white-space","word-spacing","writing-mode","display","overflow","visibility","text-overflow","clip-path","clip-rule","mask","color","opacity","color-interpolation-filters","filter","flood-color","flood-opacity","lighting-color","isolation","transform","transform-box","transform-origin","letter-spacing","text-align","text-align-last","text-indent","word-spacing","white-space","vertical-align","dominant-baseline","alignment-baseline","baseline-shift","direction","text-orientation","writing-mode","font","text-decoration","text-decoration-line","text-decoration-style","text-decoration-color"];dropNonStandardStyles(){this.styles=this.styles.map((e=>Object.fromEntries(Object.entries(e).filter((([e,t])=>!!ft.standard.includes(e)||(!!e.startsWith("font-")||void 0))))))}usePresentationAttributes(){const e=this.children;console.assert(e.length===this.styles.length);for(let t=e.length;t--;){const n=e[t],s=(e,t)=>{n.hasAttribute(e)||n.setAttribute(e,t)};this.styles[t]=Object.fromEntries(Object.entries(this.styles[t]).filter((([e,t])=>["cx","cy"].includes(e)?!!["circle","ellipse"].includes(n.tagName)&&s(e,t):["height","width","x","y"].includes(e)?!!["foreignObject","image","rect","svg","symbol","use"].includes(n.tagName)&&s(e,t):["r"].includes(e)?!!["circle"].includes(n.tagName)&&s(e,t):["rx","ry"].includes(e)?!!["ellipse","rect"].includes(n.tagName)&&s(e,t):["d"].includes(e)?(["path"].includes(n.tagName)&&s(e,t),!1):["fill"].includes(e)?(["animate","set","animateMotion"].includes(n.tagName)||s(e,t),!1):["transform"].includes(e)&&"none"!=t?(["pattern","linearGradien","radialGradient"].includes(n.tagName)?["pattern"].includes(n.tagName)?s("patternTransform",t):["linearGradient","radialGradient"].includes(n.tagName)&&s("gradientTransform",t):s(e,t),!1):!["alignment-baseline","baseline-shift","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-rendering","cursor","direction","display","dominant-baseline","fill-opacity","fill-rule","filter","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","glyph-orientation-horizontal","glyph-orientation-vertical","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","mask","opacity","overflow","paint-order","pointer-events","shape-rendering","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-overflow","text-rendering","unicode-bidi","vector-effect","visibility","white-space","word-spacing","writing-mode"].includes(e)||(s(e,t),!1))))}}simplifyColors(){const e=this.children;console.assert(e.length===this.styles.length);const t=(e,t,n,s=null)=>{e.getAttribute(n)&&delete t[n],null!=s&&e.getAttribute(s)&&delete t[s];const r=t[n];if(null==r||"none"==r)return;const i=(0,ut.Z)(r),a=i[3];null!=s&&(t[s]=String(Number(e.getAttribute(s)||t[s]||1)*a),e.removeAttribute(s)),t[n]=`rgb(${255*i[0]}, ${255*i[1]}, ${255*i[2]})`};for(let n=e.length;n--;){const s=e[n],r=this.styles[n];t(s,r,"fill","fill-opacity"),t(s,r,"stroke","stroke-opacity"),t(s,r,"color"),t(s,r,"text-decoration"),t(s,r,"text-decoration-color"),this.styles[n]=r}}dropTrivialStyles(){this.styles=this.styles.map((e=>Object.fromEntries(Object.entries(e).filter((([e,t])=>("transform"!=e||"none"!=t)&&("filter"!=e||"none"!=t))))))}dropNonInkscapeStyles(){this.styles=this.styles.map((e=>Object.fromEntries(Object.entries(e).filter((([e,t])=>"font-synthesis"!=e&&("vertical-align"!=e&&("transform-origin"!=e&&("transform-box"!=e&&("text-overflow"!=e&&("text-align-last"!=e&&("mask"!=e&&("font-optical-sizing"!=e&&("font-language-override"!=e&&("font-kerning"!=e&&("clip-path"!=e&&(("transform"!=e||"none"!=t)&&(!!ft.standard.includes(e)||(!!e.startsWith("font-")||void 0))))))))))))))))))}dropInteractiveStyles(){this.styles=this.styles.map((e=>Object.fromEntries(Object.entries(e).filter((([e,t])=>"cursor"!=e&&"pointer-events"!=e)))))}inlineStyles(){const e=this.children;console.assert(e.length==this.styles.length);for(let t=0;t<e.length;t++){const n=e[t],s=Object.entries(this.styles[t]).map((([e,t])=>`${e}: ${t};`)).join(" ");s?n.setAttribute("style",s):n.removeAttribute("style")}}toString(e=!0){let t=this.svg.outerHTML;return e&&(t=(0,dt.tL)(t).data),t}svg;styles=[]}var gt,pt=n(6246);let mt=gt=class extends o.w3{viewport;surface;components;inner;automorphisms;forced=[];selected=[];hovered=[];visibleComponents=[];indicator={};defaultLabel={};label={};cancellation=new lt;layout=null;static _run(e){e(new lt,new at)}run;created(){this.relayout()}nextLabel(e){let t=e.split("").map((e=>e.charCodeAt(0)-65));t[t.length-1]++;for(let n=t.length;n--;)25==t[n]&&(t[n]=0,0==n?t=[0,...t]:t[n-1]++);return t.map((e=>String.fromCharCode(65+e))).join("")}async relayout(){this.cancellation.abort(),this.run((async(e,t)=>{this.cancellation=e;try{this.layout=await ct.layout(this.surface,(e=>!(!this.forced.includes(e)&&!this.forced.includes(-e))||null),this.automorphisms,this.cancellation,t)}catch(i){if(i instanceof ot)return;throw i}this.visibleComponents=this.components.filter((e=>!e.perimeter.some((e=>!this.layout.primary.includes(e.connection.source)&&!this.layout.primary.includes(e.connection.target))))),this.indicator=Object.fromEntries(this.surface.halfEdges.map((e=>[e,null])));let n="A";const s=[...this.visibleComponents.filter((e=>e.cylinder)).map((e=>e.inside))],r=s.map((e=>e.filter((t=>e.includes(-t))))).flat();this.defaultLabel={};for(const a of this.surface.halfEdges)if(void 0===this.defaultLabel[a]&&this.layout.layout(a).primary)if(r.includes(a))this.defaultLabel[a]=null;else if(this.layout.layout(a).inner)this.defaultLabel[a]=null;else{for(const e of A.orbit(a,this.automorphisms))this.defaultLabel[e]=n,this.defaultLabel[-e]=n;n=this.nextLabel(n)}this.label=Object.fromEntries(this.surface.halfEdges.map((e=>[e,this.defaultLabel[e]]))),this.$emit("layout",this.layout),this.$nextTick((()=>{const e=new ft(this.$refs.svg);e.simplifyColors(),e.dropNonStandardStyles(),e.dropNonInkscapeStyles(),e.dropTrivialStyles(),e.dropRedundantStyles(),e.dropClasses(),e.dropPrefixedStyles(),e.dropInvisible(),e.dropInteractiveStyles(),e.dropCustomAttributes(),e.usePresentationAttributes(),e.inlineStyles(),this.$emit("svg",e.toString())}))}))}get palette(){return new rt(this.visibleComponents.length)}svg(e){if(e instanceof p)return this.viewport.viewportCoordinateSystem.embed(e);if(e instanceof d)return this.viewport.viewportCoordinateSystem.embed(e);if(e instanceof m)return this.viewport.viewportCoordinateSystem.embed(e);throw new Error("Cannot embed this type into the SVG coordinate system yet.")}onForcedChanged(){this.relayout()}onSurfaceChanged(){this.relayout()}onAutomorphismsChanged(){this.relayout()}onInnerChanged(){this.forced=this.inner}forceHalfEdge(e){this.forced.push(e)}async glue(e){this.forced.includes(e)||this.forced.includes(-e)?this.forced=this.forced.filter((t=>t!==e&&t!==-e)):this.forced.unshift(e),this.selected.push(e),await new Promise((e=>this.$once("layout",e))),await new Promise((e=>setTimeout(e,500))),this.selected=this.selected.filter((t=>t!==e&&t!==-e))}hover(e,t){t=(0,pt.Z)(t,0,1);for(const n of A.orbit(e,this.automorphisms))this.hovered.push(n),this.indicator[n]=t,this.indicator[-n]=1-t,this.label[n]=String(n),this.label[-n]=String(-n)}unhover(e){for(const t of A.orbit(e,this.automorphisms))this.hovered=this.hovered.filter((e=>e!==t&&e!==-t)),this.indicator[t]=null,this.indicator[-t]=null,this.label[t]=this.defaultLabel[t],this.label[-t]=this.defaultLabel[-t]}relativizeOntoSegment(e,t){const n=e.value.tangentInStart(),s=new p(e.parent,e.start,t).value;return n.dot(s)/e.value.length}halfEdgeConfiguration(e){return{interactions:{click:()=>{this.unhover(e),this.glue(e)},enter:(t,n)=>this.hover(e,this.relativizeOntoSegment(n,new d(this.viewport.viewportCoordinateSystem,t.clientX-this.$el.getBoundingClientRect().left,t.clientY-this.$el.getBoundingClientRect().top))),leave:()=>this.unhover(e),hover:(t,n)=>this.hover(e,this.relativizeOntoSegment(n,new d(this.viewport.viewportCoordinateSystem,t.clientX-this.$el.getBoundingClientRect().left,t.clientY-this.$el.getBoundingClientRect().top)))},state:{selected:this.selected.includes(e)||this.selected.includes(-e),glued:this.forced.includes(e)||this.forced.includes(-e),label:this.label[e],indicator:this.indicator[e]}}}};(0,a.gn)([(0,o.fI)({required:!0})],mt.prototype,"viewport",void 0),(0,a.gn)([(0,o.fI)({required:!0})],mt.prototype,"surface",void 0),(0,a.gn)([(0,o.fI)({required:!1,default:()=>[],type:Array})],mt.prototype,"components",void 0),(0,a.gn)([(0,o.fI)({required:!1,default:()=>[],type:Array})],mt.prototype,"inner",void 0),(0,a.gn)([(0,o.fI)({required:!1,default:()=>[],type:Array})],mt.prototype,"automorphisms",void 0),(0,a.gn)([(0,o.tB)({from:"run",default:()=>gt._run})],mt.prototype,"run",void 0),(0,a.gn)([(0,o.DF)()],mt.prototype,"svg",null),(0,a.gn)([(0,o.RL)("forced")],mt.prototype,"onForcedChanged",null),(0,a.gn)([(0,o.RL)("surface")],mt.prototype,"onSurfaceChanged",null),(0,a.gn)([(0,o.RL)("automorphisms")],mt.prototype,"onAutomorphismsChanged",null),(0,a.gn)([(0,o.RL)("inner",{immediate:!0})],mt.prototype,"onInnerChanged",null),(0,a.gn)([(0,o.DF)()],mt.prototype,"halfEdgeConfiguration",null),mt=gt=(0,a.gn)([(0,o.wA)({components:{FlatTriangulationComponent:Ve,FlowComponentComponent:tt}})],mt);var vt=mt,yt=vt,xt=(0,S.Z)(yt,R,N,!1,null,null,null),Et=xt.exports;let wt=class extends o.w3{raw;inner;idealCoordinateSystem=new y(!0);surface=null;components=[];automorphisms=[];focus=this.idealCoordinateSystem.embed(this.idealCoordinateSystem.box([-1,-1],[1,1]));onLayoutChanged(e){this.focus.equalTo(e.hull)||(this.focus=e.hull),this.$emit("layout",e),this.$emit("update:inner",this.surface.halfEdges.filter((t=>e.layout(t).inner)))}onSVGChanged(e){this.$emit("svg",e)}onRawChanged(){try{const e=I().parse(this.raw),t=e.vertical||{x:0,y:1},n=new p(this.idealCoordinateSystem,0,1).angleTo(new p(this.idealCoordinateSystem,t.x,t.y)),s=new y(!0);s.embedInto(this.idealCoordinateSystem,(new c.ZP.Matrix).rotate(n)),this.surface=j.parse(e,s),this.components=(e.components||[]).map((e=>L.parse(e,s))),this.automorphisms=(e.automorphisms||[]).map((e=>A.parse(e))),this.$emit("ok")}catch(e){this.$emit("error",e.message)}}};(0,a.gn)([(0,o.fI)({required:!0})],wt.prototype,"raw",void 0),(0,a.gn)([(0,o.fI)({required:!1,default:()=>[],type:Array})],wt.prototype,"inner",void 0),(0,a.gn)([(0,o.RL)("raw",{immediate:!0})],wt.prototype,"onRawChanged",null),wt=(0,a.gn)([(0,o.wA)({components:{Surface:Et,PanZoom:_}})],wt);var bt=wt,Ct=bt,$t=(0,S.Z)(Ct,Z,P,!1,null,null,null),St=$t.exports,kt="vertices:\n- - 1\n  - -3\n  - -9\n  - -21\n  - 14\n  - 6\n  - -7\n  - -17\n  - -27\n  - 25\n  - -26\n  - 23\n  - 12\n  - -13\n  - 18\n  - -19\n  - 10\n  - 4\n- - -1\n  - -5\n  - -12\n  - 16\n  - 7\n  - 2\n- - -2\n  - -6\n  - -15\n  - -25\n  - 24\n  - 13\n  - 5\n  - -4\n  - -11\n  - 21\n  - -20\n  - 17\n  - -16\n  - -23\n  - 22\n  - 19\n  - 8\n  - 3\n- - -8\n  - -18\n  - -24\n  - 27\n  - 20\n  - 9\n- - -10\n  - -22\n  - 26\n  - 15\n  - -14\n  - 11\nvectors:\n  1:\n    x: 1.0\n    y: 0.0\n  2:\n    x: -0.32635182233306964\n    y: 0.565257937423568\n  3:\n    x: -0.6736481776669303\n    y: -0.565257937423568\n  4:\n    x: 0.6736481776669303\n    y: -0.565257937423568\n  5:\n    x: 0.32635182233306964\n    y: 0.565257937423568\n  6:\n    x: -0.8263518223330697\n    y: -0.3007674663608706\n  7:\n    x: 0.5\n    y: 0.8660254037844386\n  8:\n    x: -0.5\n    y: 0.41954981558864\n  9:\n    x: -0.17364817766693036\n    y: -0.984807753012208\n  10:\n    x: 0.17364817766693036\n    y: -0.984807753012208\n  11:\n    x: 0.5\n    y: 0.41954981558864\n  12:\n    x: -0.5\n    y: 0.8660254037844386\n  13:\n    x: 0.8263518223330697\n    y: -0.3007674663608706\n  14:\n    x: -0.9396926207859084\n    y: 0.3420201433256687\n  15:\n    x: 0.11334079845283873\n    y: -0.6427876096865394\n  16:\n    x: 0.6527036446661393\n    y: 0.0\n  17:\n    x: -0.1527036446661393\n    y: 0.8660254037844386\n  18:\n    x: -0.9396926207859084\n    y: -0.3420201433256687\n  19:\n    x: 0.4396926207859084\n    y: 0.7615699589143088\n  20:\n    x: -0.6133407984528387\n    y: -0.22323779409789932\n  21:\n    x: 0.4396926207859084\n    y: -0.7615699589143088\n  22:\n    x: 0.6133407984528387\n    y: -0.22323779409789932\n  23:\n    x: 0.1527036446661393\n    y: 0.8660254037844386\n  24:\n    x: -0.11334079845283873\n    y: -0.6427876096865394\n  25:\n    x: 0.8793852415718167\n    y: 0.0\n  26:\n    x: -0.766044443118978\n    y: -0.6427876096865394\n  27:\n    x: -0.766044443118978\n    y: 0.6427876096865394\ncomponents:\n- cylinder: true\n  perimeter:\n  - source: 25\n    target: -25\n    vertical: false\n    boundary: false\n    vector:\n      x: 0.8793852415718167\n      y: 0.0\n    crossings: []\n    touches:\n    - halfEdge: 25\n      index: 0\n    - halfEdge: -25\n      index: 1\n  - source: -15\n    target: 13\n    vertical: true\n    boundary: true\n    vector:\n      x: -1.7057370639048863\n      y: 0.3007674663608706\n    crossings:\n    - halfEdge: 26\n      at: 0.8006595491452156\n    - halfEdge: -23\n      at: 0.8263518223330697\n    - halfEdge: -12\n      at: 0.8006595491452156\n    touches:\n    - halfEdge: -15\n      index: 0\n    - halfEdge: 26\n      index: 0\n    - halfEdge: -26\n      index: 0\n    - halfEdge: -23\n      index: 0\n    - halfEdge: 23\n      index: 0\n    - halfEdge: -12\n      index: 0\n    - halfEdge: 12\n      index: 0\n    - halfEdge: 13\n      index: 0\n  - source: -25\n    target: 25\n    vertical: false\n    boundary: false\n    vector:\n      x: -0.8793852415718167\n      y: 0.0\n    crossings: []\n    touches:\n    - halfEdge: -25\n      index: 0\n    - halfEdge: 25\n      index: 1\n  - source: -27\n    target: -13\n    vertical: true\n    boundary: true\n    vector:\n      x: 1.7057370639048863\n      y: -0.3007674663608706\n    crossings:\n    - halfEdge: -24\n      at: 0.766044443118978\n    touches:\n    - halfEdge: -27\n      index: 0\n    - halfEdge: -24\n      index: 0\n    - halfEdge: 24\n      index: 0\n    - halfEdge: -13\n      index: 0\n  inside:\n  - 13\n  - -13\n  - 25\n  - -25\n- cylinder: true\n  perimeter:\n  - source: 1\n    target: -1\n    vertical: false\n    boundary: false\n    vector:\n      x: 1.0\n      y: 0.0\n    crossings: []\n    touches:\n    - halfEdge: 1\n      index: 0\n    - halfEdge: -1\n      index: 1\n  - source: 16\n    target: -16\n    vertical: false\n    boundary: false\n    vector:\n      x: 0.6527036446661393\n      y: 0.0\n    crossings: []\n    touches:\n    - halfEdge: 16\n      index: 0\n    - halfEdge: -16\n      index: 1\n  - source: 17\n    target: 22\n    vertical: true\n    boundary: true\n    vector:\n      x: -3.2057370639048863\n      y: 0.565257937423568\n    crossings:\n    - halfEdge: -7\n      at: 0.8793852415718167\n    - halfEdge: -2\n      at: 0.7733184030943225\n    - halfEdge: 3\n      at: 0.5739779522395382\n    - halfEdge: 9\n      at: 0.713011023880231\n    - halfEdge: 21\n      at: 0.5739779522395382\n    - halfEdge: -11\n      at: 0.7733184030943225\n    - halfEdge: 10\n      at: 0.8793852415718167\n    touches:\n    - halfEdge: 17\n      index: 0\n    - halfEdge: -7\n      index: 0\n    - halfEdge: 7\n      index: 0\n    - halfEdge: -2\n      index: 0\n    - halfEdge: 2\n      index: 0\n    - halfEdge: 3\n      index: 0\n    - halfEdge: -3\n      index: 0\n    - halfEdge: 9\n      index: 0\n    - halfEdge: -9\n      index: 0\n    - halfEdge: 21\n      index: 0\n    - halfEdge: -21\n      index: 0\n    - halfEdge: -11\n      index: 0\n    - halfEdge: 11\n      index: 0\n    - halfEdge: 10\n      index: 0\n    - halfEdge: -10\n      index: 0\n    - halfEdge: 22\n      index: 0\n  - source: -16\n    target: 16\n    vertical: false\n    boundary: false\n    vector:\n      x: -0.6527036446661393\n      y: 0.0\n    crossings: []\n    touches:\n    - halfEdge: -16\n      index: 0\n    - halfEdge: 16\n      index: 1\n  - source: -1\n    target: 1\n    vertical: false\n    boundary: false\n    vector:\n      x: -1.0\n      y: 0.0\n    crossings: []\n    touches:\n    - halfEdge: -1\n      index: 0\n    - halfEdge: 1\n      index: 1\n  - source: 4\n    target: 14\n    vertical: true\n    boundary: true\n    vector:\n      x: 3.2057370639048863\n      y: -0.565257937423568\n    crossings:\n    - halfEdge: 5\n      at: 0.7168814171420514\n    - halfEdge: 12\n      at: 0.7733184030943225\n    - halfEdge: 23\n      at: 0.6736481776669303\n    - halfEdge: -26\n      at: 0.7733184030943225\n    - halfEdge: -15\n      at: 0.7168814171420514\n    touches:\n    - halfEdge: 4\n      index: 0\n    - halfEdge: 5\n      index: 0\n    - halfEdge: -5\n      index: 0\n    - halfEdge: 12\n      index: 0\n    - halfEdge: -12\n      index: 0\n    - halfEdge: 23\n      index: 0\n    - halfEdge: -23\n      index: 0\n    - halfEdge: -26\n      index: 0\n    - halfEdge: 26\n      index: 0\n    - halfEdge: -15\n      index: 0\n    - halfEdge: 15\n      index: 0\n    - halfEdge: 14\n      index: 0\n  inside:\n  - 1\n  - -1\n  - 14\n  - -14\n  - 16\n  - -16\n  - 22\n  - -22\n- cylinder: true\n  perimeter:\n  - source: 22\n    target: -4\n    vertical: false\n    boundary: false\n    vector:\n      x: 1.1133407984528387\n      y: 0.19631202149074067\n    crossings:\n    - halfEdge: -10\n      at: 0.32635182233306964\n    touches:\n    - halfEdge: 22\n      index: 0\n    - halfEdge: -10\n      index: 2\n    - halfEdge: 10\n      index: 1\n    - halfEdge: -4\n      index: 1\n  - source: -4\n    target: -2\n    vertical: true\n    boundary: true\n    vector:\n      x: -3.2057370639048863\n      y: 0.565257937423568\n    crossings:\n    - halfEdge: 10\n      at: 0.4679111137620439\n    - halfEdge: -19\n      at: 0.532088886237956\n    - halfEdge: 18\n      at: 0.8793852415718167\n    - halfEdge: 24\n      at: 0.9076037345479523\n    - halfEdge: -27\n      at: 0.8793852415718167\n    - halfEdge: -17\n      at: 0.532088886237956\n    - halfEdge: -7\n      at: 0.4679111137620439\n    touches:\n    - halfEdge: -4\n      index: 2\n    - halfEdge: 10\n      index: 0\n    - halfEdge: -10\n      index: 3\n    - halfEdge: -19\n      index: 0\n    - halfEdge: 19\n      index: 0\n    - halfEdge: 18\n      index: 0\n    - halfEdge: -18\n      index: 0\n    - halfEdge: 24\n      index: 0\n    - halfEdge: -24\n      index: 0\n    - halfEdge: -27\n      index: 0\n    - halfEdge: 27\n      index: 0\n    - halfEdge: -17\n      index: 0\n    - halfEdge: 17\n      index: 1\n    - halfEdge: -7\n      index: 0\n    - halfEdge: 7\n      index: 1\n    - halfEdge: -2\n      index: 0\n  - source: 8\n    target: 21\n    vertical: true\n    boundary: false\n    vector:\n      x: -1.1133407984528387\n      y: 0.19631202149074067\n    crossings:\n    - halfEdge: 9\n      at: 0.32635182233306964\n    touches:\n    - halfEdge: 8\n      index: 0\n    - halfEdge: 9\n      index: 1\n    - halfEdge: -9\n      index: 1\n    - halfEdge: 21\n      index: 1\n  - source: -4\n    target: 22\n    vertical: false\n    boundary: false\n    vector:\n      x: -1.1133407984528387\n      y: -0.19631202149074067\n    crossings:\n    - halfEdge: 10\n      at: 0.6736481776669303\n    touches:\n    - halfEdge: -4\n      index: 0\n    - halfEdge: 10\n      index: 2\n    - halfEdge: -10\n      index: 1\n    - halfEdge: 22\n      index: 1\n  - source: 22\n    target: 17\n    vertical: true\n    boundary: true\n    vector:\n      x: 3.2057370639048863\n      y: -0.565257937423568\n    crossings:\n    - halfEdge: -10\n      at: 0.12061475842818323\n    - halfEdge: 11\n      at: 0.22668159690567746\n    - halfEdge: -21\n      at: 0.4260220477604618\n    - halfEdge: -9\n      at: 0.2869889761197691\n    - halfEdge: -3\n      at: 0.4260220477604618\n    - halfEdge: 2\n      at: 0.22668159690567746\n    - halfEdge: 7\n      at: 0.12061475842818323\n    touches:\n    - halfEdge: 22\n      index: 2\n    - halfEdge: -10\n      index: 0\n    - halfEdge: 10\n      index: 3\n    - halfEdge: 11\n      index: 0\n    - halfEdge: -11\n      index: 0\n    - halfEdge: -21\n      index: 0\n    - halfEdge: 21\n      index: 2\n    - halfEdge: -9\n      index: 0\n    - halfEdge: 9\n      index: 2\n    - halfEdge: -3\n      index: 0\n    - halfEdge: 3\n      index: 0\n    - halfEdge: 2\n      index: 0\n    - halfEdge: -2\n      index: 1\n    - halfEdge: 7\n      index: 0\n    - halfEdge: -7\n      index: 1\n    - halfEdge: 17\n      index: 0\n  - source: 21\n    target: 8\n    vertical: true\n    boundary: false\n    vector:\n      x: 1.1133407984528387\n      y: -0.19631202149074067\n    crossings:\n    - halfEdge: -9\n      at: 0.6736481776669303\n    touches:\n    - halfEdge: 21\n      index: 0\n    - halfEdge: -9\n      index: 2\n    - halfEdge: 9\n      index: 0\n    - halfEdge: 8\n      index: 1\n  inside:\n  - 8\n  - -8\n  - 20\n  - -20\n- cylinder: true\n  perimeter:\n  - source: -6\n    target: 6\n    vertical: false\n    boundary: false\n    vector:\n      x: 0.8263518223330697\n      y: 0.3007674663608706\n    crossings: []\n    touches:\n    - halfEdge: -6\n      index: 0\n    - halfEdge: 6\n      index: 1\n  - source: 14\n    target: 4\n    vertical: true\n    boundary: true\n    vector:\n      x: -3.2057370639048863\n      y: 0.565257937423568\n    crossings:\n    - halfEdge: 15\n      at: 0.28311858285794855\n    - halfEdge: 26\n      at: 0.22668159690567746\n    - halfEdge: -23\n      at: 0.32635182233306964\n    - halfEdge: -12\n      at: 0.22668159690567746\n    - halfEdge: -5\n      at: 0.28311858285794855\n    touches:\n    - halfEdge: 14\n      index: 0\n    - halfEdge: 15\n      index: 0\n    - halfEdge: -15\n      index: 1\n    - halfEdge: 26\n      index: 0\n    - halfEdge: -26\n      index: 1\n    - halfEdge: -23\n      index: 0\n    - halfEdge: 23\n      index: 1\n    - halfEdge: -12\n      index: 0\n    - halfEdge: 12\n      index: 1\n    - halfEdge: -5\n      index: 0\n    - halfEdge: 5\n      index: 0\n    - halfEdge: 4\n      index: 0\n  - source: -13\n    target: -27\n    vertical: true\n    boundary: true\n    vector:\n      x: -1.7057370639048863\n      y: 0.3007674663608706\n    crossings:\n    - halfEdge: 24\n      at: 0.23395555688102196\n    touches:\n    - halfEdge: -13\n      index: 0\n    - halfEdge: 24\n      index: 0\n    - halfEdge: -24\n      index: 1\n    - halfEdge: -27\n      index: 0\n  - source: 6\n    target: -6\n    vertical: false\n    boundary: false\n    vector:\n      x: -0.8263518223330697\n      y: -0.3007674663608706\n    crossings: []\n    touches:\n    - halfEdge: 6\n      index: 0\n    - halfEdge: -6\n      index: 1\n  - source: -2\n    target: -4\n    vertical: true\n    boundary: true\n    vector:\n      x: 3.2057370639048863\n      y: -0.565257937423568\n    crossings:\n    - halfEdge: 7\n      at: 0.532088886237956\n    - halfEdge: 17\n      at: 0.4679111137620439\n    - halfEdge: 27\n      at: 0.12061475842818323\n    - halfEdge: -24\n      at: 0.09239626545204768\n    - halfEdge: -18\n      at: 0.12061475842818323\n    - halfEdge: 19\n      at: 0.4679111137620439\n    - halfEdge: -10\n      at: 0.532088886237956\n    touches:\n    - halfEdge: -2\n      index: 0\n    - halfEdge: 7\n      index: 0\n    - halfEdge: -7\n      index: 0\n    - halfEdge: 17\n      index: 0\n    - halfEdge: -17\n      index: 0\n    - halfEdge: 27\n      index: 0\n    - halfEdge: -27\n      index: 1\n    - halfEdge: -24\n      index: 0\n    - halfEdge: 24\n      index: 1\n    - halfEdge: -18\n      index: 0\n    - halfEdge: 18\n      index: 0\n    - halfEdge: 19\n      index: 0\n    - halfEdge: -19\n      index: 0\n    - halfEdge: -10\n      index: 0\n    - halfEdge: 10\n      index: 0\n    - halfEdge: -4\n      index: 0\n  - source: 13\n    target: -15\n    vertical: true\n    boundary: true\n    vector:\n      x: 1.7057370639048863\n      y: -0.3007674663608706\n    crossings:\n    - halfEdge: 12\n      at: 0.19934045085478438\n    - halfEdge: 23\n      at: 0.17364817766693036\n    - halfEdge: -26\n      at: 0.19934045085478438\n    touches:\n    - halfEdge: 13\n      index: 0\n    - halfEdge: 12\n      index: 0\n    - halfEdge: -12\n      index: 1\n    - halfEdge: 23\n      index: 0\n    - halfEdge: -23\n      index: 1\n    - halfEdge: -26\n      index: 0\n    - halfEdge: 26\n      index: 1\n    - halfEdge: -15\n      index: 0\n  inside:\n  - 4\n  - -4\n  - 6\n  - -6\n",_t=function(){var e=this,t=e.$createElement,n=e._self._c||t;return null!=e.cancellation&&e.visible?n("v-overlay",{staticClass:"loading-overlay",attrs:{opacity:.2,"z-index":0}},[n("v-container",[n("v-row",[n("v-col",[e._v(" "+e._s(e.name)+"… "),n("v-progress-circular",{attrs:{indeterminate:null==e.value,value:e.value}})],1)],1),n("v-row",[n("v-col",[n("v-btn",{attrs:{color:"error",dark:"",disabled:e.cancellation.cancelled},on:{click:function(){return e.cancellation.cancel()}}},[e._v("Cancel")])],1)],1)],1)],1):e._e()},Zt=[];let Pt=class extends o.w3{cancellation;progress;visible=!1;onCancellation(e){null==e?this.visible=!1:setTimeout((()=>{this.cancellation===e&&(this.visible=!0)}),150)}get name(){return this.progress.stats.name}get value(){return null==this.progress.stats.step||null==this.progress.stats.steps?null:this.progress.stats.step/this.progress.stats.steps*100}};(0,a.gn)([(0,o.fI)({required:!0})],Pt.prototype,"cancellation",void 0),(0,a.gn)([(0,o.fI)({required:!0})],Pt.prototype,"progress",void 0),(0,a.gn)([(0,o.RL)("cancellation",{immediate:!0})],Pt.prototype,"onCancellation",null),Pt=(0,a.gn)([o.wA],Pt);var Tt=Pt,It=Tt,Ot=n(3453),qt=n.n(Ot),jt=n(8205),At=n(7024),Mt=n(5799),zt=n(4656),Lt=n(6594),Rt=n(7894),Nt=(0,S.Z)(It,_t,Zt,!1,null,"3e466302",null),Vt=Nt.exports;qt()(Nt,{VBtn:jt.Z,VCol:At.Z,VContainer:Mt.Z,VOverlay:zt.Z,VProgressCircular:Lt.Z,VRow:Rt.Z});let Bt=class extends o.w3{raw=kt;editor=!1;svg=!1;svgExport=null;overlay=null;error=null;progress=null;async run(e){const t=new lt;this.overlay=t,this.progress=new at;try{await e(this.overlay,this.progress)}finally{this.overlay===t&&(this.overlay=null)}}onError(e=null){this.error=e}};(0,a.gn)([(0,o.DF)()],Bt.prototype,"run",null),Bt=(0,a.gn)([(0,o.wA)({components:{Overlay:Vt,PanZoom:_,SurfaceViewer:St}})],Bt);var Ht=Bt,Ft=Ht,Wt=n(9011),Dt=n(166),Gt=n(5255),Ut=n(9038),Jt=n(3240),Xt=n(8011),Yt=n(3623),Kt=n(464),Qt=n(2734),en=(0,S.Z)(Ft,r,i,!1,null,"34a12f70",null),tn=en.exports;qt()(en,{VApp:Wt.Z,VBtn:jt.Z,VCard:Dt.Z,VCardTitle:Gt.EB,VContainer:Mt.Z,VDialog:Ut.Z,VForm:Jt.Z,VIcon:Xt.Z,VMain:Yt.Z,VTextarea:Kt.Z,VToolbar:Qt.Z});var nn=n(6161);s.Z.config.productionTip=!1,s.Z.use(nn.Z),new s.Z({render:e=>e(tn),vuetify:new nn.Z({})}).$mount("#app")}},t={};function n(s){var r=t[s];if(void 0!==r)return r.exports;var i=t[s]={exports:{}};return e[s].call(i.exports,i,i.exports,n),i.exports}n.m=e,function(){var e=[];n.O=function(t,s,r,i){if(!s){var a=1/0;for(c=0;c<e.length;c++){s=e[c][0],r=e[c][1],i=e[c][2];for(var o=!0,l=0;l<s.length;l++)(!1&i||a>=i)&&Object.keys(n.O).every((function(e){return n.O[e](s[l])}))?s.splice(l--,1):(o=!1,i<a&&(a=i));if(o){e.splice(c--,1);var h=r();void 0!==h&&(t=h)}}return t}i=i||0;for(var c=e.length;c>0&&e[c-1][2]>i;c--)e[c]=e[c-1];e[c]=[s,r,i]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var s in t)n.o(t,s)&&!n.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,s){var r,i,a=s[0],o=s[1],l=s[2],h=0;for(r in o)n.o(o,r)&&(n.m[r]=o[r]);if(l)var c=l(n);for(t&&t(s);h<a.length;h++)i=a[h],n.o(e,i)&&e[i]&&e[i][0](),e[a[h]]=0;return n.O(c)},s=self["webpackChunkvue_flatsurf"]=self["webpackChunkvue_flatsurf"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=n.O(void 0,[998],(function(){return n(2475)}));s=n.O(s)})();
//# sourceMappingURL=app.da5a818d.js.map